(()=>{var uj=Object.create;var Qh=Object.defineProperty;var hj=Object.getOwnPropertyDescriptor;var dj=Object.getOwnPropertyNames;var cj=Object.getPrototypeOf,mj=Object.prototype.hasOwnProperty;var F8=a=>Qh(a,"__esModule",{value:!0});var z=(a,e)=>()=>(a&&(e=a(a=0)),e);var gj=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),Ua=(a,e)=>{F8(a);for(var i in e)Qh(a,i,{get:e[i],enumerable:!0})},Aj=(a,e,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of dj(e))!mj.call(a,n)&&n!=="default"&&Qh(a,n,{get:()=>e[n],enumerable:!(i=hj(e,n))||i.enumerable});return a},us=a=>Aj(F8(Qh(a!=null?uj(cj(a)):{},"default",a&&a.__esModule&&"default"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);function ca(a,e){return a==null||e==null?NaN:a<e?-1:a>e?1:a>=e?0:NaN}var jo=z(()=>{});function Br(a){let e=a,i=a,n=a;a.length===1&&(e=(s,h)=>a(s)-h,i=ca,n=(s,h)=>ca(a(s),h));function o(s,h,d=0,f=s.length){if(d<f){if(i(h,h)!==0)return f;do{let b=d+f>>>1;n(s[b],h)<0?d=b+1:f=b}while(d<f)}return d}function r(s,h,d=0,f=s.length){if(d<f){if(i(h,h)!==0)return f;do{let b=d+f>>>1;n(s[b],h)<=0?d=b+1:f=b}while(d<f)}return d}function t(s,h,d=0,f=s.length){let b=o(s,h,d,f-1);return b>d&&e(s[b-1],h)>-e(s[b],h)?b-1:b}return{left:o,center:t,right:r}}var Ig=z(()=>{jo()});function Il(a){return a===null?NaN:+a}function*N8(a,e){if(e===void 0)for(let i of a)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let n of a)(n=e(n,++i,a))!=null&&(n=+n)>=n&&(yield n)}}var Eg=z(()=>{});var x8,Fg,K8,W8,Wi,Ng=z(()=>{jo();Ig();Eg();x8=Br(ca),Fg=x8.right,K8=x8.left,W8=Br(Il).center,Wi=Fg});function Ro(a,e){let i=0;if(e===void 0)for(let n of a)n!=null&&(n=+n)>=n&&++i;else{let n=-1;for(let o of a)(o=e(o,++n,a))!=null&&(o=+o)>=o&&++i}return i}var El=z(()=>{});function vj(a){return a.length|0}function pj(a){return!(a>0)}function fj(a){return typeof a!="object"||"length"in a?a:Array.from(a)}function yj(a){return e=>a(...e)}function xg(...a){let e=typeof a[a.length-1]=="function"&&yj(a.pop());a=a.map(fj);let i=a.map(vj),n=a.length-1,o=new Array(n+1).fill(0),r=[];if(n<0||i.some(pj))return r;for(;;){r.push(o.map((s,h)=>a[h][s]));let t=n;for(;++o[t]===i[t];){if(t===0)return e?r.map(e):r;o[t--]=0}}}var q8=z(()=>{});function Kg(a,e){var i=0,n=0;return Float64Array.from(a,e===void 0?o=>i+=+o||0:o=>i+=+e(o,n++,a)||0)}var V8=z(()=>{});function Wg(a,e){return a==null||e==null?NaN:e<a?-1:e>a?1:e>=a?0:NaN}var O8=z(()=>{});function Fl(a,e){let i=0,n,o=0,r=0;if(e===void 0)for(let t of a)t!=null&&(t=+t)>=t&&(n=t-o,o+=n/++i,r+=n*(t-o));else{let t=-1;for(let s of a)(s=e(s,++t,a))!=null&&(s=+s)>=s&&(n=s-o,o+=n/++i,r+=n*(s-o))}if(i>1)return r/(i-1)}var qg=z(()=>{});function Nl(a,e){let i=Fl(a,e);return i&&Math.sqrt(i)}var Vg=z(()=>{qg()});function mt(a,e){let i,n;if(e===void 0)for(let o of a)o!=null&&(i===void 0?o>=o&&(i=n=o):(i>o&&(i=o),n<o&&(n=o)));else{let o=-1;for(let r of a)(r=e(r,++o,a))!=null&&(i===void 0?r>=r&&(i=n=r):(i>r&&(i=r),n<r&&(n=r)))}return[i,n]}var Og=z(()=>{});function Z8(a,e){let i=new xl;if(e===void 0)for(let n of a)(n=+n)&&i.add(n);else{let n=-1;for(let o of a)(o=+e(o,++n,a))&&i.add(o)}return+i}function U8(a,e){let i=new xl,n=-1;return Float64Array.from(a,e===void 0?o=>i.add(+o||0):o=>i.add(+e(o,++n,a)||0))}var xl,Y8=z(()=>{xl=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let i=this._partials,n=0;for(let o=0;o<this._n&&o<32;o++){let r=i[o],t=e+r,s=Math.abs(e)<Math.abs(r)?e-(t-r):r-(t-e);s&&(i[n++]=s),e=t}return i[n]=e,this._n=n+1,this}valueOf(){let e=this._partials,i=this._n,n,o,r,t=0;if(i>0){for(t=e[--i];i>0&&(n=t,o=e[--i],t=n+o,r=o-(t-n),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(o=r*2,n=t+o,o==n-t&&(t=n))}return t}}});function Ug({_intern:a,_key:e},i){let n=e(i);return a.has(n)?a.get(n):i}function X8({_intern:a,_key:e},i){let n=e(i);return a.has(n)?a.get(n):(a.set(n,i),i)}function Q8({_intern:a,_key:e},i){let n=e(i);return a.has(n)&&(i=a.get(i),a.delete(n)),i}function $8(a){return a!==null&&typeof a=="object"?a.valueOf():a}var ao,Zg,$h=z(()=>{ao=class extends Map{constructor(e,i=$8){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(let[n,o]of e)this.set(n,o)}get(e){return super.get(Ug(this,e))}has(e){return super.has(Ug(this,e))}set(e,i){return super.set(X8(this,e),i)}delete(e){return super.delete(Q8(this,e))}},Zg=class extends Set{constructor(e,i=$8){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(let n of e)this.add(n)}has(e){return super.has(Ug(this,e))}add(e){return super.add(X8(this,e))}delete(e){return super.delete(Q8(this,e))}}});function Lo(a){return a}var Yg=z(()=>{});function Kl(a,...e){return hs(a,Lo,Lo,e)}function Xg(a,...e){return hs(a,Array.from,Lo,e)}function _8(a,e){for(let i=1,n=e.length;i<n;++i)a=a.flatMap(o=>o.pop().map(([r,t])=>[...o,r,t]));return a}function eb(a,...e){return _8(Xg(a,...e),e)}function ab(a,e,...i){return _8(Qg(a,e,...i),i)}function _h(a,e,...i){return hs(a,Lo,e,i)}function Qg(a,e,...i){return hs(a,Array.from,e,i)}function ib(a,...e){return hs(a,Lo,ob,e)}function nb(a,...e){return hs(a,Array.from,ob,e)}function ob(a){if(a.length!==1)throw new Error("duplicate key");return a[0]}function hs(a,e,i,n){return function o(r,t){if(t>=n.length)return i(r);let s=new ao,h=n[t++],d=-1;for(let f of r){let b=h(f,++d,r),S=s.get(b);S?S.push(f):s.set(b,[f])}for(let[f,b]of s)s.set(f,o(b,t));return e(s)}(a,0)}var $g=z(()=>{$h();Yg()});function Wl(a,e){return Array.from(e,i=>a[i])}var _g=z(()=>{});function ds(a,...e){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");a=Array.from(a);let[i]=e;if(i&&i.length===1||e.length>1){let n=Uint32Array.from(a,(o,r)=>r);return e.length>1?(e=e.map(o=>a.map(o)),n.sort((o,r)=>{for(let t of e){let s=ql(t[o],t[r]);if(s)return s}})):(i=a.map(i),n.sort((o,r)=>ql(i[o],i[r]))),Wl(a,n)}return a.sort(i===void 0?ql:eA(i))}function eA(a){if(typeof a!="function")throw new TypeError("compare is not a function");return(e,i)=>{let n=a(e,i);return n||n===0?n:(a(i,i)===0)-(a(e,e)===0)}}function ql(a,e){return(a==null||!(a>=a))-(e==null||!(e>=e))||(a<e?-1:a>e?1:0)}var ed=z(()=>{_g()});function aA(a,e,i){return(e.length===1?ds(_h(a,e,i),([n,o],[r,t])=>ca(o,t)||ca(n,r)):ds(Kl(a,i),([n,o],[r,t])=>e(o,t)||ca(n,r))).map(([n])=>n)}var rb=z(()=>{jo();$g();ed()});var tb,sb,RN,lb=z(()=>{tb=Array.prototype,sb=tb.slice,RN=tb.map});function cs(a){return()=>a}var ub=z(()=>{});function io(a,e,i){var n,o=-1,r,t,s;if(e=+e,a=+a,i=+i,a===e&&i>0)return[a];if((n=e<a)&&(r=a,a=e,e=r),(s=Jo(a,e,i))===0||!isFinite(s))return[];if(s>0){let h=Math.round(a/s),d=Math.round(e/s);for(h*s<a&&++h,d*s>e&&--d,t=new Array(r=d-h+1);++o<r;)t[o]=(h+o)*s}else{s=-s;let h=Math.round(a*s),d=Math.round(e*s);for(h/s<a&&++h,d/s>e&&--d,t=new Array(r=d-h+1);++o<r;)t[o]=(h+o)/s}return n&&t.reverse(),t}function Jo(a,e,i){var n=(e-a)/Math.max(0,i),o=Math.floor(Math.log(n)/Math.LN10),r=n/Math.pow(10,o);return o>=0?(r>=iA?10:r>=nA?5:r>=oA?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=iA?10:r>=nA?5:r>=oA?2:1)}function gt(a,e,i){var n=Math.abs(e-a)/Math.max(0,i),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),r=n/o;return r>=iA?o*=10:r>=nA?o*=5:r>=oA&&(o*=2),e<a?-o:o}var iA,nA,oA,ad=z(()=>{iA=Math.sqrt(50),nA=Math.sqrt(10),oA=Math.sqrt(2)});function Vl(a,e,i){let n;for(;;){let o=Jo(a,e,i);if(o===n||o===0||!isFinite(o))return[a,e];o>0?(a=Math.floor(a/o)*o,e=Math.ceil(e/o)*o):o<0&&(a=Math.ceil(a*o)/o,e=Math.floor(e*o)/o),n=o}}var rA=z(()=>{ad()});function Ol(a){return Math.ceil(Math.log(Ro(a))/Math.LN2)+1}var tA=z(()=>{El()});function id(){var a=Lo,e=mt,i=Ol;function n(o){Array.isArray(o)||(o=Array.from(o));var r,t=o.length,s,h=new Array(t);for(r=0;r<t;++r)h[r]=a(o[r],r,o);var d=e(h),f=d[0],b=d[1],S=i(h,f,b);if(!Array.isArray(S)){let C=b,H=+S;if(e===mt&&([f,b]=Vl(f,b,H)),S=io(f,b,H),S[S.length-1]>=b)if(C>=b&&e===mt){let x=Jo(f,b,H);isFinite(x)&&(x>0?b=(Math.floor(b/x)+1)*x:x<0&&(b=(Math.ceil(b*-x)+1)/-x))}else S.pop()}for(var T=S.length;S[0]<=f;)S.shift(),--T;for(;S[T-1]>b;)S.pop(),--T;var j=new Array(T+1),J;for(r=0;r<=T;++r)J=j[r]=[],J.x0=r>0?S[r-1]:f,J.x1=r<T?S[r]:b;for(r=0;r<t;++r)s=h[r],s!=null&&f<=s&&s<=b&&j[Wi(S,s,0,T)].push(o[r]);return j}return n.value=function(o){return arguments.length?(a=typeof o=="function"?o:cs(o),n):a},n.domain=function(o){return arguments.length?(e=typeof o=="function"?o:cs([o[0],o[1]]),n):e},n.thresholds=function(o){return arguments.length?(i=typeof o=="function"?o:Array.isArray(o)?cs(sb.call(o)):cs(o),n):i},n}var hb=z(()=>{lb();Ng();ub();Og();Yg();rA();ad();tA()});function ms(a,e){let i;if(e===void 0)for(let n of a)n!=null&&(i<n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let o of a)(o=e(o,++n,a))!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}return i}var sA=z(()=>{});function Sr(a,e){let i;if(e===void 0)for(let n of a)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let o of a)(o=e(o,++n,a))!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}return i}var nd=z(()=>{});function gs(a,e,i=0,n=a.length-1,o){for(o=o===void 0?ql:eA(o);n>i;){if(n-i>600){let h=n-i+1,d=e-i+1,f=Math.log(h),b=.5*Math.exp(2*f/3),S=.5*Math.sqrt(f*b*(h-b)/h)*(d-h/2<0?-1:1),T=Math.max(i,Math.floor(e-d*b/h+S)),j=Math.min(n,Math.floor(e+(h-d)*b/h+S));gs(a,e,T,j,o)}let r=a[e],t=i,s=n;for(Zl(a,i,e),o(a[n],r)>0&&Zl(a,i,n);t<s;){for(Zl(a,t,s),++t,--s;o(a[t],r)<0;)++t;for(;o(a[s],r)>0;)--s}o(a[i],r)===0?Zl(a,i,s):(++s,Zl(a,s,n)),s<=e&&(i=s+1),e<=s&&(n=s-1)}return a}function Zl(a,e,i){let n=a[e];a[e]=a[i],a[i]=n}var lA=z(()=>{ed()});function no(a,e,i){if(a=Float64Array.from(N8(a,i)),!!(n=a.length)){if((e=+e)<=0||n<2)return Sr(a);if(e>=1)return ms(a);var n,o=(n-1)*e,r=Math.floor(o),t=ms(gs(a,r).subarray(0,r+1)),s=Sr(a.subarray(r+1));return t+(s-t)*(o-r)}}function od(a,e,i=Il){if(!!(n=a.length)){if((e=+e)<=0||n<2)return+i(a[0],0,a);if(e>=1)return+i(a[n-1],n-1,a);var n,o=(n-1)*e,r=Math.floor(o),t=+i(a[r],r,a),s=+i(a[r+1],r+1,a);return t+(s-t)*(o-r)}}var rd=z(()=>{sA();nd();lA();Eg()});function uA(a,e,i){return Math.ceil((i-e)/(2*(no(a,.75)-no(a,.25))*Math.pow(Ro(a),-1/3)))}var db=z(()=>{El();rd()});function hA(a,e,i){return Math.ceil((i-e)/(3.5*Nl(a)*Math.pow(Ro(a),-1/3)))}var cb=z(()=>{El();Vg()});function Ul(a,e){let i,n=-1,o=-1;if(e===void 0)for(let r of a)++o,r!=null&&(i<r||i===void 0&&r>=r)&&(i=r,n=o);else for(let r of a)(r=e(r,++o,a))!=null&&(i<r||i===void 0&&r>=r)&&(i=r,n=o);return n}var dA=z(()=>{});function cA(a,e){let i=0,n=0;if(e===void 0)for(let o of a)o!=null&&(o=+o)>=o&&(++i,n+=o);else{let o=-1;for(let r of a)(r=e(r,++o,a))!=null&&(r=+r)>=r&&(++i,n+=r)}if(i)return n/i}var mb=z(()=>{});function mA(a,e){return no(a,.5,e)}var gb=z(()=>{rd()});function*kj(a){for(let e of a)yield*e}function gA(a){return Array.from(kj(a))}var Ab=z(()=>{});function Yl(a,e){let i,n=-1,o=-1;if(e===void 0)for(let r of a)++o,r!=null&&(i>r||i===void 0&&r>=r)&&(i=r,n=o);else for(let r of a)(r=e(r,++o,a))!=null&&(i>r||i===void 0&&r>=r)&&(i=r,n=o);return n}var AA=z(()=>{});function vA(a,e){let i=new ao;if(e===void 0)for(let r of a)r!=null&&r>=r&&i.set(r,(i.get(r)||0)+1);else{let r=-1;for(let t of a)(t=e(t,++r,a))!=null&&t>=t&&i.set(t,(i.get(t)||0)+1)}let n,o=0;for(let[r,t]of i)t>o&&(o=t,n=r);return n}var vb=z(()=>{$h()});function pA(a,e=bj){let i=[],n,o=!1;for(let r of a)o&&i.push(e(n,r)),n=r,o=!0;return i}function bj(a,e){return[a,e]}var pb=z(()=>{});function Xl(a,e,i){a=+a,e=+e,i=(o=arguments.length)<2?(e=a,a=0,1):o<3?1:+i;for(var n=-1,o=Math.max(0,Math.ceil((e-a)/i))|0,r=new Array(o);++n<o;)r[n]=a+n*i;return r}var fb=z(()=>{});function fA(a,e=ca){let i,n=!1;if(e.length===1){let o;for(let r of a){let t=e(r);(n?ca(t,o)<0:ca(t,t)===0)&&(i=r,o=t,n=!0)}}else for(let o of a)(n?e(o,i)<0:e(o,o)===0)&&(i=o,n=!0);return i}var yb=z(()=>{jo()});function Ql(a,e=ca){if(e.length===1)return Yl(a,e);let i,n=-1,o=-1;for(let r of a)++o,(n<0?e(r,r)===0:e(r,i)<0)&&(i=r,n=o);return n}var yA=z(()=>{jo();AA()});function kA(a,e=ca){let i,n=!1;if(e.length===1){let o;for(let r of a){let t=e(r);(n?ca(t,o)>0:ca(t,t)===0)&&(i=r,o=t,n=!0)}}else for(let o of a)(n?e(o,i)>0:e(o,o)===0)&&(i=o,n=!0);return i}var kb=z(()=>{jo()});function bA(a,e=ca){if(e.length===1)return Ul(a,e);let i,n=-1,o=-1;for(let r of a)++o,(n<0?e(r,r)===0:e(r,i)>0)&&(i=r,n=o);return n}var bb=z(()=>{jo();dA()});function BA(a,e){let i=Ql(a,e);return i<0?void 0:i}var Bb=z(()=>{yA()});function SA(a){return function(i,n=0,o=i.length){let r=o-(n=+n);for(;r;){let t=a()*r--|0,s=i[r+n];i[r+n]=i[t+n],i[t+n]=s}return i}}var Sb,zb=z(()=>{Sb=SA(Math.random)});function zA(a,e){let i=0;if(e===void 0)for(let n of a)(n=+n)&&(i+=n);else{let n=-1;for(let o of a)(o=+e(o,++n,a))&&(i+=o)}return i}var wb=z(()=>{});function $l(a){if(!(r=a.length))return[];for(var e=-1,i=Sr(a,Bj),n=new Array(i);++e<i;)for(var o=-1,r,t=n[e]=new Array(r);++o<r;)t[o]=a[o][e];return n}function Bj(a){return a.length}var wA=z(()=>{nd()});function MA(){return $l(arguments)}var Mb=z(()=>{wA()});function CA(a,e){if(typeof e!="function")throw new TypeError("test is not a function");let i=-1;for(let n of a)if(!e(n,++i,a))return!1;return!0}var Cb=z(()=>{});function TA(a,e){if(typeof e!="function")throw new TypeError("test is not a function");let i=-1;for(let n of a)if(e(n,++i,a))return!0;return!1}var Tb=z(()=>{});function PA(a,e){if(typeof e!="function")throw new TypeError("test is not a function");let i=[],n=-1;for(let o of a)e(o,++n,a)&&i.push(o);return i}var Pb=z(()=>{});function jA(a,e){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof e!="function")throw new TypeError("mapper is not a function");return Array.from(a,(i,n)=>e(i,n,a))}var jb=z(()=>{});function RA(a,e,i){if(typeof e!="function")throw new TypeError("reducer is not a function");let n=a[Symbol.iterator](),o,r,t=-1;if(arguments.length<3){if({done:o,value:i}=n.next(),o)return;++t}for(;{done:o,value:r}=n.next(),!o;)i=e(i,r,++t,a);return i}var Rb=z(()=>{});function LA(a){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(a).reverse()}var Lb=z(()=>{});function JA(a,...e){a=new Set(a);for(let i of e)for(let n of i)a.delete(n);return a}var Jb=z(()=>{});function DA(a,e){let i=e[Symbol.iterator](),n=new Set;for(let o of a){if(n.has(o))return!1;let r,t;for(;({value:r,done:t}=i.next())&&!t;){if(Object.is(o,r))return!1;n.add(r)}}return!0}var Db=z(()=>{});function HA(a){return a instanceof Set?a:new Set(a)}var Hb=z(()=>{});function GA(a,...e){a=new Set(a),e=e.map(HA);e:for(let i of a)for(let n of e)if(!n.has(i)){a.delete(i);continue e}return a}var Gb=z(()=>{Hb()});function _l(a,e){let i=a[Symbol.iterator](),n=new Set;for(let o of e){if(n.has(o))continue;let r,t;for(;{value:r,done:t}=i.next();){if(t)return!1;if(n.add(r),Object.is(o,r))break}}return!0}var IA=z(()=>{});function EA(a,e){return _l(e,a)}var Ib=z(()=>{IA()});function FA(...a){let e=new Set;for(let i of a)for(let n of i)e.add(n);return e}var Eb=z(()=>{});var Fb={};Ua(Fb,{Adder:()=>xl,InternMap:()=>ao,InternSet:()=>Zg,ascending:()=>ca,bin:()=>id,bisect:()=>Wi,bisectCenter:()=>W8,bisectLeft:()=>K8,bisectRight:()=>Fg,bisector:()=>Br,count:()=>Ro,cross:()=>xg,cumsum:()=>Kg,descending:()=>Wg,deviation:()=>Nl,difference:()=>JA,disjoint:()=>DA,every:()=>CA,extent:()=>mt,fcumsum:()=>U8,filter:()=>PA,flatGroup:()=>eb,flatRollup:()=>ab,fsum:()=>Z8,greatest:()=>kA,greatestIndex:()=>bA,group:()=>Kl,groupSort:()=>aA,groups:()=>Xg,histogram:()=>id,index:()=>ib,indexes:()=>nb,intersection:()=>GA,least:()=>fA,leastIndex:()=>Ql,map:()=>jA,max:()=>ms,maxIndex:()=>Ul,mean:()=>cA,median:()=>mA,merge:()=>gA,min:()=>Sr,minIndex:()=>Yl,mode:()=>vA,nice:()=>Vl,pairs:()=>pA,permute:()=>Wl,quantile:()=>no,quantileSorted:()=>od,quickselect:()=>gs,range:()=>Xl,reduce:()=>RA,reverse:()=>LA,rollup:()=>_h,rollups:()=>Qg,scan:()=>BA,shuffle:()=>Sb,shuffler:()=>SA,some:()=>TA,sort:()=>ds,subset:()=>EA,sum:()=>zA,superset:()=>_l,thresholdFreedmanDiaconis:()=>uA,thresholdScott:()=>hA,thresholdSturges:()=>Ol,tickIncrement:()=>Jo,tickStep:()=>gt,ticks:()=>io,transpose:()=>$l,union:()=>FA,variance:()=>Fl,zip:()=>MA});var qi=z(()=>{Ng();jo();Ig();El();q8();V8();O8();Vg();Og();Y8();$g();rb();hb();db();cb();tA();sA();dA();mb();gb();Ab();nd();AA();vb();rA();pb();_g();rd();lA();fb();yb();yA();kb();bb();Bb();zb();wb();ad();wA();qg();Mb();Cb();Tb();Pb();jb();Rb();Lb();ed();Jb();Db();Gb();Ib();IA();Eb();$h()});function Nb(){for(var a=0,e=arguments.length,i={},n;a<e;++a){if(!(n=arguments[a]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new td(i)}function td(a){this._=a}function zj(a,e){return a.trim().split(/^|\s+/).map(function(i){var n="",o=i.indexOf(".");if(o>=0&&(n=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}function wj(a,e){for(var i=0,n=a.length,o;i<n;++i)if((o=a[i]).name===e)return o.value}function xb(a,e,i){for(var n=0,o=a.length;n<o;++n)if(a[n].name===e){a[n]=Sj,a=a.slice(0,n).concat(a.slice(n+1));break}return i!=null&&a.push({name:e,value:i}),a}var Sj,oo,Kb=z(()=>{Sj={value:()=>{}};td.prototype=Nb.prototype={constructor:td,on:function(a,e){var i=this._,n=zj(a+"",i),o,r=-1,t=n.length;if(arguments.length<2){for(;++r<t;)if((o=(a=n[r]).type)&&(o=wj(i[o],a.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<t;)if(o=(a=n[r]).type)i[o]=xb(i[o],a.name,e);else if(e==null)for(o in i)i[o]=xb(i[o],a.name,null);return this},copy:function(){var a={},e=this._;for(var i in e)a[i]=e[i].slice();return new td(a)},call:function(a,e){if((o=arguments.length-2)>0)for(var i=new Array(o),n=0,o,r;n<o;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(r=this._[a],n=0,o=r.length;n<o;++n)r[n].value.apply(e,i)},apply:function(a,e,i){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var n=this._[a],o=0,r=n.length;o<r;++o)n[o].value.apply(e,i)}};oo=Nb});var Wb={};Ua(Wb,{dispatch:()=>oo});var As=z(()=>{Kb()});var sd,eu,ld=z(()=>{sd="http://www.w3.org/1999/xhtml",eu={svg:"http://www.w3.org/2000/svg",xhtml:sd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function ro(a){var e=a+="",i=e.indexOf(":");return i>=0&&(e=a.slice(0,i))!=="xmlns"&&(a=a.slice(i+1)),eu.hasOwnProperty(e)?{space:eu[e],local:a}:a}var ud=z(()=>{ld()});function Mj(a){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===sd&&e.documentElement.namespaceURI===sd?e.createElement(a):e.createElementNS(i,a)}}function Cj(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function zr(a){var e=ro(a);return(e.local?Cj:Mj)(e)}var au=z(()=>{ud();ld()});function Tj(){}function wr(a){return a==null?Tj:function(){return this.querySelector(a)}}var hd=z(()=>{});function qb(a){typeof a!="function"&&(a=wr(a));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],t=r.length,s=n[o]=new Array(t),h,d,f=0;f<t;++f)(h=r[f])&&(d=a.call(h,h.__data__,f,r))&&("__data__"in h&&(d.__data__=h.__data__),s[f]=d);return new ka(n,this._parents)}var Vb=z(()=>{bn();hd()});function iu(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}var NA=z(()=>{});function Pj(){return[]}function vs(a){return a==null?Pj:function(){return this.querySelectorAll(a)}}var xA=z(()=>{});function jj(a){return function(){return iu(a.apply(this,arguments))}}function Ob(a){typeof a=="function"?a=jj(a):a=vs(a);for(var e=this._groups,i=e.length,n=[],o=[],r=0;r<i;++r)for(var t=e[r],s=t.length,h,d=0;d<s;++d)(h=t[d])&&(n.push(a.call(h,h.__data__,d,t)),o.push(h));return new ka(n,o)}var Zb=z(()=>{bn();NA();xA()});function ps(a){return function(){return this.matches(a)}}function dd(a){return function(e){return e.matches(a)}}var nu=z(()=>{});function Lj(a){return function(){return Rj.call(this.children,a)}}function Jj(){return this.firstElementChild}function Ub(a){return this.select(a==null?Jj:Lj(typeof a=="function"?a:dd(a)))}var Rj,Yb=z(()=>{nu();Rj=Array.prototype.find});function Hj(){return Array.from(this.children)}function Gj(a){return function(){return Dj.call(this.children,a)}}function Xb(a){return this.selectAll(a==null?Hj:Gj(typeof a=="function"?a:dd(a)))}var Dj,Qb=z(()=>{nu();Dj=Array.prototype.filter});function $b(a){typeof a!="function"&&(a=ps(a));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],t=r.length,s=n[o]=[],h,d=0;d<t;++d)(h=r[d])&&a.call(h,h.__data__,d,r)&&s.push(h);return new ka(n,this._parents)}var _b=z(()=>{bn();nu()});function cd(a){return new Array(a.length)}var KA=z(()=>{});function e0(){return new ka(this._enter||this._groups.map(cd),this._parents)}function ou(a,e){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=e}var WA=z(()=>{KA();bn();ou.prototype={constructor:ou,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,e){return this._parent.insertBefore(a,e)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}}});function a0(a){return function(){return a}}var i0=z(()=>{});function Ij(a,e,i,n,o,r){for(var t=0,s,h=e.length,d=r.length;t<d;++t)(s=e[t])?(s.__data__=r[t],n[t]=s):i[t]=new ou(a,r[t]);for(;t<h;++t)(s=e[t])&&(o[t]=s)}function Ej(a,e,i,n,o,r,t){var s,h,d=new Map,f=e.length,b=r.length,S=new Array(f),T;for(s=0;s<f;++s)(h=e[s])&&(S[s]=T=t.call(h,h.__data__,s,e)+"",d.has(T)?o[s]=h:d.set(T,h));for(s=0;s<b;++s)T=t.call(a,r[s],s,r)+"",(h=d.get(T))?(n[s]=h,h.__data__=r[s],d.delete(T)):i[s]=new ou(a,r[s]);for(s=0;s<f;++s)(h=e[s])&&d.get(S[s])===h&&(o[s]=h)}function Fj(a){return a.__data__}function n0(a,e){if(!arguments.length)return Array.from(this,Fj);var i=e?Ej:Ij,n=this._parents,o=this._groups;typeof a!="function"&&(a=a0(a));for(var r=o.length,t=new Array(r),s=new Array(r),h=new Array(r),d=0;d<r;++d){var f=n[d],b=o[d],S=b.length,T=Nj(a.call(f,f&&f.__data__,d,n)),j=T.length,J=s[d]=new Array(j),C=t[d]=new Array(j),H=h[d]=new Array(S);i(f,b,J,C,H,T,e);for(var x=0,V=0,F,U;x<j;++x)if(F=J[x]){for(x>=V&&(V=x+1);!(U=C[V])&&++V<j;);F._next=U||null}}return t=new ka(t,n),t._enter=s,t._exit=h,t}function Nj(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}var o0=z(()=>{bn();WA();i0()});function r0(){return new ka(this._exit||this._groups.map(cd),this._parents)}var t0=z(()=>{KA();bn()});function s0(a,e,i){var n=this.enter(),o=this,r=this.exit();return typeof a=="function"?(n=a(n),n&&(n=n.selection())):n=n.append(a+""),e!=null&&(o=e(o),o&&(o=o.selection())),i==null?r.remove():i(r),n&&o?n.merge(o).order():o}var l0=z(()=>{});function u0(a){for(var e=a.selection?a.selection():a,i=this._groups,n=e._groups,o=i.length,r=n.length,t=Math.min(o,r),s=new Array(o),h=0;h<t;++h)for(var d=i[h],f=n[h],b=d.length,S=s[h]=new Array(b),T,j=0;j<b;++j)(T=d[j]||f[j])&&(S[j]=T);for(;h<o;++h)s[h]=i[h];return new ka(s,this._parents)}var h0=z(()=>{bn()});function d0(){for(var a=this._groups,e=-1,i=a.length;++e<i;)for(var n=a[e],o=n.length-1,r=n[o],t;--o>=0;)(t=n[o])&&(r&&t.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(t,r),r=t);return this}var c0=z(()=>{});function m0(a){a||(a=xj);function e(b,S){return b&&S?a(b.__data__,S.__data__):!b-!S}for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r){for(var t=i[r],s=t.length,h=o[r]=new Array(s),d,f=0;f<s;++f)(d=t[f])&&(h[f]=d);h.sort(e)}return new ka(o,this._parents).order()}function xj(a,e){return a<e?-1:a>e?1:a>=e?0:NaN}var g0=z(()=>{bn()});function A0(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}var v0=z(()=>{});function p0(){return Array.from(this)}var f0=z(()=>{});function y0(){for(var a=this._groups,e=0,i=a.length;e<i;++e)for(var n=a[e],o=0,r=n.length;o<r;++o){var t=n[o];if(t)return t}return null}var k0=z(()=>{});function b0(){let a=0;for(let e of this)++a;return a}var B0=z(()=>{});function S0(){return!this.node()}var z0=z(()=>{});function w0(a){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var o=e[i],r=0,t=o.length,s;r<t;++r)(s=o[r])&&a.call(s,s.__data__,r,o);return this}var M0=z(()=>{});function Kj(a){return function(){this.removeAttribute(a)}}function Wj(a){return function(){this.removeAttributeNS(a.space,a.local)}}function qj(a,e){return function(){this.setAttribute(a,e)}}function Vj(a,e){return function(){this.setAttributeNS(a.space,a.local,e)}}function Oj(a,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(a):this.setAttribute(a,i)}}function Zj(a,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,i)}}function C0(a,e){var i=ro(a);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((e==null?i.local?Wj:Kj:typeof e=="function"?i.local?Zj:Oj:i.local?Vj:qj)(i,e))}var T0=z(()=>{ud()});function fs(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}var md=z(()=>{});function Uj(a){return function(){this.style.removeProperty(a)}}function Yj(a,e,i){return function(){this.style.setProperty(a,e,i)}}function Xj(a,e,i){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(a):this.style.setProperty(a,n,i)}}function P0(a,e,i){return arguments.length>1?this.each((e==null?Uj:typeof e=="function"?Xj:Yj)(a,e,i??"")):Do(this.node(),a)}function Do(a,e){return a.style.getPropertyValue(e)||fs(a).getComputedStyle(a,null).getPropertyValue(e)}var qA=z(()=>{md()});function Qj(a){return function(){delete this[a]}}function $j(a,e){return function(){this[a]=e}}function _j(a,e){return function(){var i=e.apply(this,arguments);i==null?delete this[a]:this[a]=i}}function j0(a,e){return arguments.length>1?this.each((e==null?Qj:typeof e=="function"?_j:$j)(a,e)):this.node()[a]}var R0=z(()=>{});function L0(a){return a.trim().split(/^|\s+/)}function VA(a){return a.classList||new J0(a)}function J0(a){this._node=a,this._names=L0(a.getAttribute("class")||"")}function D0(a,e){for(var i=VA(a),n=-1,o=e.length;++n<o;)i.add(e[n])}function H0(a,e){for(var i=VA(a),n=-1,o=e.length;++n<o;)i.remove(e[n])}function eR(a){return function(){D0(this,a)}}function aR(a){return function(){H0(this,a)}}function iR(a,e){return function(){(e.apply(this,arguments)?D0:H0)(this,a)}}function G0(a,e){var i=L0(a+"");if(arguments.length<2){for(var n=VA(this.node()),o=-1,r=i.length;++o<r;)if(!n.contains(i[o]))return!1;return!0}return this.each((typeof e=="function"?iR:e?eR:aR)(i,e))}var I0=z(()=>{J0.prototype={add:function(a){var e=this._names.indexOf(a);e<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var e=this._names.indexOf(a);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}}});function nR(){this.textContent=""}function oR(a){return function(){this.textContent=a}}function rR(a){return function(){var e=a.apply(this,arguments);this.textContent=e??""}}function E0(a){return arguments.length?this.each(a==null?nR:(typeof a=="function"?rR:oR)(a)):this.node().textContent}var F0=z(()=>{});function tR(){this.innerHTML=""}function sR(a){return function(){this.innerHTML=a}}function lR(a){return function(){var e=a.apply(this,arguments);this.innerHTML=e??""}}function N0(a){return arguments.length?this.each(a==null?tR:(typeof a=="function"?lR:sR)(a)):this.node().innerHTML}var x0=z(()=>{});function uR(){this.nextSibling&&this.parentNode.appendChild(this)}function K0(){return this.each(uR)}var W0=z(()=>{});function hR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function q0(){return this.each(hR)}var V0=z(()=>{});function O0(a){var e=typeof a=="function"?a:zr(a);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}var Z0=z(()=>{au()});function dR(){return null}function U0(a,e){var i=typeof a=="function"?a:zr(a),n=e==null?dR:typeof e=="function"?e:wr(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}var Y0=z(()=>{au();hd()});function cR(){var a=this.parentNode;a&&a.removeChild(this)}function X0(){return this.each(cR)}var Q0=z(()=>{});function mR(){var a=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(a,this.nextSibling):a}function gR(){var a=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(a,this.nextSibling):a}function $0(a){return this.select(a?gR:mR)}var _0=z(()=>{});function e2(a){return arguments.length?this.property("__data__",a):this.node().__data__}var a2=z(()=>{});function AR(a){return function(e){a.call(this,e,this.__data__)}}function vR(a){return a.trim().split(/^|\s+/).map(function(e){var i="",n=e.indexOf(".");return n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),{type:e,name:i}})}function pR(a){return function(){var e=this.__on;if(!!e){for(var i=0,n=-1,o=e.length,r;i<o;++i)r=e[i],(!a.type||r.type===a.type)&&r.name===a.name?this.removeEventListener(r.type,r.listener,r.options):e[++n]=r;++n?e.length=n:delete this.__on}}}function fR(a,e,i){return function(){var n=this.__on,o,r=AR(e);if(n){for(var t=0,s=n.length;t<s;++t)if((o=n[t]).type===a.type&&o.name===a.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=i),o.value=e;return}}this.addEventListener(a.type,r,i),o={type:a.type,name:a.name,value:e,listener:r,options:i},n?n.push(o):this.__on=[o]}}function i2(a,e,i){var n=vR(a+""),o,r=n.length,t;if(arguments.length<2){var s=this.node().__on;if(s){for(var h=0,d=s.length,f;h<d;++h)for(o=0,f=s[h];o<r;++o)if((t=n[o]).type===f.type&&t.name===f.name)return f.value}return}for(s=e?fR:pR,o=0;o<r;++o)this.each(s(n[o],e,i));return this}var n2=z(()=>{});function o2(a,e,i){var n=fs(a),o=n.CustomEvent;typeof o=="function"?o=new o(e,i):(o=n.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),a.dispatchEvent(o)}function yR(a,e){return function(){return o2(this,a,e)}}function kR(a,e){return function(){return o2(this,a,e.apply(this,arguments))}}function r2(a,e){return this.each((typeof e=="function"?kR:yR)(a,e))}var t2=z(()=>{md()});function*s2(){for(var a=this._groups,e=0,i=a.length;e<i;++e)for(var n=a[e],o=0,r=n.length,t;o<r;++o)(t=n[o])&&(yield t)}var l2=z(()=>{});function ka(a,e){this._groups=a,this._parents=e}function u2(){return new ka([[document.documentElement]],ru)}function bR(){return this}var ru,to,bn=z(()=>{Vb();Zb();Yb();Qb();_b();o0();WA();t0();l0();h0();c0();g0();v0();f0();k0();B0();z0();M0();T0();qA();R0();I0();F0();x0();W0();V0();Z0();Y0();Q0();_0();a2();n2();t2();l2();ru=[null];ka.prototype=u2.prototype={constructor:ka,select:qb,selectAll:Ob,selectChild:Ub,selectChildren:Xb,filter:$b,data:n0,enter:e0,exit:r0,join:s0,merge:u0,selection:bR,order:d0,sort:m0,call:A0,nodes:p0,node:y0,size:b0,empty:S0,each:w0,attr:C0,style:P0,property:j0,classed:G0,text:E0,html:N0,raise:K0,lower:q0,append:O0,insert:U0,remove:X0,clone:$0,datum:e2,on:i2,dispatch:r2,[Symbol.iterator]:s2};to=u2});function Ma(a){return typeof a=="string"?new ka([[document.querySelector(a)]],[document.documentElement]):new ka([[a]],ru)}var OA=z(()=>{bn()});function h2(a){return Ma(zr(a).call(document.documentElement))}var d2=z(()=>{au();OA()});function gd(){return new ZA}function ZA(){this._="@"+(++BR).toString(36)}var BR,c2=z(()=>{BR=0;ZA.prototype=gd.prototype={constructor:ZA,get:function(a){for(var e=this._;!(e in a);)if(!(a=a.parentNode))return;return a[e]},set:function(a,e){return a[this._]=e},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}}});function Ad(a){let e;for(;e=a.sourceEvent;)a=e;return a}var UA=z(()=>{});function Ri(a,e){if(a=Ad(a),e===void 0&&(e=a.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=a.clientX,n.y=a.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[a.clientX-o.left-e.clientLeft,a.clientY-o.top-e.clientTop]}}return[a.pageX,a.pageY]}var YA=z(()=>{UA()});function m2(a,e){return a.target&&(a=Ad(a),e===void 0&&(e=a.currentTarget),a=a.touches||[a]),Array.from(a,i=>Ri(i,e))}var g2=z(()=>{YA();UA()});function A2(a){return typeof a=="string"?new ka([document.querySelectorAll(a)],[document.documentElement]):new ka([iu(a)],ru)}var v2=z(()=>{NA();bn()});var p2={};Ua(p2,{create:()=>h2,creator:()=>zr,local:()=>gd,matcher:()=>ps,namespace:()=>ro,namespaces:()=>eu,pointer:()=>Ri,pointers:()=>m2,select:()=>Ma,selectAll:()=>A2,selection:()=>to,selector:()=>wr,selectorAll:()=>vs,style:()=>Do,window:()=>fs});var Li=z(()=>{d2();au();c2();nu();ud();ld();YA();g2();OA();v2();bn();hd();xA();qA();md()});function pd(a){a.preventDefault(),a.stopImmediatePropagation()}var vd,f2=z(()=>{vd={capture:!0,passive:!1}});function tu(a){var e=a.document.documentElement,i=Ma(a).on("dragstart.drag",pd,vd);"onselectstart"in e?i.on("selectstart.drag",pd,vd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function su(a,e){var i=a.document.documentElement,n=Ma(a).on("dragstart.drag",null);e&&(n.on("click.drag",pd,vd),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in i?n.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}var y2=z(()=>{Li();f2()});var fd=z(()=>{y2()});function ys(a,e,i){a.prototype=e.prototype=i,i.constructor=a}function lu(a,e){var i=Object.create(a.prototype);for(var n in e)i[n]=e[n];return i}var XA=z(()=>{});function At(){}function b2(){return this.rgb().formatHex()}function jR(){return C2(this).formatHsl()}function B2(){return this.rgb().formatRgb()}function fi(a){var e,i;return a=(a+"").trim().toLowerCase(),(e=SR.exec(a))?(i=e[1].length,e=parseInt(e[1],16),i===6?S2(e):i===3?new yi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zR.exec(a))?new yi(e[1],e[2],e[3],1):(e=wR.exec(a))?new yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MR.exec(a))?yd(e[1],e[2],e[3],e[4]):(e=CR.exec(a))?yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TR.exec(a))?M2(e[1],e[2]/100,e[3]/100,1):(e=PR.exec(a))?M2(e[1],e[2]/100,e[3]/100,e[4]):k2.hasOwnProperty(a)?S2(k2[a]):a==="transparent"?new yi(NaN,NaN,NaN,0):null}function S2(a){return new yi(a>>16&255,a>>8&255,a&255,1)}function yd(a,e,i,n){return n<=0&&(a=e=i=NaN),new yi(a,e,i,n)}function QA(a){return a instanceof At||(a=fi(a)),a?(a=a.rgb(),new yi(a.r,a.g,a.b,a.opacity)):new yi}function Cr(a,e,i,n){return arguments.length===1?QA(a):new yi(a,e,i,n??1)}function yi(a,e,i,n){this.r=+a,this.g=+e,this.b=+i,this.opacity=+n}function z2(){return"#"+$A(this.r)+$A(this.g)+$A(this.b)}function w2(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(a===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(a===1?")":", "+a+")")}function $A(a){return a=Math.max(0,Math.min(255,Math.round(a)||0)),(a<16?"0":"")+a.toString(16)}function M2(a,e,i,n){return n<=0?a=e=i=NaN:i<=0||i>=1?a=e=NaN:e<=0&&(a=NaN),new lo(a,e,i,n)}function C2(a){if(a instanceof lo)return new lo(a.h,a.s,a.l,a.opacity);if(a instanceof At||(a=fi(a)),!a)return new lo;if(a instanceof lo)return a;a=a.rgb();var e=a.r/255,i=a.g/255,n=a.b/255,o=Math.min(e,i,n),r=Math.max(e,i,n),t=NaN,s=r-o,h=(r+o)/2;return s?(e===r?t=(i-n)/s+(i<n)*6:i===r?t=(n-e)/s+2:t=(e-i)/s+4,s/=h<.5?r+o:2-r-o,t*=60):s=h>0&&h<1?0:t,new lo(t,s,h,a.opacity)}function T2(a,e,i,n){return arguments.length===1?C2(a):new lo(a,e,i,n??1)}function lo(a,e,i,n){this.h=+a,this.s=+e,this.l=+i,this.opacity=+n}function _A(a,e,i){return(a<60?e+(i-e)*a/60:a<180?i:a<240?e+(i-e)*(240-a)/60:e)*255}var Mr,vt,ks,uu,so,SR,zR,wR,MR,CR,TR,PR,k2,ev=z(()=>{XA();Mr=.7,vt=1/Mr,ks="\\s*([+-]?\\d+)\\s*",uu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SR=/^#([0-9a-f]{3,8})$/,zR=new RegExp("^rgb\\("+[ks,ks,ks]+"\\)$"),wR=new RegExp("^rgb\\("+[so,so,so]+"\\)$"),MR=new RegExp("^rgba\\("+[ks,ks,ks,uu]+"\\)$"),CR=new RegExp("^rgba\\("+[so,so,so,uu]+"\\)$"),TR=new RegExp("^hsl\\("+[uu,so,so]+"\\)$"),PR=new RegExp("^hsla\\("+[uu,so,so,uu]+"\\)$"),k2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ys(At,fi,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:b2,formatHex:b2,formatHsl:jR,formatRgb:B2,toString:B2});ys(yi,Cr,lu(At,{brighter:function(a){return a=a==null?vt:Math.pow(vt,a),new yi(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=a==null?Mr:Math.pow(Mr,a),new yi(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z2,formatHex:z2,formatRgb:w2,toString:w2}));ys(lo,T2,lu(At,{brighter:function(a){return a=a==null?vt:Math.pow(vt,a),new lo(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=a==null?Mr:Math.pow(Mr,a),new lo(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+(this.h<0)*360,e=isNaN(a)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,o=2*i-n;return new yi(_A(a>=240?a-240:a+120,o,n),_A(a,o,n),_A(a<120?a+240:a-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(a===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(a===1?")":", "+a+")")}}))});var P2,j2,R2=z(()=>{P2=Math.PI/180,j2=180/Math.PI});function RR(a){if(a instanceof pt)return new pt(a.h,a.s,a.l,a.opacity);a instanceof yi||(a=QA(a));var e=a.r/255,i=a.g/255,n=a.b/255,o=(H2*n+J2*e-D2*i)/(H2+J2-D2),r=n-o,t=(hu*(i-o)-iv*r)/kd,s=Math.sqrt(t*t+r*r)/(hu*o*(1-o)),h=s?Math.atan2(t,r)*j2-120:NaN;return new pt(h<0?h+360:h,s,o,a.opacity)}function Ji(a,e,i,n){return arguments.length===1?RR(a):new pt(a,e,i,n??1)}function pt(a,e,i,n){this.h=+a,this.s=+e,this.l=+i,this.opacity=+n}var L2,av,iv,kd,hu,J2,D2,H2,G2=z(()=>{XA();ev();R2();L2=-.14861,av=1.78277,iv=-.29227,kd=-.90649,hu=1.97294,J2=hu*kd,D2=hu*av,H2=av*iv-kd*L2;ys(pt,Ji,lu(At,{brighter:function(a){return a=a==null?vt:Math.pow(vt,a),new pt(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=a==null?Mr:Math.pow(Mr,a),new pt(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*P2,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(a),o=Math.sin(a);return new yi(255*(e+i*(L2*n+av*o)),255*(e+i*(iv*n+kd*o)),255*(e+i*(hu*n)),this.opacity)}}))});var Ho=z(()=>{ev();G2()});function nv(a,e,i,n,o){var r=a*a,t=r*a;return((1-3*a+3*r-t)*e+(4-6*r+3*t)*i+(1+3*a+3*r-3*t)*n+t*o)/6}function I2(a){var e=a.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=a[n],r=a[n+1],t=n>0?a[n-1]:2*o-r,s=n<e-1?a[n+2]:2*r-o;return nv((i-n/e)*e,t,o,r,s)}}var ov=z(()=>{});function E2(a){var e=a.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*e),o=a[(n+e-1)%e],r=a[n%e],t=a[(n+1)%e],s=a[(n+2)%e];return nv((i-n/e)*e,o,r,t,s)}}var F2=z(()=>{ov()});var bs,rv=z(()=>{bs=a=>()=>a});function N2(a,e){return function(i){return a+i*e}}function LR(a,e,i){return a=Math.pow(a,i),e=Math.pow(e,i)-a,i=1/i,function(n){return Math.pow(a+n*e,i)}}function x2(a,e){var i=e-a;return i?N2(a,i>180||i<-180?i-360*Math.round(i/360):i):bs(isNaN(a)?e:a)}function K2(a){return(a=+a)==1?Go:function(e,i){return i-e?LR(e,i,a):bs(isNaN(e)?i:e)}}function Go(a,e){var i=e-a;return i?N2(a,i):bs(isNaN(a)?e:a)}var tv=z(()=>{rv()});function W2(a){return function(e){var i=e.length,n=new Array(i),o=new Array(i),r=new Array(i),t,s;for(t=0;t<i;++t)s=Cr(e[t]),n[t]=s.r||0,o[t]=s.g||0,r[t]=s.b||0;return n=a(n),o=a(o),r=a(r),s.opacity=1,function(h){return s.r=n(h),s.g=o(h),s.b=r(h),s+""}}}var ft,sv,JR,lv=z(()=>{Ho();ov();F2();tv();ft=function a(e){var i=K2(e);function n(o,r){var t=i((o=Cr(o)).r,(r=Cr(r)).r),s=i(o.g,r.g),h=i(o.b,r.b),d=Go(o.opacity,r.opacity);return function(f){return o.r=t(f),o.g=s(f),o.b=h(f),o.opacity=d(f),o+""}}return n.gamma=a,n}(1);sv=W2(I2),JR=W2(E2)});function q2(a,e){e||(e=[]);var i=a?Math.min(e.length,a.length):0,n=e.slice(),o;return function(r){for(o=0;o<i;++o)n[o]=a[o]*(1-r)+e[o]*r;return n}}function V2(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}var O2=z(()=>{});function Z2(a,e){var i=e?e.length:0,n=a?Math.min(i,a.length):0,o=new Array(n),r=new Array(i),t;for(t=0;t<n;++t)o[t]=Di(a[t],e[t]);for(;t<i;++t)r[t]=e[t];return function(s){for(t=0;t<n;++t)r[t]=o[t](s);return r}}var U2=z(()=>{du()});function Y2(a,e){var i=new Date;return a=+a,e=+e,function(n){return i.setTime(a*(1-n)+e*n),i}}var X2=z(()=>{});function ri(a,e){return a=+a,e=+e,function(i){return a*(1-i)+e*i}}var cu=z(()=>{});function Q2(a,e){var i={},n={},o;(a===null||typeof a!="object")&&(a={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in a?i[o]=Di(a[o],e[o]):n[o]=e[o];return function(r){for(o in i)n[o]=i[o](r);return n}}var $2=z(()=>{du()});function DR(a){return function(){return a}}function HR(a){return function(e){return a(e)+""}}function mu(a,e){var i=uv.lastIndex=hv.lastIndex=0,n,o,r,t=-1,s=[],h=[];for(a=a+"",e=e+"";(n=uv.exec(a))&&(o=hv.exec(e));)(r=o.index)>i&&(r=e.slice(i,r),s[t]?s[t]+=r:s[++t]=r),(n=n[0])===(o=o[0])?s[t]?s[t]+=o:s[++t]=o:(s[++t]=null,h.push({i:t,x:ri(n,o)})),i=hv.lastIndex;return i<e.length&&(r=e.slice(i),s[t]?s[t]+=r:s[++t]=r),s.length<2?h[0]?HR(h[0].x):DR(e):(e=h.length,function(d){for(var f=0,b;f<e;++f)s[(b=h[f]).i]=b.x(d);return s.join("")})}var uv,hv,dv=z(()=>{cu();uv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hv=new RegExp(uv.source,"g")});function Di(a,e){var i=typeof e,n;return e==null||i==="boolean"?bs(e):(i==="number"?ri:i==="string"?(n=fi(e))?(e=n,ft):mu:e instanceof fi?ft:e instanceof Date?Y2:V2(e)?q2:Array.isArray(e)?Z2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Q2:ri)(a,e)}var du=z(()=>{Ho();lv();U2();X2();cu();$2();dv();rv();O2()});function yt(a,e){return a=+a,e=+e,function(i){return Math.round(a*(1-i)+e*i)}}var _2=z(()=>{});function cv(a,e,i,n,o,r){var t,s,h;return(t=Math.sqrt(a*a+e*e))&&(a/=t,e/=t),(h=a*i+e*n)&&(i-=a*h,n-=e*h),(s=Math.sqrt(i*i+n*n))&&(i/=s,n/=s,h/=s),a*n<e*i&&(a=-a,e=-e,h=-h,t=-t),{translateX:o,translateY:r,rotate:Math.atan2(e,a)*eB,skewX:Math.atan(h)*eB,scaleX:t,scaleY:s}}var eB,bd,aB=z(()=>{eB=180/Math.PI,bd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function iB(a){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return e.isIdentity?bd:cv(e.a,e.b,e.c,e.d,e.e,e.f)}function nB(a){return a==null?bd:(Bd||(Bd=document.createElementNS("http://www.w3.org/2000/svg","g")),Bd.setAttribute("transform",a),(a=Bd.transform.baseVal.consolidate())?(a=a.matrix,cv(a.a,a.b,a.c,a.d,a.e,a.f)):bd)}var Bd,oB=z(()=>{aB()});function rB(a,e,i,n){function o(d){return d.length?d.pop()+" ":""}function r(d,f,b,S,T,j){if(d!==b||f!==S){var J=T.push("translate(",null,e,null,i);j.push({i:J-4,x:ri(d,b)},{i:J-2,x:ri(f,S)})}else(b||S)&&T.push("translate("+b+e+S+i)}function t(d,f,b,S){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),S.push({i:b.push(o(b)+"rotate(",null,n)-2,x:ri(d,f)})):f&&b.push(o(b)+"rotate("+f+n)}function s(d,f,b,S){d!==f?S.push({i:b.push(o(b)+"skewX(",null,n)-2,x:ri(d,f)}):f&&b.push(o(b)+"skewX("+f+n)}function h(d,f,b,S,T,j){if(d!==b||f!==S){var J=T.push(o(T)+"scale(",null,",",null,")");j.push({i:J-4,x:ri(d,b)},{i:J-2,x:ri(f,S)})}else(b!==1||S!==1)&&T.push(o(T)+"scale("+b+","+S+")")}return function(d,f){var b=[],S=[];return d=a(d),f=a(f),r(d.translateX,d.translateY,f.translateX,f.translateY,b,S),t(d.rotate,f.rotate,b,S),s(d.skewX,f.skewX,b,S),h(d.scaleX,d.scaleY,f.scaleX,f.scaleY,b,S),d=f=null,function(T){for(var j=-1,J=S.length,C;++j<J;)b[(C=S[j]).i]=C.x(T);return b.join("")}}}var mv,gv,tB=z(()=>{cu();oB();mv=rB(iB,"px, ","px)","deg)"),gv=rB(nB,", ",")",")")});function sB(a){return((a=Math.exp(a))+1/a)/2}function IR(a){return((a=Math.exp(a))-1/a)/2}function ER(a){return((a=Math.exp(2*a))-1)/(a+1)}var GR,Av,lB=z(()=>{GR=1e-12;Av=function a(e,i,n){function o(r,t){var s=r[0],h=r[1],d=r[2],f=t[0],b=t[1],S=t[2],T=f-s,j=b-h,J=T*T+j*j,C,H;if(J<GR)H=Math.log(S/d)/e,C=function(re){return[s+re*T,h+re*j,d*Math.exp(e*re*H)]};else{var x=Math.sqrt(J),V=(S*S-d*d+n*J)/(2*d*i*x),F=(S*S-d*d-n*J)/(2*S*i*x),U=Math.log(Math.sqrt(V*V+1)-V),N=Math.log(Math.sqrt(F*F+1)-F);H=(N-U)/e,C=function(re){var ce=re*H,Ae=sB(U),le=d/(i*x)*(Ae*ER(e*ce+U)-IR(U));return[s+le*T,h+le*j,d*Ae/sB(e*ce+U)]}}return C.duration=H*1e3*e/Math.SQRT2,C}return o.rho=function(r){var t=Math.max(.001,+r),s=t*t,h=s*s;return a(t,s,h)},o}(Math.SQRT2,2,4)});function uB(a){return function e(i){i=+i;function n(o,r){var t=a((o=Ji(o)).h,(r=Ji(r)).h),s=Go(o.s,r.s),h=Go(o.l,r.l),d=Go(o.opacity,r.opacity);return function(f){return o.h=t(f),o.s=s(f),o.l=h(Math.pow(f,i)),o.opacity=d(f),o+""}}return n.gamma=e,n}(1)}var FR,Bs,hB=z(()=>{Ho();tv();FR=uB(x2),Bs=uB(Go)});function Sd(a,e){e===void 0&&(e=a,a=Di);for(var i=0,n=e.length-1,o=e[0],r=new Array(n<0?0:n);i<n;)r[i]=a(o,o=e[++i]);return function(t){var s=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return r[s](t-s)}}var dB=z(()=>{du()});var an=z(()=>{du();cu();_2();dv();tB();lB();lv();hB();dB()});function fu(){return kt||(mB(NR),kt=pu.now()+Md)}function NR(){kt=0}function yu(){this._call=this._time=this._next=null}function Cd(a,e,i){var n=new yu;return n.restart(a,e,i),n}function gB(){fu(),++Ss;for(var a=zd,e;a;)(e=kt-a._time)>=0&&a._call.call(void 0,e),a=a._next;--Ss}function AB(){kt=(wd=pu.now())+Md,Ss=gu=0;try{gB()}finally{Ss=0,KR(),kt=0}}function xR(){var a=pu.now(),e=a-wd;e>cB&&(Md-=e,wd=a)}function KR(){for(var a,e=zd,i,n=1/0;e;)e._call?(n>e._time&&(n=e._time),a=e,e=e._next):(i=e._next,e._next=null,e=a?a._next=i:zd=i);vu=a,vv(n)}function vv(a){if(!Ss){gu&&(gu=clearTimeout(gu));var e=a-kt;e>24?(a<1/0&&(gu=setTimeout(AB,a-pu.now()-Md)),Au&&(Au=clearInterval(Au))):(Au||(wd=pu.now(),Au=setInterval(xR,cB)),Ss=1,mB(AB))}}var Ss,gu,Au,cB,zd,vu,wd,kt,Md,pu,mB,pv=z(()=>{Ss=0,gu=0,Au=0,cB=1e3,wd=0,kt=0,Md=0,pu=typeof performance=="object"&&performance.now?performance:Date,mB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};yu.prototype=Cd.prototype={constructor:yu,restart:function(a,e,i){if(typeof a!="function")throw new TypeError("callback is not a function");i=(i==null?fu():+i)+(e==null?0:+e),!this._next&&vu!==this&&(vu?vu._next=this:zd=this,vu=this),this._call=a,this._time=i,vv()},stop:function(){this._call&&(this._call=null,this._time=1/0,vv())}}});function Td(a,e,i){var n=new yu;return e=e==null?0:+e,n.restart(o=>{n.stop(),a(o+e)},e,i),n}var vB=z(()=>{pv()});var Pd=z(()=>{pv();vB()});function Tr(a,e,i,n,o,r){var t=a.__transition;if(!t)a.__transition={};else if(i in t)return;VR(a,i,{name:e,index:n,group:o,on:WR,tween:qR,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:pB})}function bu(a,e){var i=Ka(a,e);if(i.state>pB)throw new Error("too late; already scheduled");return i}function ti(a,e){var i=Ka(a,e);if(i.state>Rd)throw new Error("too late; already running");return i}function Ka(a,e){var i=a.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function VR(a,e,i){var n=a.__transition,o;n[e]=i,i.timer=Cd(r,0,i.time);function r(d){i.state=fB,i.timer.restart(t,i.delay,i.time),i.delay<=d&&t(d-i.delay)}function t(d){var f,b,S,T;if(i.state!==fB)return h();for(f in n)if(T=n[f],T.name===i.name){if(T.state===Rd)return Td(t);T.state===yB?(T.state=ku,T.timer.stop(),T.on.call("interrupt",a,a.__data__,T.index,T.group),delete n[f]):+f<e&&(T.state=ku,T.timer.stop(),T.on.call("cancel",a,a.__data__,T.index,T.group),delete n[f])}if(Td(function(){i.state===Rd&&(i.state=yB,i.timer.restart(s,i.delay,i.time),s(d))}),i.state=jd,i.on.call("start",a,a.__data__,i.index,i.group),i.state===jd){for(i.state=Rd,o=new Array(S=i.tween.length),f=0,b=-1;f<S;++f)(T=i.tween[f].value.call(a,a.__data__,i.index,i.group))&&(o[++b]=T);o.length=b+1}}function s(d){for(var f=d<i.duration?i.ease.call(null,d/i.duration):(i.timer.restart(h),i.state=Ld,1),b=-1,S=o.length;++b<S;)o[b].call(a,f);i.state===Ld&&(i.on.call("end",a,a.__data__,i.index,i.group),h())}function h(){i.state=ku,i.timer.stop(),delete n[e];for(var d in n)return;delete a.__transition}}var WR,qR,pB,fB,jd,Rd,yB,Ld,ku,Vi=z(()=>{As();Pd();WR=oo("start","end","cancel","interrupt"),qR=[],pB=0,fB=1,jd=2,Rd=3,yB=4,Ld=5,ku=6});function uo(a,e){var i=a.__transition,n,o,r=!0,t;if(!!i){e=e==null?null:e+"";for(t in i){if((n=i[t]).name!==e){r=!1;continue}o=n.state>jd&&n.state<Ld,n.state=ku,n.timer.stop(),n.on.call(o?"interrupt":"cancel",a,a.__data__,n.index,n.group),delete i[t]}r&&delete a.__transition}}var fv=z(()=>{Vi()});function kB(a){return this.each(function(){uo(this,a)})}var bB=z(()=>{fv()});function OR(a,e){var i,n;return function(){var o=ti(this,a),r=o.tween;if(r!==i){n=i=r;for(var t=0,s=n.length;t<s;++t)if(n[t].name===e){n=n.slice(),n.splice(t,1);break}}o.tween=n}}function ZR(a,e,i){var n,o;if(typeof i!="function")throw new Error;return function(){var r=ti(this,a),t=r.tween;if(t!==n){o=(n=t).slice();for(var s={name:e,value:i},h=0,d=o.length;h<d;++h)if(o[h].name===e){o[h]=s;break}h===d&&o.push(s)}r.tween=o}}function BB(a,e){var i=this._id;if(a+="",arguments.length<2){for(var n=Ka(this.node(),i).tween,o=0,r=n.length,t;o<r;++o)if((t=n[o]).name===a)return t.value;return null}return this.each((e==null?OR:ZR)(i,a,e))}function zs(a,e,i){var n=a._id;return a.each(function(){var o=ti(this,n);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return Ka(o,n).value[e]}}var Bu=z(()=>{Vi()});function Jd(a,e){var i;return(typeof e=="number"?ri:e instanceof fi?ft:(i=fi(e))?(e=i,ft):mu)(a,e)}var yv=z(()=>{Ho();an()});function UR(a){return function(){this.removeAttribute(a)}}function YR(a){return function(){this.removeAttributeNS(a.space,a.local)}}function XR(a,e,i){var n,o=i+"",r;return function(){var t=this.getAttribute(a);return t===o?null:t===n?r:r=e(n=t,i)}}function QR(a,e,i){var n,o=i+"",r;return function(){var t=this.getAttributeNS(a.space,a.local);return t===o?null:t===n?r:r=e(n=t,i)}}function $R(a,e,i){var n,o,r;return function(){var t,s=i(this),h;return s==null?void this.removeAttribute(a):(t=this.getAttribute(a),h=s+"",t===h?null:t===n&&h===o?r:(o=h,r=e(n=t,s)))}}function _R(a,e,i){var n,o,r;return function(){var t,s=i(this),h;return s==null?void this.removeAttributeNS(a.space,a.local):(t=this.getAttributeNS(a.space,a.local),h=s+"",t===h?null:t===n&&h===o?r:(o=h,r=e(n=t,s)))}}function SB(a,e){var i=ro(a),n=i==="transform"?gv:Jd;return this.attrTween(a,typeof e=="function"?(i.local?_R:$R)(i,n,zs(this,"attr."+a,e)):e==null?(i.local?YR:UR)(i):(i.local?QR:XR)(i,n,e))}var zB=z(()=>{an();Li();Bu();yv()});function eL(a,e){return function(i){this.setAttribute(a,e.call(this,i))}}function aL(a,e){return function(i){this.setAttributeNS(a.space,a.local,e.call(this,i))}}function iL(a,e){var i,n;function o(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&aL(a,r)),i}return o._value=e,o}function nL(a,e){var i,n;function o(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&eL(a,r)),i}return o._value=e,o}function wB(a,e){var i="attr."+a;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var n=ro(a);return this.tween(i,(n.local?iL:nL)(n,e))}var MB=z(()=>{Li()});function oL(a,e){return function(){bu(this,a).delay=+e.apply(this,arguments)}}function rL(a,e){return e=+e,function(){bu(this,a).delay=e}}function CB(a){var e=this._id;return arguments.length?this.each((typeof a=="function"?oL:rL)(e,a)):Ka(this.node(),e).delay}var TB=z(()=>{Vi()});function tL(a,e){return function(){ti(this,a).duration=+e.apply(this,arguments)}}function sL(a,e){return e=+e,function(){ti(this,a).duration=e}}function PB(a){var e=this._id;return arguments.length?this.each((typeof a=="function"?tL:sL)(e,a)):Ka(this.node(),e).duration}var jB=z(()=>{Vi()});function lL(a,e){if(typeof e!="function")throw new Error;return function(){ti(this,a).ease=e}}function RB(a){var e=this._id;return arguments.length?this.each(lL(e,a)):Ka(this.node(),e).ease}var LB=z(()=>{Vi()});function uL(a,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;ti(this,a).ease=i}}function JB(a){if(typeof a!="function")throw new Error;return this.each(uL(this._id,a))}var DB=z(()=>{Vi()});function HB(a){typeof a!="function"&&(a=ps(a));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],t=r.length,s=n[o]=[],h,d=0;d<t;++d)(h=r[d])&&a.call(h,h.__data__,d,r)&&s.push(h);return new Hi(n,this._parents,this._name,this._id)}var GB=z(()=>{Li();bt()});function IB(a){if(a._id!==this._id)throw new Error;for(var e=this._groups,i=a._groups,n=e.length,o=i.length,r=Math.min(n,o),t=new Array(n),s=0;s<r;++s)for(var h=e[s],d=i[s],f=h.length,b=t[s]=new Array(f),S,T=0;T<f;++T)(S=h[T]||d[T])&&(b[T]=S);for(;s<n;++s)t[s]=e[s];return new Hi(t,this._parents,this._name,this._id)}var EB=z(()=>{bt()});function hL(a){return(a+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function dL(a,e,i){var n,o,r=hL(e)?bu:ti;return function(){var t=r(this,a),s=t.on;s!==n&&(o=(n=s).copy()).on(e,i),t.on=o}}function FB(a,e){var i=this._id;return arguments.length<2?Ka(this.node(),i).on.on(a):this.each(dL(i,a,e))}var NB=z(()=>{Vi()});function cL(a){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==a)return;e&&e.removeChild(this)}}function xB(){return this.on("end.remove",cL(this._id))}var KB=z(()=>{});function WB(a){var e=this._name,i=this._id;typeof a!="function"&&(a=wr(a));for(var n=this._groups,o=n.length,r=new Array(o),t=0;t<o;++t)for(var s=n[t],h=s.length,d=r[t]=new Array(h),f,b,S=0;S<h;++S)(f=s[S])&&(b=a.call(f,f.__data__,S,s))&&("__data__"in f&&(b.__data__=f.__data__),d[S]=b,Tr(d[S],e,i,S,d,Ka(f,i)));return new Hi(r,this._parents,e,i)}var qB=z(()=>{Li();bt();Vi()});function VB(a){var e=this._name,i=this._id;typeof a!="function"&&(a=vs(a));for(var n=this._groups,o=n.length,r=[],t=[],s=0;s<o;++s)for(var h=n[s],d=h.length,f,b=0;b<d;++b)if(f=h[b]){for(var S=a.call(f,f.__data__,b,h),T,j=Ka(f,i),J=0,C=S.length;J<C;++J)(T=S[J])&&Tr(T,e,i,J,S,j);r.push(S),t.push(f)}return new Hi(r,t,e,i)}var OB=z(()=>{Li();bt();Vi()});function ZB(){return new mL(this._groups,this._parents)}var mL,UB=z(()=>{Li();mL=to.prototype.constructor});function gL(a,e){var i,n,o;return function(){var r=Do(this,a),t=(this.style.removeProperty(a),Do(this,a));return r===t?null:r===i&&t===n?o:o=e(i=r,n=t)}}function YB(a){return function(){this.style.removeProperty(a)}}function AL(a,e,i){var n,o=i+"",r;return function(){var t=Do(this,a);return t===o?null:t===n?r:r=e(n=t,i)}}function vL(a,e,i){var n,o,r;return function(){var t=Do(this,a),s=i(this),h=s+"";return s==null&&(h=s=(this.style.removeProperty(a),Do(this,a))),t===h?null:t===n&&h===o?r:(o=h,r=e(n=t,s))}}function pL(a,e){var i,n,o,r="style."+e,t="end."+r,s;return function(){var h=ti(this,a),d=h.on,f=h.value[r]==null?s||(s=YB(e)):void 0;(d!==i||o!==f)&&(n=(i=d).copy()).on(t,o=f),h.on=n}}function XB(a,e,i){var n=(a+="")==="transform"?mv:Jd;return e==null?this.styleTween(a,gL(a,n)).on("end.style."+a,YB(a)):typeof e=="function"?this.styleTween(a,vL(a,n,zs(this,"style."+a,e))).each(pL(this._id,a)):this.styleTween(a,AL(a,n,e),i).on("end.style."+a,null)}var QB=z(()=>{an();Li();Vi();Bu();yv()});function fL(a,e,i){return function(n){this.style.setProperty(a,e.call(this,n),i)}}function yL(a,e,i){var n,o;function r(){var t=e.apply(this,arguments);return t!==o&&(n=(o=t)&&fL(a,t,i)),n}return r._value=e,r}function $B(a,e,i){var n="style."+(a+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,yL(a,e,i??""))}var _B=z(()=>{});function kL(a){return function(){this.textContent=a}}function bL(a){return function(){var e=a(this);this.textContent=e??""}}function eS(a){return this.tween("text",typeof a=="function"?bL(zs(this,"text",a)):kL(a==null?"":a+""))}var aS=z(()=>{Bu()});function BL(a){return function(e){this.textContent=a.call(this,e)}}function SL(a){var e,i;function n(){var o=a.apply(this,arguments);return o!==i&&(e=(i=o)&&BL(o)),e}return n._value=a,n}function iS(a){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(a==null)return this.tween(e,null);if(typeof a!="function")throw new Error;return this.tween(e,SL(a))}var nS=z(()=>{});function oS(){for(var a=this._name,e=this._id,i=Dd(),n=this._groups,o=n.length,r=0;r<o;++r)for(var t=n[r],s=t.length,h,d=0;d<s;++d)if(h=t[d]){var f=Ka(h,e);Tr(h,a,i,d,t,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Hi(n,this._parents,a,i)}var rS=z(()=>{bt();Vi()});function tS(){var a,e,i=this,n=i._id,o=i.size();return new Promise(function(r,t){var s={value:t},h={value:function(){--o==0&&r()}};i.each(function(){var d=ti(this,n),f=d.on;f!==a&&(e=(a=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(h)),d.on=e}),o===0&&r()})}var sS=z(()=>{Vi()});function Hi(a,e,i,n){this._groups=a,this._parents=e,this._name=i,this._id=n}function lS(a){return to().transition(a)}function Dd(){return++zL}var zL,Io,bt=z(()=>{Li();zB();MB();TB();jB();LB();DB();GB();EB();NB();KB();qB();OB();UB();QB();_B();aS();nS();rS();Bu();sS();zL=0;Io=to.prototype;Hi.prototype=lS.prototype={constructor:Hi,select:WB,selectAll:VB,selectChild:Io.selectChild,selectChildren:Io.selectChildren,filter:HB,merge:IB,selection:ZB,transition:oS,call:Io.call,nodes:Io.nodes,node:Io.node,size:Io.size,empty:Io.empty,each:Io.each,on:FB,attr:SB,attrTween:wB,style:XB,styleTween:$B,text:eS,textTween:iS,remove:xB,tween:BB,delay:CB,duration:PB,ease:RB,easeVarying:JB,end:tS,[Symbol.iterator]:Io[Symbol.iterator]}});var kv,uS=z(()=>{kv=a=>+a});function Hd(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var hS=z(()=>{});var bv=z(()=>{uS();hS()});function ML(a,e){for(var i;!(i=a.__transition)||!(i=i[e]);)if(!(a=a.parentNode))throw new Error(`transition ${e} not found`);return i}function dS(a){var e,i;a instanceof Hi?(e=a._id,a=a._name):(e=Dd(),(i=wL).time=fu(),a=a==null?null:a+"");for(var n=this._groups,o=n.length,r=0;r<o;++r)for(var t=n[r],s=t.length,h,d=0;d<s;++d)(h=t[d])&&Tr(h,a,e,d,t,i||ML(h,e));return new Hi(n,this._parents,a,e)}var wL,cS=z(()=>{bt();Vi();bv();Pd();wL={time:null,delay:0,duration:250,ease:Hd}});var mS=z(()=>{Li();bB();cS();to.prototype.interrupt=kB;to.prototype.transition=dS});var Gd=z(()=>{mS();fv()});var Id,gS=z(()=>{Id=a=>()=>a});function Bv(a,{sourceEvent:e,target:i,selection:n,mode:o,dispatch:r}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}var AS=z(()=>{});function vS(a){a.stopImmediatePropagation()}function Ed(a){a.preventDefault(),a.stopImmediatePropagation()}var pS=z(()=>{});function kS(a){return[+a[0],+a[1]]}function zv(a){return[kS(a[0]),kS(a[1])]}function Su(a){return{type:a}}function jL(a){return!a.ctrlKey&&!a.button}function RL(){var a=this.ownerSVGElement||this;return a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function LL(){return navigator.maxTouchPoints||"ontouchstart"in this}function wv(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function JL(a){return a[0][0]===a[1][0]||a[0][1]===a[1][1]}function SS(a){var e=a.__brush;return e?e.dim.output(e.selection):null}function zS(){return Mv(Fd)}function wS(){return Mv(Nd)}function MS(){return Mv(CL)}function Mv(a){var e=RL,i=jL,n=LL,o=!0,r=oo("start","brush","end"),t=6,s;function h(C){var H=C.property("__brush",J).selectAll(".overlay").data([Su("overlay")]);H.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Eo.overlay).merge(H).each(function(){var V=wv(this).extent;Ma(this).attr("x",V[0][0]).attr("y",V[0][1]).attr("width",V[1][0]-V[0][0]).attr("height",V[1][1]-V[0][1])}),C.selectAll(".selection").data([Su("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Eo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var x=C.selectAll(".handle").data(a.handles,function(V){return V.type});x.exit().remove(),x.enter().append("rect").attr("class",function(V){return"handle handle--"+V.type}).attr("cursor",function(V){return Eo[V.type]}),C.each(d).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",S).filter(n).on("touchstart.brush",S).on("touchmove.brush",T).on("touchend.brush touchcancel.brush",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.move=function(C,H,x){C.tween?C.on("start.brush",function(V){f(this,arguments).beforestart().start(V)}).on("interrupt.brush end.brush",function(V){f(this,arguments).end(V)}).tween("brush",function(){var V=this,F=V.__brush,U=f(V,arguments),N=F.selection,re=a.input(typeof H=="function"?H.apply(this,arguments):H,F.extent),ce=Di(N,re);function Ae(le){F.selection=le===1&&re===null?null:ce(le),d.call(V),U.brush()}return N!==null&&re!==null?Ae:Ae(1)}):C.each(function(){var V=this,F=arguments,U=V.__brush,N=a.input(typeof H=="function"?H.apply(V,F):H,U.extent),re=f(V,F).beforestart();uo(V),U.selection=N===null?null:N,d.call(V),re.start(x).brush(x).end(x)})},h.clear=function(C,H){h.move(C,null,H)};function d(){var C=Ma(this),H=wv(this).selection;H?(C.selectAll(".selection").style("display",null).attr("x",H[0][0]).attr("y",H[0][1]).attr("width",H[1][0]-H[0][0]).attr("height",H[1][1]-H[0][1]),C.selectAll(".handle").style("display",null).attr("x",function(x){return x.type[x.type.length-1]==="e"?H[1][0]-t/2:H[0][0]-t/2}).attr("y",function(x){return x.type[0]==="s"?H[1][1]-t/2:H[0][1]-t/2}).attr("width",function(x){return x.type==="n"||x.type==="s"?H[1][0]-H[0][0]+t:t}).attr("height",function(x){return x.type==="e"||x.type==="w"?H[1][1]-H[0][1]+t:t})):C.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(C,H,x){var V=C.__brush.emitter;return V&&(!x||!V.clean)?V:new b(C,H,x)}function b(C,H,x){this.that=C,this.args=H,this.state=C.__brush,this.active=0,this.clean=x}b.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(C,H){return this.starting?(this.starting=!1,this.emit("start",C,H)):this.emit("brush",C),this},brush:function(C,H){return this.emit("brush",C,H),this},end:function(C,H){return--this.active==0&&(delete this.state.emitter,this.emit("end",C,H)),this},emit:function(C,H,x){var V=Ma(this.that).datum();r.call(C,this.that,new Bv(C,{sourceEvent:H,target:h,selection:a.output(this.state.selection),mode:x,dispatch:r}),V)}};function S(C){if(s&&!C.touches||!i.apply(this,arguments))return;var H=this,x=C.target.__data__.type,V=(o&&C.metaKey?x="overlay":x)==="selection"?fS:o&&C.altKey?Ms:ws,F=a===Nd?null:TL[x],U=a===Fd?null:PL[x],N=wv(H),re=N.extent,ce=N.selection,Ae=re[0][0],le,ie,X=re[0][1],Q,K,ee=re[1][0],O,$,ue=re[1][1],oe,he,ge=0,ye=0,ha,Pe=F&&U&&o&&C.shiftKey,sa,va,Ze=Array.from(C.touches||[C],Be=>{let ba=Be.identifier;return Be=Ri(Be,H),Be.point0=Be.slice(),Be.identifier=ba,Be});uo(H);var Y=f(H,arguments,!0).beforestart();if(x==="overlay"){ce&&(ha=!0);let Be=[Ze[0],Ze[1]||Ze[0]];N.selection=ce=[[le=a===Nd?Ae:bi(Be[0][0],Be[1][0]),Q=a===Fd?X:bi(Be[0][1],Be[1][1])],[O=a===Nd?ee:ki(Be[0][0],Be[1][0]),oe=a===Fd?ue:ki(Be[0][1],Be[1][1])]],Ze.length>1&&ya(C)}else le=ce[0][0],Q=ce[0][1],O=ce[1][0],oe=ce[1][1];ie=le,K=Q,$=O,he=oe;var te=Ma(H).attr("pointer-events","none"),we=te.selectAll(".overlay").attr("cursor",Eo[x]);if(C.touches)Y.moved=ae,Y.ended=ra;else{var ze=Ma(C.view).on("mousemove.brush",ae,!0).on("mouseup.brush",ra,!0);o&&ze.on("keydown.brush",ii,!0).on("keyup.brush",Ga,!0),tu(C.view)}d.call(H),Y.start(C,V.name);function ae(Be){for(let ba of Be.changedTouches||[Be])for(let Ar of Ze)Ar.identifier===ba.identifier&&(Ar.cur=Ri(ba,H));if(Pe&&!sa&&!va&&Ze.length===1){let ba=Ze[0];yS(ba.cur[0]-ba[0])>yS(ba.cur[1]-ba[1])?va=!0:sa=!0}for(let ba of Ze)ba.cur&&(ba[0]=ba.cur[0],ba[1]=ba.cur[1]);ha=!0,Ed(Be),ya(Be)}function ya(Be){let ba=Ze[0],Ar=ba.point0;var Qn;switch(ge=ba[0]-Ar[0],ye=ba[1]-Ar[1],V){case Sv:case fS:{F&&(ge=ki(Ae-le,bi(ee-O,ge)),ie=le+ge,$=O+ge),U&&(ye=ki(X-Q,bi(ue-oe,ye)),K=Q+ye,he=oe+ye);break}case ws:{Ze[1]?(F&&(ie=ki(Ae,bi(ee,Ze[0][0])),$=ki(Ae,bi(ee,Ze[1][0])),F=1),U&&(K=ki(X,bi(ue,Ze[0][1])),he=ki(X,bi(ue,Ze[1][1])),U=1)):(F<0?(ge=ki(Ae-le,bi(ee-le,ge)),ie=le+ge,$=O):F>0&&(ge=ki(Ae-O,bi(ee-O,ge)),ie=le,$=O+ge),U<0?(ye=ki(X-Q,bi(ue-Q,ye)),K=Q+ye,he=oe):U>0&&(ye=ki(X-oe,bi(ue-oe,ye)),K=Q,he=oe+ye));break}case Ms:{F&&(ie=ki(Ae,bi(ee,le-ge*F)),$=ki(Ae,bi(ee,O+ge*F))),U&&(K=ki(X,bi(ue,Q-ye*U)),he=ki(X,bi(ue,oe+ye*U)));break}}$<ie&&(F*=-1,Qn=le,le=O,O=Qn,Qn=ie,ie=$,$=Qn,x in bS&&we.attr("cursor",Eo[x=bS[x]])),he<K&&(U*=-1,Qn=Q,Q=oe,oe=Qn,Qn=K,K=he,he=Qn,x in BS&&we.attr("cursor",Eo[x=BS[x]])),N.selection&&(ce=N.selection),sa&&(ie=ce[0][0],$=ce[1][0]),va&&(K=ce[0][1],he=ce[1][1]),(ce[0][0]!==ie||ce[0][1]!==K||ce[1][0]!==$||ce[1][1]!==he)&&(N.selection=[[ie,K],[$,he]],d.call(H),Y.brush(Be,V.name))}function ra(Be){if(vS(Be),Be.touches){if(Be.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else su(Be.view,ha),ze.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);te.attr("pointer-events","all"),we.attr("cursor",Eo.overlay),N.selection&&(ce=N.selection),JL(ce)&&(N.selection=null,d.call(H)),Y.end(Be,V.name)}function ii(Be){switch(Be.keyCode){case 16:{Pe=F&&U;break}case 18:{V===ws&&(F&&(O=$-ge*F,le=ie+ge*F),U&&(oe=he-ye*U,Q=K+ye*U),V=Ms,ya(Be));break}case 32:{(V===ws||V===Ms)&&(F<0?O=$-ge:F>0&&(le=ie-ge),U<0?oe=he-ye:U>0&&(Q=K-ye),V=Sv,we.attr("cursor",Eo.selection),ya(Be));break}default:return}Ed(Be)}function Ga(Be){switch(Be.keyCode){case 16:{Pe&&(sa=va=Pe=!1,ya(Be));break}case 18:{V===Ms&&(F<0?O=$:F>0&&(le=ie),U<0?oe=he:U>0&&(Q=K),V=ws,ya(Be));break}case 32:{V===Sv&&(Be.altKey?(F&&(O=$-ge*F,le=ie+ge*F),U&&(oe=he-ye*U,Q=K+ye*U),V=Ms):(F<0?O=$:F>0&&(le=ie),U<0?oe=he:U>0&&(Q=K),V=ws),we.attr("cursor",Eo[x]),ya(Be));break}default:return}Ed(Be)}}function T(C){f(this,arguments).moved(C)}function j(C){f(this,arguments).ended(C)}function J(){var C=this.__brush||{selection:null};return C.extent=zv(e.apply(this,arguments)),C.dim=a,C}return h.extent=function(C){return arguments.length?(e=typeof C=="function"?C:Id(zv(C)),h):e},h.filter=function(C){return arguments.length?(i=typeof C=="function"?C:Id(!!C),h):i},h.touchable=function(C){return arguments.length?(n=typeof C=="function"?C:Id(!!C),h):n},h.handleSize=function(C){return arguments.length?(t=+C,h):t},h.keyModifiers=function(C){return arguments.length?(o=!!C,h):o},h.on=function(){var C=r.on.apply(r,arguments);return C===r?h:C},h}var fS,Sv,ws,Ms,yS,ki,bi,Fd,Nd,CL,Eo,bS,BS,TL,PL,CS=z(()=>{As();fd();an();Li();Gd();gS();AS();pS();fS={name:"drag"},Sv={name:"space"},ws={name:"handle"},Ms={name:"center"},{abs:yS,max:ki,min:bi}=Math;Fd={name:"x",handles:["w","e"].map(Su),input:function(a,e){return a==null?null:[[+a[0],e[0][1]],[+a[1],e[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},Nd={name:"y",handles:["n","s"].map(Su),input:function(a,e){return a==null?null:[[e[0][0],+a[0]],[e[1][0],+a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},CL={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Su),input:function(a){return a==null?null:zv(a)},output:function(a){return a}},Eo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bS={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},BS={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},TL={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},PL={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}});var TS={};Ua(TS,{brush:()=>MS,brushSelection:()=>SS,brushX:()=>zS,brushY:()=>wS});var Cv=z(()=>{CS()});function jv(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function PS(){return new jv}var Tv,Pv,Bt,DL,Bn,jS=z(()=>{Tv=Math.PI,Pv=2*Tv,Bt=1e-6,DL=Pv-Bt;jv.prototype=PS.prototype={constructor:jv,moveTo:function(a,e){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,e){this._+="L"+(this._x1=+a)+","+(this._y1=+e)},quadraticCurveTo:function(a,e,i,n){this._+="Q"+ +a+","+ +e+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(a,e,i,n,o,r){this._+="C"+ +a+","+ +e+","+ +i+","+ +n+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(a,e,i,n,o){a=+a,e=+e,i=+i,n=+n,o=+o;var r=this._x1,t=this._y1,s=i-a,h=n-e,d=r-a,f=t-e,b=d*d+f*f;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=a)+","+(this._y1=e);else if(b>Bt)if(!(Math.abs(f*s-h*d)>Bt)||!o)this._+="L"+(this._x1=a)+","+(this._y1=e);else{var S=i-r,T=n-t,j=s*s+h*h,J=S*S+T*T,C=Math.sqrt(j),H=Math.sqrt(b),x=o*Math.tan((Tv-Math.acos((j+b-J)/(2*C*H)))/2),V=x/H,F=x/C;Math.abs(V-1)>Bt&&(this._+="L"+(a+V*d)+","+(e+V*f)),this._+="A"+o+","+o+",0,0,"+ +(f*S>d*T)+","+(this._x1=a+F*s)+","+(this._y1=e+F*h)}},arc:function(a,e,i,n,o,r){a=+a,e=+e,i=+i,r=!!r;var t=i*Math.cos(n),s=i*Math.sin(n),h=a+t,d=e+s,f=1^r,b=r?n-o:o-n;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+h+","+d:(Math.abs(this._x1-h)>Bt||Math.abs(this._y1-d)>Bt)&&(this._+="L"+h+","+d),!!i&&(b<0&&(b=b%Pv+Pv),b>DL?this._+="A"+i+","+i+",0,1,"+f+","+(a-t)+","+(e-s)+"A"+i+","+i+",0,1,"+f+","+(this._x1=h)+","+(this._y1=d):b>Bt&&(this._+="A"+i+","+i+",0,"+ +(b>=Tv)+","+f+","+(this._x1=a+i*Math.cos(o))+","+(this._y1=e+i*Math.sin(o))))},rect:function(a,e,i,n){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}};Bn=PS});var RS={};Ua(RS,{path:()=>Bn});var Pr=z(()=>{jS()});function JS(a){return new Function("d","return {"+a.map(function(e,i){return JSON.stringify(e)+": d["+i+'] || ""'}).join(",")+"}")}function HL(a,e){var i=JS(a);return function(n,o){return e(i(n),o,a)}}function DS(a){var e=Object.create(null),i=[];return a.forEach(function(n){for(var o in n)o in e||i.push(e[o]=o)}),i}function Oi(a,e){var i=a+"",n=i.length;return n<e?new Array(e-n+1).join(0)+i:i}function GL(a){return a<0?"-"+Oi(-a,6):a>9999?"+"+Oi(a,6):Oi(a,4)}function IL(a){var e=a.getUTCHours(),i=a.getUTCMinutes(),n=a.getUTCSeconds(),o=a.getUTCMilliseconds();return isNaN(a)?"Invalid Date":GL(a.getUTCFullYear(),4)+"-"+Oi(a.getUTCMonth()+1,2)+"-"+Oi(a.getUTCDate(),2)+(o?"T"+Oi(e,2)+":"+Oi(i,2)+":"+Oi(n,2)+"."+Oi(o,3)+"Z":n?"T"+Oi(e,2)+":"+Oi(i,2)+":"+Oi(n,2)+"Z":i||e?"T"+Oi(e,2)+":"+Oi(i,2)+"Z":"")}function St(a){var e=new RegExp('["'+a+`
\r]`),i=a.charCodeAt(0);function n(b,S){var T,j,J=o(b,function(C,H){if(T)return T(C,H-1);j=C,T=S?HL(C,S):JS(C)});return J.columns=j||[],J}function o(b,S){var T=[],j=b.length,J=0,C=0,H,x=j<=0,V=!1;b.charCodeAt(j-1)===zu&&--j,b.charCodeAt(j-1)===Jv&&--j;function F(){if(x)return Rv;if(V)return V=!1,LS;var N,re=J,ce;if(b.charCodeAt(re)===Lv){for(;J++<j&&b.charCodeAt(J)!==Lv||b.charCodeAt(++J)===Lv;);return(N=J)>=j?x=!0:(ce=b.charCodeAt(J++))===zu?V=!0:ce===Jv&&(V=!0,b.charCodeAt(J)===zu&&++J),b.slice(re+1,N-1).replace(/""/g,'"')}for(;J<j;){if((ce=b.charCodeAt(N=J++))===zu)V=!0;else if(ce===Jv)V=!0,b.charCodeAt(J)===zu&&++J;else if(ce!==i)continue;return b.slice(re,N)}return x=!0,b.slice(re,j)}for(;(H=F())!==Rv;){for(var U=[];H!==LS&&H!==Rv;)U.push(H),H=F();S&&(U=S(U,C++))==null||T.push(U)}return T}function r(b,S){return b.map(function(T){return S.map(function(j){return f(T[j])}).join(a)})}function t(b,S){return S==null&&(S=DS(b)),[S.map(f).join(a)].concat(r(b,S)).join(`
`)}function s(b,S){return S==null&&(S=DS(b)),r(b,S).join(`
`)}function h(b){return b.map(d).join(`
`)}function d(b){return b.map(f).join(a)}function f(b){return b==null?"":b instanceof Date?IL(b):e.test(b+="")?'"'+b.replace(/"/g,'""')+'"':b}return{parse:n,parseRows:o,format:t,formatBody:s,formatRows:h,formatRow:d,formatValue:f}}var LS,Rv,Lv,zu,Jv,xd=z(()=>{LS={},Rv={},Lv=34,zu=10,Jv=13});var zt,Dv,EL,FL,NL,xL,KL,WL,HS=z(()=>{xd();zt=St(","),Dv=zt.parse,EL=zt.parseRows,FL=zt.format,NL=zt.formatBody,xL=zt.formatRows,KL=zt.formatRow,WL=zt.formatValue});var wt,Hv,qL,VL,OL,ZL,UL,YL,GS=z(()=>{xd();wt=St("	"),Hv=wt.parse,qL=wt.parseRows,VL=wt.format,OL=wt.formatBody,ZL=wt.formatRows,UL=wt.formatRow,YL=wt.formatValue});var Gv=z(()=>{xd();HS();GS()});function XL(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.blob()}function IS(a,e){return fetch(a,e).then(XL)}var ES=z(()=>{});function QL(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.arrayBuffer()}function FS(a,e){return fetch(a,e).then(QL)}var NS=z(()=>{});function $L(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.text()}function Mt(a,e){return fetch(a,e).then($L)}var Kd=z(()=>{});function xS(a){return function(e,i,n){return arguments.length===2&&typeof i=="function"&&(n=i,i=void 0),Mt(e,i).then(function(o){return a(o,n)})}}function Iv(a,e,i,n){arguments.length===3&&typeof i=="function"&&(n=i,i=void 0);var o=St(a);return Mt(e,i).then(function(r){return o.parse(r,n)})}var KS,WS,qS=z(()=>{Gv();Kd();KS=xS(Dv),WS=xS(Hv)});function VS(a,e){return new Promise(function(i,n){var o=new Image;for(var r in e)o[r]=e[r];o.onerror=n,o.onload=function(){i(o)},o.src=a})}var OS=z(()=>{});function _L(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);if(!(a.status===204||a.status===205))return a.json()}function ZS(a,e){return fetch(a,e).then(_L)}var US=z(()=>{});function Ev(a){return(e,i)=>Mt(e,i).then(n=>new DOMParser().parseFromString(n,a))}var YS,XS,QS,$S=z(()=>{Kd();YS=Ev("application/xml"),XS=Ev("text/html"),QS=Ev("image/svg+xml")});var _S={};Ua(_S,{blob:()=>IS,buffer:()=>FS,csv:()=>KS,dsv:()=>Iv,html:()=>XS,image:()=>VS,json:()=>ZS,svg:()=>QS,text:()=>Mt,tsv:()=>WS,xml:()=>YS});var Fv=z(()=>{ES();NS();qS();OS();US();Kd();$S()});function e7(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)}function Ct(a,e){if((i=(a=e?a.toExponential(e-1):a.toExponential()).indexOf("e"))<0)return null;var i,n=a.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+a.slice(i+1)]}var wu=z(()=>{});function ho(a){return a=Ct(Math.abs(a)),a?a[1]:NaN}var Mu=z(()=>{wu()});function a7(a,e){return function(i,n){for(var o=i.length,r=[],t=0,s=a[0],h=0;o>0&&s>0&&(h+s+1>n&&(s=Math.max(1,n-h)),r.push(i.substring(o-=s,o+s)),!((h+=s+1)>n));)s=a[t=(t+1)%a.length];return r.reverse().join(e)}}var i7=z(()=>{});function n7(a){return function(e){return e.replace(/[0-9]/g,function(i){return a[+i]})}}var o7=z(()=>{});function jr(a){if(!(e=eJ.exec(a)))throw new Error("invalid format: "+a);var e;return new Wd({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Wd(a){this.fill=a.fill===void 0?" ":a.fill+"",this.align=a.align===void 0?">":a.align+"",this.sign=a.sign===void 0?"-":a.sign+"",this.symbol=a.symbol===void 0?"":a.symbol+"",this.zero=!!a.zero,this.width=a.width===void 0?void 0:+a.width,this.comma=!!a.comma,this.precision=a.precision===void 0?void 0:+a.precision,this.trim=!!a.trim,this.type=a.type===void 0?"":a.type+""}var eJ,Nv=z(()=>{eJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;jr.prototype=Wd.prototype;Wd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function r7(a){e:for(var e=a.length,i=1,n=-1,o;i<e;++i)switch(a[i]){case".":n=o=i;break;case"0":n===0&&(n=i),o=i;break;default:if(!+a[i])break e;n>0&&(n=0);break}return n>0?a.slice(0,n)+a.slice(o+1):a}var t7=z(()=>{});function s7(a,e){var i=Ct(a,e);if(!i)return a+"";var n=i[0],o=i[1],r=o-(xv=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,t=n.length;return r===t?n:r>t?n+new Array(r-t+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+Ct(a,Math.max(0,e+r-1))[0]}var xv,Kv=z(()=>{wu()});function Wv(a,e){var i=Ct(a,e);if(!i)return a+"";var n=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var l7=z(()=>{wu()});var qv,u7=z(()=>{wu();Kv();l7();qv={"%":(a,e)=>(a*100).toFixed(e),b:a=>Math.round(a).toString(2),c:a=>a+"",d:e7,e:(a,e)=>a.toExponential(e),f:(a,e)=>a.toFixed(e),g:(a,e)=>a.toPrecision(e),o:a=>Math.round(a).toString(8),p:(a,e)=>Wv(a*100,e),r:Wv,s:s7,X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)}});function Vv(a){return a}var h7=z(()=>{});function m7(a){var e=a.grouping===void 0||a.thousands===void 0?Vv:a7(d7.call(a.grouping,Number),a.thousands+""),i=a.currency===void 0?"":a.currency[0]+"",n=a.currency===void 0?"":a.currency[1]+"",o=a.decimal===void 0?".":a.decimal+"",r=a.numerals===void 0?Vv:n7(d7.call(a.numerals,String)),t=a.percent===void 0?"%":a.percent+"",s=a.minus===void 0?"\u2212":a.minus+"",h=a.nan===void 0?"NaN":a.nan+"";function d(b){b=jr(b);var S=b.fill,T=b.align,j=b.sign,J=b.symbol,C=b.zero,H=b.width,x=b.comma,V=b.precision,F=b.trim,U=b.type;U==="n"?(x=!0,U="g"):qv[U]||(V===void 0&&(V=12),F=!0,U="g"),(C||S==="0"&&T==="=")&&(C=!0,S="0",T="=");var N=J==="$"?i:J==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",re=J==="$"?n:/[%p]/.test(U)?t:"",ce=qv[U],Ae=/[defgprs%]/.test(U);V=V===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function le(ie){var X=N,Q=re,K,ee,O;if(U==="c")Q=ce(ie)+Q,ie="";else{ie=+ie;var $=ie<0||1/ie<0;if(ie=isNaN(ie)?h:ce(Math.abs(ie),V),F&&(ie=r7(ie)),$&&+ie==0&&j!=="+"&&($=!1),X=($?j==="("?j:s:j==="-"||j==="("?"":j)+X,Q=(U==="s"?c7[8+xv/3]:"")+Q+($&&j==="("?")":""),Ae){for(K=-1,ee=ie.length;++K<ee;)if(O=ie.charCodeAt(K),48>O||O>57){Q=(O===46?o+ie.slice(K+1):ie.slice(K))+Q,ie=ie.slice(0,K);break}}}x&&!C&&(ie=e(ie,1/0));var ue=X.length+ie.length+Q.length,oe=ue<H?new Array(H-ue+1).join(S):"";switch(x&&C&&(ie=e(oe+ie,oe.length?H-Q.length:1/0),oe=""),T){case"<":ie=X+ie+Q+oe;break;case"=":ie=X+oe+ie+Q;break;case"^":ie=oe.slice(0,ue=oe.length>>1)+X+ie+Q+oe.slice(ue);break;default:ie=oe+X+ie+Q;break}return r(ie)}return le.toString=function(){return b+""},le}function f(b,S){var T=d((b=jr(b),b.type="f",b)),j=Math.max(-8,Math.min(8,Math.floor(ho(S)/3)))*3,J=Math.pow(10,-j),C=c7[8+j/3];return function(H){return T(J*H)+C}}return{format:d,formatPrefix:f}}var d7,c7,g7=z(()=>{Mu();i7();o7();Nv();t7();u7();Kv();h7();d7=Array.prototype.map,c7=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function Ov(a){return qd=m7(a),Cs=qd.format,Vd=qd.formatPrefix,qd}var qd,Cs,Vd,A7=z(()=>{g7();Ov({thousands:",",grouping:[3],currency:["$",""]})});function Zv(a){return Math.max(0,-ho(Math.abs(a)))}var v7=z(()=>{Mu()});function Uv(a,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ho(e)/3)))*3-ho(Math.abs(a)))}var p7=z(()=>{Mu()});function Yv(a,e){return a=Math.abs(a),e=Math.abs(e)-a,Math.max(0,ho(e)-ho(a))+1}var f7=z(()=>{Mu()});var Od=z(()=>{A7();Nv();v7();p7();f7()});var aa,Ya=z(()=>{aa=Math.random});var y7,k7=z(()=>{Ya();y7=function a(e){function i(n,o){return n=n==null?0:+n,o=o==null?1:+o,arguments.length===1?(o=n,n=0):o-=n,function(){return e()*o+n}}return i.source=a,i}(aa)});var b7,B7=z(()=>{Ya();b7=function a(e){function i(n,o){return arguments.length<2&&(o=n,n=0),n=Math.floor(n),o=Math.floor(o)-n,function(){return Math.floor(e()*o+n)}}return i.source=a,i}(aa)});var Ts,Zd=z(()=>{Ya();Ts=function a(e){function i(n,o){var r,t;return n=n==null?0:+n,o=o==null?1:+o,function(){var s;if(r!=null)s=r,r=null;else do r=e()*2-1,s=e()*2-1,t=r*r+s*s;while(!t||t>1);return n+o*s*Math.sqrt(-2*Math.log(t)/t)}}return i.source=a,i}(aa)});var S7,z7=z(()=>{Ya();Zd();S7=function a(e){var i=Ts.source(e);function n(){var o=i.apply(this,arguments);return function(){return Math.exp(o())}}return n.source=a,n}(aa)});var Ud,Xv=z(()=>{Ya();Ud=function a(e){function i(n){return(n=+n)<=0?()=>0:function(){for(var o=0,r=n;r>1;--r)o+=e();return o+r*e()}}return i.source=a,i}(aa)});var w7,M7=z(()=>{Ya();Xv();w7=function a(e){var i=Ud.source(e);function n(o){if((o=+o)==0)return e;var r=i(o);return function(){return r()/o}}return n.source=a,n}(aa)});var C7,T7=z(()=>{Ya();C7=function a(e){function i(n){return function(){return-Math.log1p(-e())/n}}return i.source=a,i}(aa)});var P7,j7=z(()=>{Ya();P7=function a(e){function i(n){if((n=+n)<0)throw new RangeError("invalid alpha");return n=1/-n,function(){return Math.pow(1-e(),n)}}return i.source=a,i}(aa)});var R7,L7=z(()=>{Ya();R7=function a(e){function i(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return function(){return Math.floor(e()+n)}}return i.source=a,i}(aa)});var Yd,Qv=z(()=>{Ya();Yd=function a(e){function i(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return n===0?()=>1/0:n===1?()=>1:(n=Math.log1p(-n),function(){return 1+Math.floor(Math.log1p(-e())/n)})}return i.source=a,i}(aa)});var Ps,Xd=z(()=>{Ya();Zd();Ps=function a(e){var i=Ts.source(e)();function n(o,r){if((o=+o)<0)throw new RangeError("invalid k");if(o===0)return()=>0;if(r=r==null?1:+r,o===1)return()=>-Math.log1p(-e())*r;var t=(o<1?o+1:o)-1/3,s=1/(3*Math.sqrt(t)),h=o<1?()=>Math.pow(e(),1/o):()=>1;return function(){do{do var d=i(),f=1+s*d;while(f<=0);f*=f*f;var b=1-e()}while(b>=1-.0331*d*d*d*d&&Math.log(b)>=.5*d*d+t*(1-f+Math.log(f)));return t*f*h()*r}}return n.source=a,n}(aa)});var Qd,$v=z(()=>{Ya();Xd();Qd=function a(e){var i=Ps.source(e);function n(o,r){var t=i(o),s=i(r);return function(){var h=t();return h===0?0:h/(h+s())}}return n.source=a,n}(aa)});var $d,_v=z(()=>{Ya();$v();Qv();$d=function a(e){var i=Yd.source(e),n=Qd.source(e);function o(r,t){return r=+r,(t=+t)>=1?()=>r:t<=0?()=>0:function(){for(var s=0,h=r,d=t;h*d>16&&h*(1-d)>16;){var f=Math.floor((h+1)*d),b=n(f,h-f+1)();b<=d?(s+=f,h-=f,d=(d-b)/(1-b)):(h=f-1,d/=b)}for(var S=d<.5,T=S?d:1-d,j=i(T),J=j(),C=0;J<=h;++C)J+=j();return s+(S?C:h-C)}}return o.source=a,o}(aa)});var J7,D7=z(()=>{Ya();J7=function a(e){function i(n,o,r){var t;return(n=+n)==0?t=s=>-Math.log(s):(n=1/n,t=s=>Math.pow(s,n)),o=o==null?0:+o,r=r==null?1:+r,function(){return o+r*t(-Math.log1p(-e()))}}return i.source=a,i}(aa)});var H7,G7=z(()=>{Ya();H7=function a(e){function i(n,o){return n=n==null?0:+n,o=o==null?1:+o,function(){return n+o*Math.tan(Math.PI*e())}}return i.source=a,i}(aa)});var I7,E7=z(()=>{Ya();I7=function a(e){function i(n,o){return n=n==null?0:+n,o=o==null?1:+o,function(){var r=e();return n+o*Math.log(r/(1-r))}}return i.source=a,i}(aa)});var F7,N7=z(()=>{Ya();_v();Xd();F7=function a(e){var i=Ps.source(e),n=$d.source(e);function o(r){return function(){for(var t=0,s=r;s>16;){var h=Math.floor(.875*s),d=i(h)();if(d>s)return t+n(h-1,s/d)();t+=h,s-=d}for(var f=-Math.log1p(-e()),b=0;f<=s;++b)f-=Math.log1p(-e());return t+b}}return o.source=a,o}(aa)});function ep(a=Math.random()){let e=(0<=a&&a<1?a/x7:Math.abs(a))|0;return()=>(e=aJ*e+iJ|0,x7*(e>>>0))}var aJ,iJ,x7,K7=z(()=>{aJ=1664525,iJ=1013904223,x7=1/4294967296});var W7={};Ua(W7,{randomBates:()=>w7,randomBernoulli:()=>R7,randomBeta:()=>Qd,randomBinomial:()=>$d,randomCauchy:()=>H7,randomExponential:()=>C7,randomGamma:()=>Ps,randomGeometric:()=>Yd,randomInt:()=>b7,randomIrwinHall:()=>Ud,randomLcg:()=>ep,randomLogNormal:()=>S7,randomLogistic:()=>I7,randomNormal:()=>Ts,randomPareto:()=>P7,randomPoisson:()=>F7,randomUniform:()=>y7,randomWeibull:()=>J7});var ap=z(()=>{k7();B7();Zd();z7();M7();Xv();T7();j7();L7();Qv();_v();Xd();$v();D7();G7();E7();N7();K7()});function Sa(a,e){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(e).domain(a);break}return this}function Sn(a,e){switch(arguments.length){case 0:break;case 1:{typeof a=="function"?this.interpolator(a):this.range(a);break}default:{this.domain(a),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var Bi=z(()=>{});function js(){var a=new ao,e=[],i=[],n=_d;function o(r){let t=a.get(r);if(t===void 0){if(n!==_d)return n;a.set(r,t=e.push(r)-1)}return i[t%i.length]}return o.domain=function(r){if(!arguments.length)return e.slice();e=[],a=new ao;for(let t of r)a.has(t)||a.set(t,e.push(t)-1);return o},o.range=function(r){return arguments.length?(i=Array.from(r),o):i.slice()},o.unknown=function(r){return arguments.length?(n=r,o):n},o.copy=function(){return js(e,i).unknown(n)},Sa.apply(o,arguments),o}var _d,ip=z(()=>{qi();Bi();_d=Symbol("implicit")});function Cu(){var a=js().unknown(void 0),e=a.domain,i=a.range,n=0,o=1,r,t,s=!1,h=0,d=0,f=.5;delete a.unknown;function b(){var S=e().length,T=o<n,j=T?o:n,J=T?n:o;r=(J-j)/Math.max(1,S-h+d*2),s&&(r=Math.floor(r)),j+=(J-j-r*(S-h))*f,t=r*(1-h),s&&(j=Math.round(j),t=Math.round(t));var C=Xl(S).map(function(H){return j+r*H});return i(T?C.reverse():C)}return a.domain=function(S){return arguments.length?(e(S),b()):e()},a.range=function(S){return arguments.length?([n,o]=S,n=+n,o=+o,b()):[n,o]},a.rangeRound=function(S){return[n,o]=S,n=+n,o=+o,s=!0,b()},a.bandwidth=function(){return t},a.step=function(){return r},a.round=function(S){return arguments.length?(s=!!S,b()):s},a.padding=function(S){return arguments.length?(h=Math.min(1,d=+S),b()):h},a.paddingInner=function(S){return arguments.length?(h=Math.min(1,S),b()):h},a.paddingOuter=function(S){return arguments.length?(d=+S,b()):d},a.align=function(S){return arguments.length?(f=Math.max(0,Math.min(1,S)),b()):f},a.copy=function(){return Cu(e(),[n,o]).round(s).paddingInner(h).paddingOuter(d).align(f)},Sa.apply(b(),arguments)}function q7(a){var e=a.copy;return a.padding=a.paddingOuter,delete a.paddingInner,delete a.paddingOuter,a.copy=function(){return q7(e())},a}function V7(){return q7(Cu.apply(null,arguments).paddingInner(1))}var O7=z(()=>{qi();Bi();ip()});function np(a){return function(){return a}}var Z7=z(()=>{});function Rr(a){return+a}var ec=z(()=>{});function Wa(a){return a}function op(a,e){return(e-=a=+a)?function(i){return(i-a)/e}:np(isNaN(e)?NaN:.5)}function nJ(a,e){var i;return a>e&&(i=a,a=e,e=i),function(n){return Math.max(a,Math.min(e,n))}}function oJ(a,e,i){var n=a[0],o=a[1],r=e[0],t=e[1];return o<n?(n=op(o,n),r=i(t,r)):(n=op(n,o),r=i(r,t)),function(s){return r(n(s))}}function rJ(a,e,i){var n=Math.min(a.length,e.length)-1,o=new Array(n),r=new Array(n),t=-1;for(a[n]<a[0]&&(a=a.slice().reverse(),e=e.slice().reverse());++t<n;)o[t]=op(a[t],a[t+1]),r[t]=i(e[t],e[t+1]);return function(s){var h=Wi(a,s,1,n)-1;return r[h](o[h](s))}}function co(a,e){return e.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function Tt(){var a=U7,e=U7,i=Di,n,o,r,t=Wa,s,h,d;function f(){var S=Math.min(a.length,e.length);return t!==Wa&&(t=nJ(a[0],a[S-1])),s=S>2?rJ:oJ,h=d=null,b}function b(S){return S==null||isNaN(S=+S)?r:(h||(h=s(a.map(n),e,i)))(n(t(S)))}return b.invert=function(S){return t(o((d||(d=s(e,a.map(n),ri)))(S)))},b.domain=function(S){return arguments.length?(a=Array.from(S,Rr),f()):a.slice()},b.range=function(S){return arguments.length?(e=Array.from(S),f()):e.slice()},b.rangeRound=function(S){return e=Array.from(S),i=yt,f()},b.clamp=function(S){return arguments.length?(t=S?!0:Wa,f()):t!==Wa},b.interpolate=function(S){return arguments.length?(i=S,f()):i},b.unknown=function(S){return arguments.length?(r=S,b):r},function(S,T){return n=S,o=T,f()}}function Pt(){return Tt()(Wa,Wa)}var U7,mo=z(()=>{qi();an();Z7();ec();U7=[0,1]});function Tu(a,e,i,n){var o=gt(a,e,i),r;switch(n=jr(n??",f"),n.type){case"s":{var t=Math.max(Math.abs(a),Math.abs(e));return n.precision==null&&!isNaN(r=Uv(o,t))&&(n.precision=r),Vd(n,t)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(r=Yv(o,Math.max(Math.abs(a),Math.abs(e))))&&(n.precision=r-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(r=Zv(o))&&(n.precision=r-(n.type==="%")*2);break}}return Cs(n)}var rp=z(()=>{qi();Od()});function Gi(a){var e=a.domain;return a.ticks=function(i){var n=e();return io(n[0],n[n.length-1],i??10)},a.tickFormat=function(i,n){var o=e();return Tu(o[0],o[o.length-1],i??10,n)},a.nice=function(i){i==null&&(i=10);var n=e(),o=0,r=n.length-1,t=n[o],s=n[r],h,d,f=10;for(s<t&&(d=t,t=s,s=d,d=o,o=r,r=d);f-- >0;){if(d=Jo(t,s,i),d===h)return n[o]=t,n[r]=s,e(n);if(d>0)t=Math.floor(t/d)*d,s=Math.ceil(s/d)*d;else if(d<0)t=Math.ceil(t*d)/d,s=Math.floor(s*d)/d;else break;h=d}return a},a}function go(){var a=Pt();return a.copy=function(){return co(a,go())},Sa.apply(a,arguments),Gi(a)}var Fo=z(()=>{qi();mo();Bi();rp()});function jt(a){var e;function i(n){return n==null||isNaN(n=+n)?e:n}return i.invert=i,i.domain=i.range=function(n){return arguments.length?(a=Array.from(n,Rr),i):a.slice()},i.unknown=function(n){return arguments.length?(e=n,i):e},i.copy=function(){return jt(a).unknown(e)},a=arguments.length?Array.from(a,Rr):[0,1],Gi(i)}var Y7=z(()=>{Fo();ec()});function Pu(a,e){a=a.slice();var i=0,n=a.length-1,o=a[i],r=a[n],t;return r<o&&(t=i,i=n,n=t,t=o,o=r,r=t),a[i]=e.floor(o),a[n]=e.ceil(r),a}var tp=z(()=>{});function X7(a){return Math.log(a)}function Q7(a){return Math.exp(a)}function tJ(a){return-Math.log(-a)}function sJ(a){return-Math.exp(-a)}function lJ(a){return isFinite(a)?+("1e"+a):a<0?0:a}function uJ(a){return a===10?lJ:a===Math.E?Math.exp:function(e){return Math.pow(a,e)}}function hJ(a){return a===Math.E?Math.log:a===10&&Math.log10||a===2&&Math.log2||(a=Math.log(a),function(e){return Math.log(e)/a})}function $7(a){return function(e){return-a(-e)}}function ju(a){var e=a(X7,Q7),i=e.domain,n=10,o,r;function t(){return o=hJ(n),r=uJ(n),i()[0]<0?(o=$7(o),r=$7(r),a(tJ,sJ)):a(X7,Q7),e}return e.base=function(s){return arguments.length?(n=+s,t()):n},e.domain=function(s){return arguments.length?(i(s),t()):i()},e.ticks=function(s){var h=i(),d=h[0],f=h[h.length-1],b;(b=f<d)&&(S=d,d=f,f=S);var S=o(d),T=o(f),j,J,C,H=s==null?10:+s,x=[];if(!(n%1)&&T-S<H){if(S=Math.floor(S),T=Math.ceil(T),d>0){for(;S<=T;++S)for(J=1,j=r(S);J<n;++J)if(C=j*J,!(C<d)){if(C>f)break;x.push(C)}}else for(;S<=T;++S)for(J=n-1,j=r(S);J>=1;--J)if(C=j*J,!(C<d)){if(C>f)break;x.push(C)}x.length*2<H&&(x=io(d,f,H))}else x=io(S,T,Math.min(T-S,H)).map(r);return b?x.reverse():x},e.tickFormat=function(s,h){if(h==null&&(h=n===10?".0e":","),typeof h!="function"&&(h=Cs(h)),s===1/0)return h;s==null&&(s=10);var d=Math.max(1,n*s/e.ticks().length);return function(f){var b=f/r(Math.round(o(f)));return b*n<n-.5&&(b*=n),b<=d?h(f):""}},e.nice=function(){return i(Pu(i(),{floor:function(s){return r(Math.floor(o(s)))},ceil:function(s){return r(Math.ceil(o(s)))}}))},e}function ac(){var a=ju(Tt()).domain([1,10]);return a.copy=function(){return co(a,ac()).base(a.base())},Sa.apply(a,arguments),a}var ic=z(()=>{qi();Od();tp();mo();Bi()});function _7(a){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/a))}}function e3(a){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*a}}function Ru(a){var e=1,i=a(_7(e),e3(e));return i.constant=function(n){return arguments.length?a(_7(e=+n),e3(e)):e},Gi(i)}function nc(){var a=Ru(Tt());return a.copy=function(){return co(a,nc()).constant(a.constant())},Sa.apply(a,arguments)}var oc=z(()=>{Fo();mo();Bi()});function a3(a){return function(e){return e<0?-Math.pow(-e,a):Math.pow(e,a)}}function dJ(a){return a<0?-Math.sqrt(-a):Math.sqrt(a)}function cJ(a){return a<0?-a*a:a*a}function Lu(a){var e=a(Wa,Wa),i=1;function n(){return i===1?a(Wa,Wa):i===.5?a(dJ,cJ):a(a3(i),a3(1/i))}return e.exponent=function(o){return arguments.length?(i=+o,n()):i},Gi(e)}function Ju(){var a=Lu(Tt());return a.copy=function(){return co(a,Ju()).exponent(a.exponent())},Sa.apply(a,arguments),a}function i3(){return Ju.apply(null,arguments).exponent(.5)}var rc=z(()=>{Fo();mo();Bi()});function n3(a){return Math.sign(a)*a*a}function mJ(a){return Math.sign(a)*Math.sqrt(Math.abs(a))}function tc(){var a=Pt(),e=[0,1],i=!1,n;function o(r){var t=mJ(a(r));return isNaN(t)?n:i?Math.round(t):t}return o.invert=function(r){return a.invert(n3(r))},o.domain=function(r){return arguments.length?(a.domain(r),o):a.domain()},o.range=function(r){return arguments.length?(a.range((e=Array.from(r,Rr)).map(n3)),o):e.slice()},o.rangeRound=function(r){return o.range(r).round(!0)},o.round=function(r){return arguments.length?(i=!!r,o):i},o.clamp=function(r){return arguments.length?(a.clamp(r),o):a.clamp()},o.unknown=function(r){return arguments.length?(n=r,o):n},o.copy=function(){return tc(a.domain(),e).round(i).clamp(a.clamp()).unknown(n)},Sa.apply(o,arguments),Gi(o)}var o3=z(()=>{mo();Bi();Fo();ec()});function sc(){var a=[],e=[],i=[],n;function o(){var t=0,s=Math.max(1,e.length);for(i=new Array(s-1);++t<s;)i[t-1]=od(a,t/s);return r}function r(t){return t==null||isNaN(t=+t)?n:e[Wi(i,t)]}return r.invertExtent=function(t){var s=e.indexOf(t);return s<0?[NaN,NaN]:[s>0?i[s-1]:a[0],s<i.length?i[s]:a[a.length-1]]},r.domain=function(t){if(!arguments.length)return a.slice();a=[];for(let s of t)s!=null&&!isNaN(s=+s)&&a.push(s);return a.sort(ca),o()},r.range=function(t){return arguments.length?(e=Array.from(t),o()):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.quantiles=function(){return i.slice()},r.copy=function(){return sc().domain(a).range(e).unknown(n)},Sa.apply(r,arguments)}var r3=z(()=>{qi();Bi()});function lc(){var a=0,e=1,i=1,n=[.5],o=[0,1],r;function t(h){return h!=null&&h<=h?o[Wi(n,h,0,i)]:r}function s(){var h=-1;for(n=new Array(i);++h<i;)n[h]=((h+1)*e-(h-i)*a)/(i+1);return t}return t.domain=function(h){return arguments.length?([a,e]=h,a=+a,e=+e,s()):[a,e]},t.range=function(h){return arguments.length?(i=(o=Array.from(h)).length-1,s()):o.slice()},t.invertExtent=function(h){var d=o.indexOf(h);return d<0?[NaN,NaN]:d<1?[a,n[0]]:d>=i?[n[i-1],e]:[n[d-1],n[d]]},t.unknown=function(h){return arguments.length&&(r=h),t},t.thresholds=function(){return n.slice()},t.copy=function(){return lc().domain([a,e]).range(o).unknown(r)},Sa.apply(Gi(t),arguments)}var t3=z(()=>{qi();Fo();Bi()});function uc(){var a=[.5],e=[0,1],i,n=1;function o(r){return r!=null&&r<=r?e[Wi(a,r,0,n)]:i}return o.domain=function(r){return arguments.length?(a=Array.from(r),n=Math.min(a.length,e.length-1),o):a.slice()},o.range=function(r){return arguments.length?(e=Array.from(r),n=Math.min(a.length,e.length-1),o):e.slice()},o.invertExtent=function(r){var t=e.indexOf(r);return[a[t-1],a[t]]},o.unknown=function(r){return arguments.length?(i=r,o):i},o.copy=function(){return uc().domain(a).range(e).unknown(i)},Sa.apply(o,arguments)}var s3=z(()=>{qi();Bi()});function Qe(a,e,i,n){function o(r){return a(r=arguments.length===0?new Date:new Date(+r)),r}return o.floor=function(r){return a(r=new Date(+r)),r},o.ceil=function(r){return a(r=new Date(r-1)),e(r,1),a(r),r},o.round=function(r){var t=o(r),s=o.ceil(r);return r-t<s-r?t:s},o.offset=function(r,t){return e(r=new Date(+r),t==null?1:Math.floor(t)),r},o.range=function(r,t,s){var h=[],d;if(r=o.ceil(r),s=s==null?1:Math.floor(s),!(r<t)||!(s>0))return h;do h.push(d=new Date(+r)),e(r,s),a(r);while(d<r&&r<t);return h},o.filter=function(r){return Qe(function(t){if(t>=t)for(;a(t),!r(t);)t.setTime(t-1)},function(t,s){if(t>=t)if(s<0)for(;++s<=0;)for(;e(t,-1),!r(t););else for(;--s>=0;)for(;e(t,1),!r(t););})},i&&(o.count=function(r,t){return sp.setTime(+r),lp.setTime(+t),a(sp),a(lp),Math.floor(i(sp,lp))},o.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?o.filter(n?function(t){return n(t)%r==0}:function(t){return o.count(0,t)%r==0}):o}),o}var sp,lp,Si=z(()=>{sp=new Date,lp=new Date});var hc,Du,up,hp=z(()=>{Si();hc=Qe(function(){},function(a,e){a.setTime(+a+e)},function(a,e){return e-a});hc.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?Qe(function(e){e.setTime(Math.floor(e/a)*a)},function(e,i){e.setTime(+e+i*a)},function(e,i){return(i-e)/a}):hc};Du=hc,up=hc.range});var nn,Xa,zn,Ao,Rs,dp,dc,In=z(()=>{nn=1e3,Xa=nn*60,zn=Xa*60,Ao=zn*24,Rs=Ao*7,dp=Ao*30,dc=Ao*365});var l3,wn,cp,mp=z(()=>{Si();In();l3=Qe(function(a){a.setTime(a-a.getMilliseconds())},function(a,e){a.setTime(+a+e*nn)},function(a,e){return(e-a)/nn},function(a){return a.getUTCSeconds()}),wn=l3,cp=l3.range});var u3,Ls,h3,gp=z(()=>{Si();In();u3=Qe(function(a){a.setTime(a-a.getMilliseconds()-a.getSeconds()*nn)},function(a,e){a.setTime(+a+e*Xa)},function(a,e){return(e-a)/Xa},function(a){return a.getMinutes()}),Ls=u3,h3=u3.range});var d3,Js,c3,Ap=z(()=>{Si();In();d3=Qe(function(a){a.setTime(a-a.getMilliseconds()-a.getSeconds()*nn-a.getMinutes()*Xa)},function(a,e){a.setTime(+a+e*zn)},function(a,e){return(e-a)/zn},function(a){return a.getHours()}),Js=d3,c3=d3.range});var m3,No,g3,vp=z(()=>{Si();In();m3=Qe(a=>a.setHours(0,0,0,0),(a,e)=>a.setDate(a.getDate()+e),(a,e)=>(e-a-(e.getTimezoneOffset()-a.getTimezoneOffset())*Xa)/Ao,a=>a.getDate()-1),No=m3,g3=m3.range});function Rt(a){return Qe(function(e){e.setDate(e.getDate()-(e.getDay()+7-a)%7),e.setHours(0,0,0,0)},function(e,i){e.setDate(e.getDate()+i*7)},function(e,i){return(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*Xa)/Rs})}var vo,Lt,pp,fp,xo,yp,kp,bp,A3,v3,p3,f3,y3,k3,Bp=z(()=>{Si();In();vo=Rt(0),Lt=Rt(1),pp=Rt(2),fp=Rt(3),xo=Rt(4),yp=Rt(5),kp=Rt(6),bp=vo.range,A3=Lt.range,v3=pp.range,p3=fp.range,f3=xo.range,y3=yp.range,k3=kp.range});var b3,Ds,B3,Sp=z(()=>{Si();b3=Qe(function(a){a.setDate(1),a.setHours(0,0,0,0)},function(a,e){a.setMonth(a.getMonth()+e)},function(a,e){return e.getMonth()-a.getMonth()+(e.getFullYear()-a.getFullYear())*12},function(a){return a.getMonth()}),Ds=b3,B3=b3.range});var zp,Mn,S3,wp=z(()=>{Si();zp=Qe(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,e){a.setFullYear(a.getFullYear()+e)},function(a,e){return e.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});zp.every=function(a){return!isFinite(a=Math.floor(a))||!(a>0)?null:Qe(function(e){e.setFullYear(Math.floor(e.getFullYear()/a)*a),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i*a)})};Mn=zp,S3=zp.range});var z3,Hs,w3,Mp=z(()=>{Si();In();z3=Qe(function(a){a.setUTCSeconds(0,0)},function(a,e){a.setTime(+a+e*Xa)},function(a,e){return(e-a)/Xa},function(a){return a.getUTCMinutes()}),Hs=z3,w3=z3.range});var M3,Gs,C3,Cp=z(()=>{Si();In();M3=Qe(function(a){a.setUTCMinutes(0,0,0)},function(a,e){a.setTime(+a+e*zn)},function(a,e){return(e-a)/zn},function(a){return a.getUTCHours()}),Gs=M3,C3=M3.range});var T3,Ko,P3,Tp=z(()=>{Si();In();T3=Qe(function(a){a.setUTCHours(0,0,0,0)},function(a,e){a.setUTCDate(a.getUTCDate()+e)},function(a,e){return(e-a)/Ao},function(a){return a.getUTCDate()-1}),Ko=T3,P3=T3.range});function Jt(a){return Qe(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-a)%7),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCDate(e.getUTCDate()+i*7)},function(e,i){return(i-e)/Rs})}var po,Dt,Pp,jp,Wo,Rp,Lp,Jp,j3,R3,L3,J3,D3,H3,Dp=z(()=>{Si();In();po=Jt(0),Dt=Jt(1),Pp=Jt(2),jp=Jt(3),Wo=Jt(4),Rp=Jt(5),Lp=Jt(6),Jp=po.range,j3=Dt.range,R3=Pp.range,L3=jp.range,J3=Wo.range,D3=Rp.range,H3=Lp.range});var G3,Is,I3,Hp=z(()=>{Si();G3=Qe(function(a){a.setUTCDate(1),a.setUTCHours(0,0,0,0)},function(a,e){a.setUTCMonth(a.getUTCMonth()+e)},function(a,e){return e.getUTCMonth()-a.getUTCMonth()+(e.getUTCFullYear()-a.getUTCFullYear())*12},function(a){return a.getUTCMonth()}),Is=G3,I3=G3.range});var Gp,Cn,E3,Ip=z(()=>{Si();Gp=Qe(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,e){a.setUTCFullYear(a.getUTCFullYear()+e)},function(a,e){return e.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});Gp.every=function(a){return!isFinite(a=Math.floor(a))||!(a>0)?null:Qe(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/a)*a),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*a)})};Cn=Gp,E3=Gp.range});function F3(a,e,i,n,o,r){let t=[[wn,1,nn],[wn,5,5*nn],[wn,15,15*nn],[wn,30,30*nn],[r,1,Xa],[r,5,5*Xa],[r,15,15*Xa],[r,30,30*Xa],[o,1,zn],[o,3,3*zn],[o,6,6*zn],[o,12,12*zn],[n,1,Ao],[n,2,2*Ao],[i,1,Rs],[e,1,dp],[e,3,3*dp],[a,1,dc]];function s(d,f,b){let S=f<d;S&&([d,f]=[f,d]);let T=b&&typeof b.range=="function"?b:h(d,f,b),j=T?T.range(d,+f+1):[];return S?j.reverse():j}function h(d,f,b){let S=Math.abs(f-d)/b,T=Br(([,,C])=>C).right(t,S);if(T===t.length)return a.every(gt(d/dc,f/dc,b));if(T===0)return Du.every(Math.max(gt(d,f,b),1));let[j,J]=t[S/t[T-1][2]<t[T][2]/S?T-1:T];return j.every(J)}return[s,h]}var cc,mc,gc,Ac,N3=z(()=>{qi();In();hp();mp();gp();Ap();vp();Bp();Sp();wp();Mp();Cp();Tp();Dp();Hp();Ip();[cc,mc]=F3(Cn,Is,po,Ko,Gs,Hs),[gc,Ac]=F3(Mn,Ds,vo,No,Js,Ls)});var x3={};Ua(x3,{timeDay:()=>No,timeDays:()=>g3,timeFriday:()=>yp,timeFridays:()=>y3,timeHour:()=>Js,timeHours:()=>c3,timeInterval:()=>Qe,timeMillisecond:()=>Du,timeMilliseconds:()=>up,timeMinute:()=>Ls,timeMinutes:()=>h3,timeMonday:()=>Lt,timeMondays:()=>A3,timeMonth:()=>Ds,timeMonths:()=>B3,timeSaturday:()=>kp,timeSaturdays:()=>k3,timeSecond:()=>wn,timeSeconds:()=>cp,timeSunday:()=>vo,timeSundays:()=>bp,timeThursday:()=>xo,timeThursdays:()=>f3,timeTickInterval:()=>Ac,timeTicks:()=>gc,timeTuesday:()=>pp,timeTuesdays:()=>v3,timeWednesday:()=>fp,timeWednesdays:()=>p3,timeWeek:()=>vo,timeWeeks:()=>bp,timeYear:()=>Mn,timeYears:()=>S3,utcDay:()=>Ko,utcDays:()=>P3,utcFriday:()=>Rp,utcFridays:()=>D3,utcHour:()=>Gs,utcHours:()=>C3,utcMillisecond:()=>Du,utcMilliseconds:()=>up,utcMinute:()=>Hs,utcMinutes:()=>w3,utcMonday:()=>Dt,utcMondays:()=>j3,utcMonth:()=>Is,utcMonths:()=>I3,utcSaturday:()=>Lp,utcSaturdays:()=>H3,utcSecond:()=>wn,utcSeconds:()=>cp,utcSunday:()=>po,utcSundays:()=>Jp,utcThursday:()=>Wo,utcThursdays:()=>J3,utcTickInterval:()=>mc,utcTicks:()=>cc,utcTuesday:()=>Pp,utcTuesdays:()=>R3,utcWednesday:()=>jp,utcWednesdays:()=>L3,utcWeek:()=>po,utcWeeks:()=>Jp,utcYear:()=>Cn,utcYears:()=>E3});var Es=z(()=>{Si();hp();mp();gp();Ap();vp();Bp();Sp();wp();Mp();Cp();Tp();Dp();Hp();Ip();N3()});function Ep(a){if(0<=a.y&&a.y<100){var e=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return e.setFullYear(a.y),e}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function Fp(a){if(0<=a.y&&a.y<100){var e=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return e.setUTCFullYear(a.y),e}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function Hu(a,e,i){return{y:a,m:e,d:i,H:0,M:0,S:0,L:0}}function Np(a){var e=a.dateTime,i=a.date,n=a.time,o=a.periods,r=a.days,t=a.shortDays,s=a.months,h=a.shortMonths,d=Gu(o),f=Iu(o),b=Gu(r),S=Iu(r),T=Gu(t),j=Iu(t),J=Gu(s),C=Iu(s),H=Gu(h),x=Iu(h),V={a:$,A:ue,b:oe,B:he,c:null,d:Z3,e:Z3,f:GJ,g:OJ,G:UJ,H:JJ,I:DJ,j:HJ,L:U3,m:IJ,M:EJ,p:ge,q:ye,Q:e6,s:a6,S:FJ,u:NJ,U:xJ,V:KJ,w:WJ,W:qJ,x:null,X:null,y:VJ,Y:ZJ,Z:YJ,"%":_3},F={a:ha,A:Pe,b:sa,B:va,c:null,d:X3,e:X3,f:_J,g:uD,G:dD,H:XJ,I:QJ,j:$J,L:Q3,m:eD,M:aD,p:Ze,q:Y,Q:e6,s:a6,S:iD,u:nD,U:oD,V:rD,w:tD,W:sD,x:null,X:null,y:lD,Y:hD,Z:cD,"%":_3},U={a:le,A:ie,b:X,B:Q,c:K,d:V3,e:V3,f:PJ,g:q3,G:W3,H:O3,I:O3,j:wJ,L:TJ,m:zJ,M:MJ,p:Ae,q:SJ,Q:RJ,s:LJ,S:CJ,u:fJ,U:yJ,V:kJ,w:pJ,W:bJ,x:ee,X:O,y:q3,Y:W3,Z:BJ,"%":jJ};V.x=N(i,V),V.X=N(n,V),V.c=N(e,V),F.x=N(i,F),F.X=N(n,F),F.c=N(e,F);function N(te,we){return function(ze){var ae=[],ya=-1,ra=0,ii=te.length,Ga,Be,ba;for(ze instanceof Date||(ze=new Date(+ze));++ya<ii;)te.charCodeAt(ya)===37&&(ae.push(te.slice(ra,ya)),(Be=K3[Ga=te.charAt(++ya)])!=null?Ga=te.charAt(++ya):Be=Ga==="e"?" ":"0",(ba=we[Ga])&&(Ga=ba(ze,Be)),ae.push(Ga),ra=ya+1);return ae.push(te.slice(ra,ya)),ae.join("")}}function re(te,we){return function(ze){var ae=Hu(1900,void 0,1),ya=ce(ae,te,ze+="",0),ra,ii;if(ya!=ze.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(we&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(ra=Fp(Hu(ae.y,0,1)),ii=ra.getUTCDay(),ra=ii>4||ii===0?Dt.ceil(ra):Dt(ra),ra=Ko.offset(ra,(ae.V-1)*7),ae.y=ra.getUTCFullYear(),ae.m=ra.getUTCMonth(),ae.d=ra.getUTCDate()+(ae.w+6)%7):(ra=Ep(Hu(ae.y,0,1)),ii=ra.getDay(),ra=ii>4||ii===0?Lt.ceil(ra):Lt(ra),ra=No.offset(ra,(ae.V-1)*7),ae.y=ra.getFullYear(),ae.m=ra.getMonth(),ae.d=ra.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),ii="Z"in ae?Fp(Hu(ae.y,0,1)).getUTCDay():Ep(Hu(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(ii+5)%7:ae.w+ae.U*7-(ii+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Fp(ae)):Ep(ae)}}function ce(te,we,ze,ae){for(var ya=0,ra=we.length,ii=ze.length,Ga,Be;ya<ra;){if(ae>=ii)return-1;if(Ga=we.charCodeAt(ya++),Ga===37){if(Ga=we.charAt(ya++),Be=U[Ga in K3?we.charAt(ya++):Ga],!Be||(ae=Be(te,ze,ae))<0)return-1}else if(Ga!=ze.charCodeAt(ae++))return-1}return ae}function Ae(te,we,ze){var ae=d.exec(we.slice(ze));return ae?(te.p=f.get(ae[0].toLowerCase()),ze+ae[0].length):-1}function le(te,we,ze){var ae=T.exec(we.slice(ze));return ae?(te.w=j.get(ae[0].toLowerCase()),ze+ae[0].length):-1}function ie(te,we,ze){var ae=b.exec(we.slice(ze));return ae?(te.w=S.get(ae[0].toLowerCase()),ze+ae[0].length):-1}function X(te,we,ze){var ae=H.exec(we.slice(ze));return ae?(te.m=x.get(ae[0].toLowerCase()),ze+ae[0].length):-1}function Q(te,we,ze){var ae=J.exec(we.slice(ze));return ae?(te.m=C.get(ae[0].toLowerCase()),ze+ae[0].length):-1}function K(te,we,ze){return ce(te,e,we,ze)}function ee(te,we,ze){return ce(te,i,we,ze)}function O(te,we,ze){return ce(te,n,we,ze)}function $(te){return t[te.getDay()]}function ue(te){return r[te.getDay()]}function oe(te){return h[te.getMonth()]}function he(te){return s[te.getMonth()]}function ge(te){return o[+(te.getHours()>=12)]}function ye(te){return 1+~~(te.getMonth()/3)}function ha(te){return t[te.getUTCDay()]}function Pe(te){return r[te.getUTCDay()]}function sa(te){return h[te.getUTCMonth()]}function va(te){return s[te.getUTCMonth()]}function Ze(te){return o[+(te.getUTCHours()>=12)]}function Y(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var we=N(te+="",V);return we.toString=function(){return te},we},parse:function(te){var we=re(te+="",!1);return we.toString=function(){return te},we},utcFormat:function(te){var we=N(te+="",F);return we.toString=function(){return te},we},utcParse:function(te){var we=re(te+="",!0);return we.toString=function(){return te},we}}}function ta(a,e,i){var n=a<0?"-":"",o=(n?-a:a)+"",r=o.length;return n+(r<i?new Array(i-r+1).join(e)+o:o)}function vJ(a){return a.replace(AJ,"\\$&")}function Gu(a){return new RegExp("^(?:"+a.map(vJ).join("|")+")","i")}function Iu(a){return new Map(a.map((e,i)=>[e.toLowerCase(),i]))}function pJ(a,e,i){var n=Qa.exec(e.slice(i,i+1));return n?(a.w=+n[0],i+n[0].length):-1}function fJ(a,e,i){var n=Qa.exec(e.slice(i,i+1));return n?(a.u=+n[0],i+n[0].length):-1}function yJ(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.U=+n[0],i+n[0].length):-1}function kJ(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.V=+n[0],i+n[0].length):-1}function bJ(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.W=+n[0],i+n[0].length):-1}function W3(a,e,i){var n=Qa.exec(e.slice(i,i+4));return n?(a.y=+n[0],i+n[0].length):-1}function q3(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function BJ(a,e,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return n?(a.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function SJ(a,e,i){var n=Qa.exec(e.slice(i,i+1));return n?(a.q=n[0]*3-3,i+n[0].length):-1}function zJ(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.m=n[0]-1,i+n[0].length):-1}function V3(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.d=+n[0],i+n[0].length):-1}function wJ(a,e,i){var n=Qa.exec(e.slice(i,i+3));return n?(a.m=0,a.d=+n[0],i+n[0].length):-1}function O3(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.H=+n[0],i+n[0].length):-1}function MJ(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.M=+n[0],i+n[0].length):-1}function CJ(a,e,i){var n=Qa.exec(e.slice(i,i+2));return n?(a.S=+n[0],i+n[0].length):-1}function TJ(a,e,i){var n=Qa.exec(e.slice(i,i+3));return n?(a.L=+n[0],i+n[0].length):-1}function PJ(a,e,i){var n=Qa.exec(e.slice(i,i+6));return n?(a.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function jJ(a,e,i){var n=gJ.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function RJ(a,e,i){var n=Qa.exec(e.slice(i));return n?(a.Q=+n[0],i+n[0].length):-1}function LJ(a,e,i){var n=Qa.exec(e.slice(i));return n?(a.s=+n[0],i+n[0].length):-1}function Z3(a,e){return ta(a.getDate(),e,2)}function JJ(a,e){return ta(a.getHours(),e,2)}function DJ(a,e){return ta(a.getHours()%12||12,e,2)}function HJ(a,e){return ta(1+No.count(Mn(a),a),e,3)}function U3(a,e){return ta(a.getMilliseconds(),e,3)}function GJ(a,e){return U3(a,e)+"000"}function IJ(a,e){return ta(a.getMonth()+1,e,2)}function EJ(a,e){return ta(a.getMinutes(),e,2)}function FJ(a,e){return ta(a.getSeconds(),e,2)}function NJ(a){var e=a.getDay();return e===0?7:e}function xJ(a,e){return ta(vo.count(Mn(a)-1,a),e,2)}function Y3(a){var e=a.getDay();return e>=4||e===0?xo(a):xo.ceil(a)}function KJ(a,e){return a=Y3(a),ta(xo.count(Mn(a),a)+(Mn(a).getDay()===4),e,2)}function WJ(a){return a.getDay()}function qJ(a,e){return ta(Lt.count(Mn(a)-1,a),e,2)}function VJ(a,e){return ta(a.getFullYear()%100,e,2)}function OJ(a,e){return a=Y3(a),ta(a.getFullYear()%100,e,2)}function ZJ(a,e){return ta(a.getFullYear()%1e4,e,4)}function UJ(a,e){var i=a.getDay();return a=i>=4||i===0?xo(a):xo.ceil(a),ta(a.getFullYear()%1e4,e,4)}function YJ(a){var e=a.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ta(e/60|0,"0",2)+ta(e%60,"0",2)}function X3(a,e){return ta(a.getUTCDate(),e,2)}function XJ(a,e){return ta(a.getUTCHours(),e,2)}function QJ(a,e){return ta(a.getUTCHours()%12||12,e,2)}function $J(a,e){return ta(1+Ko.count(Cn(a),a),e,3)}function Q3(a,e){return ta(a.getUTCMilliseconds(),e,3)}function _J(a,e){return Q3(a,e)+"000"}function eD(a,e){return ta(a.getUTCMonth()+1,e,2)}function aD(a,e){return ta(a.getUTCMinutes(),e,2)}function iD(a,e){return ta(a.getUTCSeconds(),e,2)}function nD(a){var e=a.getUTCDay();return e===0?7:e}function oD(a,e){return ta(po.count(Cn(a)-1,a),e,2)}function $3(a){var e=a.getUTCDay();return e>=4||e===0?Wo(a):Wo.ceil(a)}function rD(a,e){return a=$3(a),ta(Wo.count(Cn(a),a)+(Cn(a).getUTCDay()===4),e,2)}function tD(a){return a.getUTCDay()}function sD(a,e){return ta(Dt.count(Cn(a)-1,a),e,2)}function lD(a,e){return ta(a.getUTCFullYear()%100,e,2)}function uD(a,e){return a=$3(a),ta(a.getUTCFullYear()%100,e,2)}function hD(a,e){return ta(a.getUTCFullYear()%1e4,e,4)}function dD(a,e){var i=a.getUTCDay();return a=i>=4||i===0?Wo(a):Wo.ceil(a),ta(a.getUTCFullYear()%1e4,e,4)}function cD(){return"+0000"}function _3(){return"%"}function e6(a){return+a}function a6(a){return Math.floor(+a/1e3)}var K3,Qa,gJ,AJ,i6=z(()=>{Es();K3={"-":"",_:" ","0":"0"},Qa=/^\s*\d+/,gJ=/^%/,AJ=/[\\^$*+?|[\]().{}]/g});function xp(a){return Fs=Np(a),vc=Fs.format,n6=Fs.parse,pc=Fs.utcFormat,o6=Fs.utcParse,Fs}var Fs,vc,n6,pc,o6,r6=z(()=>{i6();xp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var fc=z(()=>{r6()});function mD(a){return new Date(a)}function gD(a){return a instanceof Date?+a:+new Date(+a)}function yc(a,e,i,n,o,r,t,s,h,d){var f=Pt(),b=f.invert,S=f.domain,T=d(".%L"),j=d(":%S"),J=d("%I:%M"),C=d("%I %p"),H=d("%a %d"),x=d("%b %d"),V=d("%B"),F=d("%Y");function U(N){return(h(N)<N?T:s(N)<N?j:t(N)<N?J:r(N)<N?C:n(N)<N?o(N)<N?H:x:i(N)<N?V:F)(N)}return f.invert=function(N){return new Date(b(N))},f.domain=function(N){return arguments.length?S(Array.from(N,gD)):S().map(mD)},f.ticks=function(N){var re=S();return a(re[0],re[re.length-1],N??10)},f.tickFormat=function(N,re){return re==null?U:d(re)},f.nice=function(N){var re=S();return(!N||typeof N.range!="function")&&(N=e(re[0],re[re.length-1],N??10)),N?S(Pu(re,N)):f},f.copy=function(){return co(f,yc(a,e,i,n,o,r,t,s,h,d))},f}function Kp(){return Sa.apply(yc(gc,Ac,Mn,Ds,vo,No,Js,Ls,wn,vc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Wp=z(()=>{Es();fc();mo();Bi();tp()});function qp(){return Sa.apply(yc(cc,mc,Cn,Is,po,Ko,Gs,Hs,wn,pc).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}var t6=z(()=>{Es();fc();Wp();Bi()});function kc(){var a=0,e=1,i,n,o,r,t=Wa,s=!1,h;function d(b){return b==null||isNaN(b=+b)?h:t(o===0?.5:(b=(r(b)-i)*o,s?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([a,e]=b,i=r(a=+a),n=r(e=+e),o=i===n?0:1/(n-i),d):[a,e]},d.clamp=function(b){return arguments.length?(s=!!b,d):s},d.interpolator=function(b){return arguments.length?(t=b,d):t};function f(b){return function(S){var T,j;return arguments.length?([T,j]=S,t=b(T,j),d):[t(0),t(1)]}}return d.range=f(Di),d.rangeRound=f(yt),d.unknown=function(b){return arguments.length?(h=b,d):h},function(b){return r=b,i=b(a),n=b(e),o=i===n?0:1/(n-i),d}}function qo(a,e){return e.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function Ns(){var a=Gi(kc()(Wa));return a.copy=function(){return qo(a,Ns())},Sn.apply(a,arguments)}function Vp(){var a=ju(kc()).domain([1,10]);return a.copy=function(){return qo(a,Vp()).base(a.base())},Sn.apply(a,arguments)}function Op(){var a=Ru(kc());return a.copy=function(){return qo(a,Op()).constant(a.constant())},Sn.apply(a,arguments)}function bc(){var a=Lu(kc());return a.copy=function(){return qo(a,bc()).exponent(a.exponent())},Sn.apply(a,arguments)}function s6(){return bc.apply(null,arguments).exponent(.5)}var Zp=z(()=>{an();mo();Bi();Fo();ic();oc();rc()});function Bc(){var a=[],e=Wa;function i(n){if(n!=null&&!isNaN(n=+n))return e((Wi(a,n,1)-1)/(a.length-1))}return i.domain=function(n){if(!arguments.length)return a.slice();a=[];for(let o of n)o!=null&&!isNaN(o=+o)&&a.push(o);return a.sort(ca),i},i.interpolator=function(n){return arguments.length?(e=n,i):e},i.range=function(){return a.map((n,o)=>e(o/(a.length-1)))},i.quantiles=function(n){return Array.from({length:n+1},(o,r)=>no(a,r/n))},i.copy=function(){return Bc(e).domain(a)},Sn.apply(i,arguments)}var l6=z(()=>{qi();mo();Bi()});function Sc(){var a=0,e=.5,i=1,n=1,o,r,t,s,h,d=Wa,f,b=!1,S;function T(J){return isNaN(J=+J)?S:(J=.5+((J=+f(J))-r)*(n*J<n*r?s:h),d(b?Math.max(0,Math.min(1,J)):J))}T.domain=function(J){return arguments.length?([a,e,i]=J,o=f(a=+a),r=f(e=+e),t=f(i=+i),s=o===r?0:.5/(r-o),h=r===t?0:.5/(t-r),n=r<o?-1:1,T):[a,e,i]},T.clamp=function(J){return arguments.length?(b=!!J,T):b},T.interpolator=function(J){return arguments.length?(d=J,T):d};function j(J){return function(C){var H,x,V;return arguments.length?([H,x,V]=C,d=Sd(J,[H,x,V]),T):[d(0),d(.5),d(1)]}}return T.range=j(Di),T.rangeRound=j(yt),T.unknown=function(J){return arguments.length?(S=J,T):S},function(J){return f=J,o=J(a),r=J(e),t=J(i),s=o===r?0:.5/(r-o),h=r===t?0:.5/(t-r),n=r<o?-1:1,T}}function zc(){var a=Gi(Sc()(Wa));return a.copy=function(){return qo(a,zc())},Sn.apply(a,arguments)}function Up(){var a=ju(Sc()).domain([.1,1,10]);return a.copy=function(){return qo(a,Up()).base(a.base())},Sn.apply(a,arguments)}function Yp(){var a=Ru(Sc());return a.copy=function(){return qo(a,Yp()).constant(a.constant())},Sn.apply(a,arguments)}function wc(){var a=Lu(Sc());return a.copy=function(){return qo(a,wc()).exponent(a.exponent())},Sn.apply(a,arguments)}function u6(){return wc.apply(null,arguments).exponent(.5)}var h6=z(()=>{an();mo();Bi();Fo();ic();Zp();oc();rc()});var d6={};Ua(d6,{scaleBand:()=>Cu,scaleDiverging:()=>zc,scaleDivergingLog:()=>Up,scaleDivergingPow:()=>wc,scaleDivergingSqrt:()=>u6,scaleDivergingSymlog:()=>Yp,scaleIdentity:()=>jt,scaleImplicit:()=>_d,scaleLinear:()=>go,scaleLog:()=>ac,scaleOrdinal:()=>js,scalePoint:()=>V7,scalePow:()=>Ju,scaleQuantile:()=>sc,scaleQuantize:()=>lc,scaleRadial:()=>tc,scaleSequential:()=>Ns,scaleSequentialLog:()=>Vp,scaleSequentialPow:()=>bc,scaleSequentialQuantile:()=>Bc,scaleSequentialSqrt:()=>s6,scaleSequentialSymlog:()=>Op,scaleSqrt:()=>i3,scaleSymlog:()=>nc,scaleThreshold:()=>uc,scaleTime:()=>Kp,scaleUtc:()=>qp,tickFormat:()=>Tu});var Xp=z(()=>{O7();Y7();Fo();ic();oc();ip();rc();o3();r3();t3();s3();Wp();t6();Zp();l6();h6();rp()});function se(a){for(var e=a.length/6|0,i=new Array(e),n=0;n<e;)i[n]="#"+a.slice(n*6,++n*6);return i}var Oe=z(()=>{});var Eu,c6=z(()=>{Oe();Eu=se("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var m6,g6=z(()=>{Oe();m6=se("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")});var A6,v6=z(()=>{Oe();A6=se("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")});var p6,f6=z(()=>{Oe();p6=se("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")});var y6,k6=z(()=>{Oe();y6=se("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")});var b6,B6=z(()=>{Oe();b6=se("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")});var S6,z6=z(()=>{Oe();S6=se("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")});var w6,M6=z(()=>{Oe();w6=se("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")});var C6,T6=z(()=>{Oe();C6=se("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")});var P6,j6=z(()=>{Oe();P6=se("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var ke,ma=z(()=>{an();ke=a=>sv(a[a.length-1])});var Qp,R6,L6=z(()=>{Oe();ma();Qp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(se),R6=ke(Qp)});var $p,J6,D6=z(()=>{Oe();ma();$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(se),J6=ke($p)});var _p,H6,G6=z(()=>{Oe();ma();_p=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(se),H6=ke(_p)});var ef,I6,E6=z(()=>{Oe();ma();ef=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(se),I6=ke(ef)});var af,F6,N6=z(()=>{Oe();ma();af=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(se),F6=ke(af)});var nf,x6,K6=z(()=>{Oe();ma();nf=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(se),x6=ke(nf)});var of,W6,q6=z(()=>{Oe();ma();of=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(se),W6=ke(of)});var rf,Mc,V6=z(()=>{Oe();ma();rf=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(se),Mc=ke(rf)});var tf,O6,Z6=z(()=>{Oe();ma();tf=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(se),O6=ke(tf)});var sf,U6,Y6=z(()=>{Oe();ma();sf=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(se),U6=ke(sf)});var lf,X6,Q6=z(()=>{Oe();ma();lf=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(se),X6=ke(lf)});var uf,$6,_6=z(()=>{Oe();ma();uf=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(se),$6=ke(uf)});var hf,ez,az=z(()=>{Oe();ma();hf=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(se),ez=ke(hf)});var df,iz,nz=z(()=>{Oe();ma();df=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(se),iz=ke(df)});var cf,oz,rz=z(()=>{Oe();ma();cf=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(se),oz=ke(cf)});var mf,tz,sz=z(()=>{Oe();ma();mf=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(se),tz=ke(mf)});var gf,lz,uz=z(()=>{Oe();ma();gf=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(se),lz=ke(gf)});var Af,hz,dz=z(()=>{Oe();ma();Af=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(se),hz=ke(Af)});var vf,cz,mz=z(()=>{Oe();ma();vf=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(se),cz=ke(vf)});var pf,gz,Az=z(()=>{Oe();ma();pf=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(se),gz=ke(pf)});var ff,vz,pz=z(()=>{Oe();ma();ff=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(se),vz=ke(ff)});var yf,fz,yz=z(()=>{Oe();ma();yf=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(se),fz=ke(yf)});var kf,kz,bz=z(()=>{Oe();ma();kf=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(se),kz=ke(kf)});var bf,Bz,Sz=z(()=>{Oe();ma();bf=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(se),Bz=ke(bf)});var Bf,zz,wz=z(()=>{Oe();ma();Bf=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(se),zz=ke(Bf)});var Sf,Mz,Cz=z(()=>{Oe();ma();Sf=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(se),Mz=ke(Sf)});var zf,Tz,Pz=z(()=>{Oe();ma();zf=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(se),Tz=ke(zf)});function jz(a){return a=Math.max(0,Math.min(1,a)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-a*(35.34-a*(2381.73-a*(6402.7-a*(7024.72-a*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+a*(170.73+a*(52.82-a*(131.46-a*(176.58-a*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+a*(442.36-a*(2482.43-a*(6167.24-a*(6614.94-a*2475.67)))))))+")"}var Rz=z(()=>{});var Lz,Jz=z(()=>{Ho();an();Lz=Bs(Ji(300,.5,0),Ji(-240,.5,1))});function Gz(a){(a<0||a>1)&&(a-=Math.floor(a));var e=Math.abs(a-.5);return Cc.h=360*a-100,Cc.s=1.5-1.5*e,Cc.l=.8-.9*e,Cc+""}var Dz,Hz,Cc,Iz=z(()=>{Ho();an();Dz=Bs(Ji(-100,.75,.35),Ji(80,1.5,.8)),Hz=Bs(Ji(260,.75,.35),Ji(80,1.5,.8)),Cc=Ji()});function Ez(a){var e;return a=(.5-a)*Math.PI,Tc.r=255*(e=Math.sin(a))*e,Tc.g=255*(e=Math.sin(a+AD))*e,Tc.b=255*(e=Math.sin(a+vD))*e,Tc+""}var Tc,AD,vD,Fz=z(()=>{Ho();Tc=Cr(),AD=Math.PI/3,vD=Math.PI*2/3});function Nz(a){return a=Math.max(0,Math.min(1,a)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+a*(1172.33-a*(10793.56-a*(33300.12-a*(38394.49-a*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+a*(557.33+a*(1225.33-a*(3574.96-a*(1073.77+a*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+a*(3211.1-a*(15327.97-a*(27814-a*(22569.18-a*6838.66)))))))+")"}var xz=z(()=>{});function Pc(a){var e=a.length;return function(i){return a[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}}var Kz,Wz,qz,Vz,Oz=z(()=>{Oe();Kz=Pc(se("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Wz=Pc(se("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qz=Pc(se("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Vz=Pc(se("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var Zz={};Ua(Zz,{interpolateBlues:()=>fz,interpolateBrBG:()=>R6,interpolateBuGn:()=>U6,interpolateBuPu:()=>X6,interpolateCividis:()=>jz,interpolateCool:()=>Hz,interpolateCubehelixDefault:()=>Lz,interpolateGnBu:()=>$6,interpolateGreens:()=>kz,interpolateGreys:()=>Bz,interpolateInferno:()=>qz,interpolateMagma:()=>Wz,interpolateOrRd:()=>ez,interpolateOranges:()=>Tz,interpolatePRGn:()=>J6,interpolatePiYG:()=>H6,interpolatePlasma:()=>Vz,interpolatePuBu:()=>oz,interpolatePuBuGn:()=>iz,interpolatePuOr:()=>I6,interpolatePuRd:()=>tz,interpolatePurples:()=>zz,interpolateRainbow:()=>Gz,interpolateRdBu:()=>F6,interpolateRdGy:()=>x6,interpolateRdPu:()=>lz,interpolateRdYlBu:()=>W6,interpolateRdYlGn:()=>Mc,interpolateReds:()=>Mz,interpolateSinebow:()=>Ez,interpolateSpectral:()=>O6,interpolateTurbo:()=>Nz,interpolateViridis:()=>Kz,interpolateWarm:()=>Dz,interpolateYlGn:()=>cz,interpolateYlGnBu:()=>hz,interpolateYlOrBr:()=>gz,interpolateYlOrRd:()=>vz,schemeAccent:()=>m6,schemeBlues:()=>yf,schemeBrBG:()=>Qp,schemeBuGn:()=>sf,schemeBuPu:()=>lf,schemeCategory10:()=>Eu,schemeDark2:()=>A6,schemeGnBu:()=>uf,schemeGreens:()=>kf,schemeGreys:()=>bf,schemeOrRd:()=>hf,schemeOranges:()=>zf,schemePRGn:()=>$p,schemePaired:()=>p6,schemePastel1:()=>y6,schemePastel2:()=>b6,schemePiYG:()=>_p,schemePuBu:()=>cf,schemePuBuGn:()=>df,schemePuOr:()=>ef,schemePuRd:()=>mf,schemePurples:()=>Bf,schemeRdBu:()=>af,schemeRdGy:()=>nf,schemeRdPu:()=>gf,schemeRdYlBu:()=>of,schemeRdYlGn:()=>rf,schemeReds:()=>Sf,schemeSet1:()=>S6,schemeSet2:()=>w6,schemeSet3:()=>C6,schemeSpectral:()=>tf,schemeTableau10:()=>P6,schemeYlGn:()=>vf,schemeYlGnBu:()=>Af,schemeYlOrBr:()=>pf,schemeYlOrRd:()=>ff});var wf=z(()=>{c6();g6();v6();f6();k6();B6();z6();M6();T6();j6();L6();D6();G6();E6();N6();K6();q6();V6();Z6();Y6();Q6();_6();az();nz();rz();sz();uz();dz();mz();Az();pz();yz();bz();Sz();wz();Cz();Pz();Rz();Jz();Iz();Fz();xz();Oz()});function Me(a){return function(){return a}}var Lr=z(()=>{});function Yz(a){return a>1?0:a<-1?Fn:Math.acos(a)}function Cf(a){return a>=1?Fu:a<=-1?-Fu:Math.asin(a)}var Mf,si,Jr,Uz,jc,En,Ht,$a,Fn,Fu,Tn,xs=z(()=>{Mf=Math.abs,si=Math.atan2,Jr=Math.cos,Uz=Math.max,jc=Math.min,En=Math.sin,Ht=Math.sqrt,$a=1e-12,Fn=Math.PI,Fu=Fn/2,Tn=2*Fn});function pD(a){return a.innerRadius}function fD(a){return a.outerRadius}function yD(a){return a.startAngle}function kD(a){return a.endAngle}function bD(a){return a&&a.padAngle}function BD(a,e,i,n,o,r,t,s){var h=i-a,d=n-e,f=t-o,b=s-r,S=b*h-f*d;if(!(S*S<$a))return S=(f*(e-r)-b*(a-o))/S,[a+S*h,e+S*d]}function Rc(a,e,i,n,o,r,t){var s=a-i,h=e-n,d=(t?r:-r)/Ht(s*s+h*h),f=d*h,b=-d*s,S=a+f,T=e+b,j=i+f,J=n+b,C=(S+j)/2,H=(T+J)/2,x=j-S,V=J-T,F=x*x+V*V,U=o-r,N=S*J-j*T,re=(V<0?-1:1)*Ht(Uz(0,U*U*F-N*N)),ce=(N*V-x*re)/F,Ae=(-N*x-V*re)/F,le=(N*V+x*re)/F,ie=(-N*x+V*re)/F,X=ce-C,Q=Ae-H,K=le-C,ee=ie-H;return X*X+Q*Q>K*K+ee*ee&&(ce=le,Ae=ie),{cx:ce,cy:Ae,x01:-f,y01:-b,x11:ce*(o/U-1),y11:Ae*(o/U-1)}}function Xz(){var a=pD,e=fD,i=Me(0),n=null,o=yD,r=kD,t=bD,s=null;function h(){var d,f,b=+a.apply(this,arguments),S=+e.apply(this,arguments),T=o.apply(this,arguments)-Fu,j=r.apply(this,arguments)-Fu,J=Mf(j-T),C=j>T;if(s||(s=d=Bn()),S<b&&(f=S,S=b,b=f),!(S>$a))s.moveTo(0,0);else if(J>Tn-$a)s.moveTo(S*Jr(T),S*En(T)),s.arc(0,0,S,T,j,!C),b>$a&&(s.moveTo(b*Jr(j),b*En(j)),s.arc(0,0,b,j,T,C));else{var H=T,x=j,V=T,F=j,U=J,N=J,re=t.apply(this,arguments)/2,ce=re>$a&&(n?+n.apply(this,arguments):Ht(b*b+S*S)),Ae=jc(Mf(S-b)/2,+i.apply(this,arguments)),le=Ae,ie=Ae,X,Q;if(ce>$a){var K=Cf(ce/b*En(re)),ee=Cf(ce/S*En(re));(U-=K*2)>$a?(K*=C?1:-1,V+=K,F-=K):(U=0,V=F=(T+j)/2),(N-=ee*2)>$a?(ee*=C?1:-1,H+=ee,x-=ee):(N=0,H=x=(T+j)/2)}var O=S*Jr(H),$=S*En(H),ue=b*Jr(F),oe=b*En(F);if(Ae>$a){var he=S*Jr(x),ge=S*En(x),ye=b*Jr(V),ha=b*En(V),Pe;if(J<Fn&&(Pe=BD(O,$,ye,ha,he,ge,ue,oe))){var sa=O-Pe[0],va=$-Pe[1],Ze=he-Pe[0],Y=ge-Pe[1],te=1/En(Yz((sa*Ze+va*Y)/(Ht(sa*sa+va*va)*Ht(Ze*Ze+Y*Y)))/2),we=Ht(Pe[0]*Pe[0]+Pe[1]*Pe[1]);le=jc(Ae,(b-we)/(te-1)),ie=jc(Ae,(S-we)/(te+1))}}N>$a?ie>$a?(X=Rc(ye,ha,O,$,S,ie,C),Q=Rc(he,ge,ue,oe,S,ie,C),s.moveTo(X.cx+X.x01,X.cy+X.y01),ie<Ae?s.arc(X.cx,X.cy,ie,si(X.y01,X.x01),si(Q.y01,Q.x01),!C):(s.arc(X.cx,X.cy,ie,si(X.y01,X.x01),si(X.y11,X.x11),!C),s.arc(0,0,S,si(X.cy+X.y11,X.cx+X.x11),si(Q.cy+Q.y11,Q.cx+Q.x11),!C),s.arc(Q.cx,Q.cy,ie,si(Q.y11,Q.x11),si(Q.y01,Q.x01),!C))):(s.moveTo(O,$),s.arc(0,0,S,H,x,!C)):s.moveTo(O,$),!(b>$a)||!(U>$a)?s.lineTo(ue,oe):le>$a?(X=Rc(ue,oe,he,ge,b,-le,C),Q=Rc(O,$,ye,ha,b,-le,C),s.lineTo(X.cx+X.x01,X.cy+X.y01),le<Ae?s.arc(X.cx,X.cy,le,si(X.y01,X.x01),si(Q.y01,Q.x01),!C):(s.arc(X.cx,X.cy,le,si(X.y01,X.x01),si(X.y11,X.x11),!C),s.arc(0,0,b,si(X.cy+X.y11,X.cx+X.x11),si(Q.cy+Q.y11,Q.cx+Q.x11),C),s.arc(Q.cx,Q.cy,le,si(Q.y11,Q.x11),si(Q.y01,Q.x01),!C))):s.arc(0,0,b,F,V,C)}if(s.closePath(),d)return s=null,d+""||null}return h.centroid=function(){var d=(+a.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+o.apply(this,arguments)+ +r.apply(this,arguments))/2-Fn/2;return[Jr(f)*d,En(f)*d]},h.innerRadius=function(d){return arguments.length?(a=typeof d=="function"?d:Me(+d),h):a},h.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),h):e},h.cornerRadius=function(d){return arguments.length?(i=typeof d=="function"?d:Me(+d),h):i},h.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Me(+d),h):n},h.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:Me(+d),h):o},h.endAngle=function(d){return arguments.length?(r=typeof d=="function"?d:Me(+d),h):r},h.padAngle=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),h):t},h.context=function(d){return arguments.length?(s=d??null,h):s},h}var Qz=z(()=>{Pr();Lr();xs()});function Dr(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}var $z,Ks=z(()=>{$z=Array.prototype.slice});function _z(a){this._context=a}function Hr(a){return new _z(a)}var Nu=z(()=>{_z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;default:this._context.lineTo(a,e);break}}}});function Ws(a){return a[0]}function qs(a){return a[1]}var Lc=z(()=>{});function Vs(a,e){var i=Me(!0),n=null,o=Hr,r=null;a=typeof a=="function"?a:a===void 0?Ws:Me(a),e=typeof e=="function"?e:e===void 0?qs:Me(e);function t(s){var h,d=(s=Dr(s)).length,f,b=!1,S;for(n==null&&(r=o(S=Bn())),h=0;h<=d;++h)!(h<d&&i(f=s[h],h,s))===b&&((b=!b)?r.lineStart():r.lineEnd()),b&&r.point(+a(f,h,s),+e(f,h,s));if(S)return r=null,S+""||null}return t.x=function(s){return arguments.length?(a=typeof s=="function"?s:Me(+s),t):a},t.y=function(s){return arguments.length?(e=typeof s=="function"?s:Me(+s),t):e},t.defined=function(s){return arguments.length?(i=typeof s=="function"?s:Me(!!s),t):i},t.curve=function(s){return arguments.length?(o=s,n!=null&&(r=o(n)),t):o},t.context=function(s){return arguments.length?(s==null?n=r=null:r=o(n=s),t):n},t}var Jc=z(()=>{Pr();Ks();Lr();Nu();Lc()});function Dc(a,e,i){var n=null,o=Me(!0),r=null,t=Hr,s=null;a=typeof a=="function"?a:a===void 0?Ws:Me(+a),e=typeof e=="function"?e:e===void 0?Me(0):Me(+e),i=typeof i=="function"?i:i===void 0?qs:Me(+i);function h(f){var b,S,T,j=(f=Dr(f)).length,J,C=!1,H,x=new Array(j),V=new Array(j);for(r==null&&(s=t(H=Bn())),b=0;b<=j;++b){if(!(b<j&&o(J=f[b],b,f))===C)if(C=!C)S=b,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),T=b-1;T>=S;--T)s.point(x[T],V[T]);s.lineEnd(),s.areaEnd()}C&&(x[b]=+a(J,b,f),V[b]=+e(J,b,f),s.point(n?+n(J,b,f):x[b],i?+i(J,b,f):V[b]))}if(H)return s=null,H+""||null}function d(){return Vs().defined(o).curve(t).context(r)}return h.x=function(f){return arguments.length?(a=typeof f=="function"?f:Me(+f),n=null,h):a},h.x0=function(f){return arguments.length?(a=typeof f=="function"?f:Me(+f),h):a},h.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Me(+f),h):n},h.y=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),i=null,h):e},h.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Me(+f),h):e},h.y1=function(f){return arguments.length?(i=f==null?null:typeof f=="function"?f:Me(+f),h):i},h.lineX0=h.lineY0=function(){return d().x(a).y(e)},h.lineY1=function(){return d().x(a).y(i)},h.lineX1=function(){return d().x(n).y(e)},h.defined=function(f){return arguments.length?(o=typeof f=="function"?f:Me(!!f),h):o},h.curve=function(f){return arguments.length?(t=f,r!=null&&(s=t(r)),h):t},h.context=function(f){return arguments.length?(f==null?r=s=null:s=t(r=f),h):r},h}var Tf=z(()=>{Pr();Ks();Lr();Nu();Jc();Lc()});function e5(a,e){return e<a?-1:e>a?1:e>=a?0:NaN}var a5=z(()=>{});function i5(a){return a}var n5=z(()=>{});function o5(){var a=i5,e=e5,i=null,n=Me(0),o=Me(Tn),r=Me(0);function t(s){var h,d=(s=Dr(s)).length,f,b,S=0,T=new Array(d),j=new Array(d),J=+n.apply(this,arguments),C=Math.min(Tn,Math.max(-Tn,o.apply(this,arguments)-J)),H,x=Math.min(Math.abs(C)/d,r.apply(this,arguments)),V=x*(C<0?-1:1),F;for(h=0;h<d;++h)(F=j[T[h]=h]=+a(s[h],h,s))>0&&(S+=F);for(e!=null?T.sort(function(U,N){return e(j[U],j[N])}):i!=null&&T.sort(function(U,N){return i(s[U],s[N])}),h=0,b=S?(C-d*V)/S:0;h<d;++h,J=H)f=T[h],F=j[f],H=J+(F>0?F*b:0)+V,j[f]={data:s[f],index:h,value:F,startAngle:J,endAngle:H,padAngle:x};return j}return t.value=function(s){return arguments.length?(a=typeof s=="function"?s:Me(+s),t):a},t.sortValues=function(s){return arguments.length?(e=s,i=null,t):e},t.sort=function(s){return arguments.length?(i=s,e=null,t):i},t.startAngle=function(s){return arguments.length?(n=typeof s=="function"?s:Me(+s),t):n},t.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:Me(+s),t):o},t.padAngle=function(s){return arguments.length?(r=typeof s=="function"?s:Me(+s),t):r},t}var r5=z(()=>{Ks();Lr();a5();n5();xs()});function t5(a){this._curve=a}function Os(a){function e(i){return new t5(a(i))}return e._curve=a,e}var Hc,Pf=z(()=>{Nu();Hc=Os(Hr);t5.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,e){this._curve.point(e*Math.sin(a),e*-Math.cos(a))}}});function Zs(a){var e=a.curve;return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a.curve=function(i){return arguments.length?e(Os(i)):e()._curve},a}function jf(){return Zs(Vs().curve(Hc))}var Rf=z(()=>{Pf();Jc()});function Lf(){var a=Dc().curve(Hc),e=a.curve,i=a.lineX0,n=a.lineX1,o=a.lineY0,r=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return Zs(i())},delete a.lineX0,a.lineEndAngle=function(){return Zs(n())},delete a.lineX1,a.lineInnerRadius=function(){return Zs(o())},delete a.lineY0,a.lineOuterRadius=function(){return Zs(r())},delete a.lineY1,a.curve=function(t){return arguments.length?e(Os(t)):e()._curve},a}var s5=z(()=>{Pf();Tf();Rf()});function Gt(a,e){return[(e=+e)*Math.cos(a-=Math.PI/2),e*Math.sin(a)]}var Jf=z(()=>{});function SD(a){return a.source}function zD(a){return a.target}function Df(a){var e=SD,i=zD,n=Ws,o=qs,r=null;function t(){var s,h=$z.call(arguments),d=e.apply(this,h),f=i.apply(this,h);if(r||(r=s=Bn()),a(r,+n.apply(this,(h[0]=d,h)),+o.apply(this,h),+n.apply(this,(h[0]=f,h)),+o.apply(this,h)),s)return r=null,s+""||null}return t.source=function(s){return arguments.length?(e=s,t):e},t.target=function(s){return arguments.length?(i=s,t):i},t.x=function(s){return arguments.length?(n=typeof s=="function"?s:Me(+s),t):n},t.y=function(s){return arguments.length?(o=typeof s=="function"?s:Me(+s),t):o},t.context=function(s){return arguments.length?(r=s??null,t):r},t}function wD(a,e,i,n,o){a.moveTo(e,i),a.bezierCurveTo(e=(e+n)/2,i,e,o,n,o)}function MD(a,e,i,n,o){a.moveTo(e,i),a.bezierCurveTo(e,i=(i+o)/2,n,i,n,o)}function CD(a,e,i,n,o){var r=Gt(e,i),t=Gt(e,i=(i+o)/2),s=Gt(n,i),h=Gt(n,o);a.moveTo(r[0],r[1]),a.bezierCurveTo(t[0],t[1],s[0],s[1],h[0],h[1])}function l5(){return Df(wD)}function u5(){return Df(MD)}function h5(){var a=Df(CD);return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a}var d5=z(()=>{Pr();Ks();Lr();Lc();Jf()});var xu,Hf=z(()=>{xs();xu={draw:function(a,e){var i=Math.sqrt(e/Fn);a.moveTo(i,0),a.arc(0,0,i,0,Tn)}}});var Gc,Gf=z(()=>{Gc={draw:function(a,e){var i=Math.sqrt(e/5)/2;a.moveTo(-3*i,-i),a.lineTo(-i,-i),a.lineTo(-i,-3*i),a.lineTo(i,-3*i),a.lineTo(i,-i),a.lineTo(3*i,-i),a.lineTo(3*i,i),a.lineTo(i,i),a.lineTo(i,3*i),a.lineTo(-i,3*i),a.lineTo(-i,i),a.lineTo(-3*i,i),a.closePath()}}});var c5,TD,Ic,If=z(()=>{c5=Math.sqrt(1/3),TD=c5*2,Ic={draw:function(a,e){var i=Math.sqrt(e/TD),n=i*c5;a.moveTo(0,-i),a.lineTo(n,0),a.lineTo(0,i),a.lineTo(-n,0),a.closePath()}}});var PD,m5,jD,RD,Ec,Ef=z(()=>{xs();PD=.8908130915292852,m5=Math.sin(Fn/10)/Math.sin(7*Fn/10),jD=Math.sin(Tn/10)*m5,RD=-Math.cos(Tn/10)*m5,Ec={draw:function(a,e){var i=Math.sqrt(e*PD),n=jD*i,o=RD*i;a.moveTo(0,-i),a.lineTo(n,o);for(var r=1;r<5;++r){var t=Tn*r/5,s=Math.cos(t),h=Math.sin(t);a.lineTo(h*i,-s*i),a.lineTo(s*n-h*o,h*n+s*o)}a.closePath()}}});var Fc,Ff=z(()=>{Fc={draw:function(a,e){var i=Math.sqrt(e),n=-i/2;a.rect(n,n,i,i)}}});var Nf,Nc,xf=z(()=>{Nf=Math.sqrt(3),Nc={draw:function(a,e){var i=-Math.sqrt(e/(Nf*3));a.moveTo(0,i*2),a.lineTo(-Nf*i,-i),a.lineTo(Nf*i,-i),a.closePath()}}});var Pn,jn,Kf,LD,xc,Wf=z(()=>{Pn=-.5,jn=Math.sqrt(3)/2,Kf=1/Math.sqrt(12),LD=(Kf/2+1)*3,xc={draw:function(a,e){var i=Math.sqrt(e/LD),n=i/2,o=i*Kf,r=n,t=i*Kf+i,s=-r,h=t;a.moveTo(n,o),a.lineTo(r,t),a.lineTo(s,h),a.lineTo(Pn*n-jn*o,jn*n+Pn*o),a.lineTo(Pn*r-jn*t,jn*r+Pn*t),a.lineTo(Pn*s-jn*h,jn*s+Pn*h),a.lineTo(Pn*n+jn*o,Pn*o-jn*n),a.lineTo(Pn*r+jn*t,Pn*t-jn*r),a.lineTo(Pn*s+jn*h,Pn*h-jn*s),a.closePath()}}});function A5(a,e){var i=null;a=typeof a=="function"?a:Me(a||xu),e=typeof e=="function"?e:Me(e===void 0?64:+e);function n(){var o;if(i||(i=o=Bn()),a.apply(this,arguments).draw(i,+e.apply(this,arguments)),o)return i=null,o+""||null}return n.type=function(o){return arguments.length?(a=typeof o=="function"?o:Me(o),n):a},n.size=function(o){return arguments.length?(e=typeof o=="function"?o:Me(+o),n):e},n.context=function(o){return arguments.length?(i=o??null,n):i},n}var g5,v5=z(()=>{Pr();Hf();Gf();If();Ef();Ff();xf();Wf();Lr();g5=[xu,Gc,Ic,Fc,Ec,Nc,xc]});function Rn(){}var Ku=z(()=>{});function Us(a,e,i){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+e)/6,(a._y0+4*a._y1+i)/6)}function Wu(a){this._context=a}function p5(a){return new Wu(a)}var qu=z(()=>{Wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Us(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Us(this,a,e);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=e}}});function f5(a){this._context=a}function y5(a){return new f5(a)}var k5=z(()=>{Ku();qu();f5.prototype={areaStart:Rn,areaEnd:Rn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._x2=a,this._y2=e;break;case 1:this._point=2,this._x3=a,this._y3=e;break;case 2:this._point=3,this._x4=a,this._y4=e,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+e)/6);break;default:Us(this,a,e);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=e}}});function b5(a){this._context=a}function B5(a){return new b5(a)}var S5=z(()=>{qu();b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+a)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:Us(this,a,e);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=e}}});function z5(a){return new qf(a,!0)}function w5(a){return new qf(a,!1)}var qf,M5=z(()=>{qf=class{constructor(e,i){this._context=e,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,i){switch(e=+e,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,i,e,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,e,this._y0,e,i);break}}this._x0=e,this._y0=i}}});function C5(a,e){this._basis=new Wu(a),this._beta=e}var T5,P5=z(()=>{qu();C5.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var a=this._x,e=this._y,i=a.length-1;if(i>0)for(var n=a[0],o=e[0],r=a[i]-n,t=e[i]-o,s=-1,h;++s<=i;)h=s/i,this._basis.point(this._beta*a[s]+(1-this._beta)*(n+h*r),this._beta*e[s]+(1-this._beta)*(o+h*t));this._x=this._y=null,this._basis.lineEnd()},point:function(a,e){this._x.push(+a),this._y.push(+e)}};T5=function a(e){function i(n){return e===1?new Wu(n):new C5(n,e)}return i.beta=function(n){return a(+n)},i}(.85)});function Ys(a,e,i){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-e),a._y2+a._k*(a._y1-i),a._x2,a._y2)}function Kc(a,e){this._context=a,this._k=(1-e)/6}var j5,Vu=z(()=>{Kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ys(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2,this._x1=a,this._y1=e;break;case 2:this._point=3;default:Ys(this,a,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};j5=function a(e){function i(n){return new Kc(n,e)}return i.tension=function(n){return a(+n)},i}(0)});function Wc(a,e){this._context=a,this._k=(1-e)/6}var R5,Vf=z(()=>{Ku();Vu();Wc.prototype={areaStart:Rn,areaEnd:Rn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._x3=a,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=e);break;case 2:this._point=3,this._x5=a,this._y5=e;break;default:Ys(this,a,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};R5=function a(e){function i(n){return new Wc(n,e)}return i.tension=function(n){return a(+n)},i}(0)});function qc(a,e){this._context=a,this._k=(1-e)/6}var L5,Of=z(()=>{Vu();qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ys(this,a,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};L5=function a(e){function i(n){return new qc(n,e)}return i.tension=function(n){return a(+n)},i}(0)});function Ou(a,e,i){var n=a._x1,o=a._y1,r=a._x2,t=a._y2;if(a._l01_a>$a){var s=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,h=3*a._l01_a*(a._l01_a+a._l12_a);n=(n*s-a._x0*a._l12_2a+a._x2*a._l01_2a)/h,o=(o*s-a._y0*a._l12_2a+a._y2*a._l01_2a)/h}if(a._l23_a>$a){var d=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,f=3*a._l23_a*(a._l23_a+a._l12_a);r=(r*d+a._x1*a._l23_2a-e*a._l12_2a)/f,t=(t*d+a._y1*a._l23_2a-i*a._l12_2a)/f}a._context.bezierCurveTo(n,o,r,t,a._x2,a._y2)}function J5(a,e){this._context=a,this._alpha=e}var D5,Vc=z(()=>{xs();Vu();J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){if(a=+a,e=+e,this._point){var i=this._x2-a,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ou(this,a,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};D5=function a(e){function i(n){return e?new J5(n,e):new Kc(n,0)}return i.alpha=function(n){return a(+n)},i}(.5)});function H5(a,e){this._context=a,this._alpha=e}var G5,I5=z(()=>{Vf();Ku();Vc();H5.prototype={areaStart:Rn,areaEnd:Rn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(a,e){if(a=+a,e=+e,this._point){var i=this._x2-a,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=e);break;case 2:this._point=3,this._x5=a,this._y5=e;break;default:Ou(this,a,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};G5=function a(e){function i(n){return e?new H5(n,e):new Wc(n,0)}return i.alpha=function(n){return a(+n)},i}(.5)});function E5(a,e){this._context=a,this._alpha=e}var F5,N5=z(()=>{Of();Vc();E5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){if(a=+a,e=+e,this._point){var i=this._x2-a,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ou(this,a,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};F5=function a(e){function i(n){return e?new E5(n,e):new qc(n,0)}return i.alpha=function(n){return a(+n)},i}(.5)});function x5(a){this._context=a}function K5(a){return new x5(a)}var W5=z(()=>{Ku();x5.prototype={areaStart:Rn,areaEnd:Rn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,e){a=+a,e=+e,this._point?this._context.lineTo(a,e):(this._point=1,this._context.moveTo(a,e))}}});function q5(a){return a<0?-1:1}function V5(a,e,i){var n=a._x1-a._x0,o=e-a._x1,r=(a._y1-a._y0)/(n||o<0&&-0),t=(i-a._y1)/(o||n<0&&-0),s=(r*o+t*n)/(n+o);return(q5(r)+q5(t))*Math.min(Math.abs(r),Math.abs(t),.5*Math.abs(s))||0}function O5(a,e){var i=a._x1-a._x0;return i?(3*(a._y1-a._y0)/i-e)/2:e}function Zf(a,e,i){var n=a._x0,o=a._y0,r=a._x1,t=a._y1,s=(r-n)/3;a._context.bezierCurveTo(n+s,o+s*e,r-s,t-s*i,r,t)}function Oc(a){this._context=a}function Z5(a){this._context=new U5(a)}function U5(a){this._context=a}function Y5(a){return new Oc(a)}function X5(a){return new Z5(a)}var Q5=z(()=>{Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zf(this,this._t0,O5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){var i=NaN;if(a=+a,e=+e,!(a===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;break;case 2:this._point=3,Zf(this,O5(this,i=V5(this,a,e)),i);break;default:Zf(this,this._t0,i=V5(this,a,e));break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=e,this._t0=i}}};(Z5.prototype=Object.create(Oc.prototype)).point=function(a,e){Oc.prototype.point.call(this,e,a)};U5.prototype={moveTo:function(a,e){this._context.moveTo(e,a)},closePath:function(){this._context.closePath()},lineTo:function(a,e){this._context.lineTo(e,a)},bezierCurveTo:function(a,e,i,n,o,r){this._context.bezierCurveTo(e,a,n,i,r,o)}}});function $5(a){this._context=a}function _5(a){var e,i=a.length-1,n,o=new Array(i),r=new Array(i),t=new Array(i);for(o[0]=0,r[0]=2,t[0]=a[0]+2*a[1],e=1;e<i-1;++e)o[e]=1,r[e]=4,t[e]=4*a[e]+2*a[e+1];for(o[i-1]=2,r[i-1]=7,t[i-1]=8*a[i-1]+a[i],e=1;e<i;++e)n=o[e]/r[e-1],r[e]-=n,t[e]-=n*t[e-1];for(o[i-1]=t[i-1]/r[i-1],e=i-2;e>=0;--e)o[e]=(t[e]-o[e+1])/r[e];for(r[i-1]=(a[i]+o[i-1])/2,e=0;e<i-1;++e)r[e]=2*a[e+1]-o[e+1];return[o,r]}function e4(a){return new $5(a)}var a4=z(()=>{$5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,e=this._y,i=a.length;if(i)if(this._line?this._context.lineTo(a[0],e[0]):this._context.moveTo(a[0],e[0]),i===2)this._context.lineTo(a[1],e[1]);else for(var n=_5(a),o=_5(e),r=0,t=1;t<i;++r,++t)this._context.bezierCurveTo(n[0][r],o[0][r],n[1][r],o[1][r],a[t],e[t]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,e){this._x.push(+a),this._y.push(+e)}}});function Zc(a,e){this._context=a,this._t=e}function i4(a){return new Zc(a,.5)}function n4(a){return new Zc(a,0)}function o4(a){return new Zc(a,1)}var r4=z(()=>{Zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(a,e);else{var i=this._x*(1-this._t)+a*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=a,this._y=e}}});function Nn(a,e){if((t=a.length)>1)for(var i=1,n,o,r=a[e[0]],t,s=r.length;i<t;++i)for(o=r,r=a[e[i]],n=0;n<s;++n)r[n][1]+=r[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}var Xs=z(()=>{});function xn(a){for(var e=a.length,i=new Array(e);--e>=0;)i[e]=e;return i}var Qs=z(()=>{});function JD(a,e){return a[e]}function DD(a){let e=[];return e.key=a,e}function t4(){var a=Me([]),e=xn,i=Nn,n=JD;function o(r){var t=Array.from(a.apply(this,arguments),DD),s,h=t.length,d=-1,f;for(let b of r)for(s=0,++d;s<h;++s)(t[s][d]=[0,+n(b,t[s].key,d,r)]).data=b;for(s=0,f=Dr(e(t));s<h;++s)t[f[s]].index=s;return i(t,f),t}return o.keys=function(r){return arguments.length?(a=typeof r=="function"?r:Me(Array.from(r)),o):a},o.value=function(r){return arguments.length?(n=typeof r=="function"?r:Me(+r),o):n},o.order=function(r){return arguments.length?(e=r==null?xn:typeof r=="function"?r:Me(Array.from(r)),o):e},o.offset=function(r){return arguments.length?(i=r??Nn,o):i},o}var s4=z(()=>{Ks();Lr();Xs();Qs()});function l4(a,e){if((n=a.length)>0){for(var i,n,o=0,r=a[0].length,t;o<r;++o){for(t=i=0;i<n;++i)t+=a[i][o][1]||0;if(t)for(i=0;i<n;++i)a[i][o][1]/=t}Nn(a,e)}}var u4=z(()=>{Xs()});function h4(a,e){if((h=a.length)>0)for(var i,n=0,o,r,t,s,h,d=a[e[0]].length;n<d;++n)for(t=s=0,i=0;i<h;++i)(r=(o=a[e[i]][n])[1]-o[0])>0?(o[0]=t,o[1]=t+=r):r<0?(o[1]=s,o[0]=s+=r):(o[0]=0,o[1]=r)}var d4=z(()=>{});function c4(a,e){if((o=a.length)>0){for(var i=0,n=a[e[0]],o,r=n.length;i<r;++i){for(var t=0,s=0;t<o;++t)s+=a[t][i][1]||0;n[i][1]+=n[i][0]=-s/2}Nn(a,e)}}var m4=z(()=>{Xs()});function g4(a,e){if(!(!((t=a.length)>0)||!((r=(o=a[e[0]]).length)>0))){for(var i=0,n=1,o,r,t;n<r;++n){for(var s=0,h=0,d=0;s<t;++s){for(var f=a[e[s]],b=f[n][1]||0,S=f[n-1][1]||0,T=(b-S)/2,j=0;j<s;++j){var J=a[e[j]],C=J[n][1]||0,H=J[n-1][1]||0;T+=C-H}h+=b,d+=T*b}o[n-1][1]+=o[n-1][0]=i,h&&(i-=d/h)}o[n-1][1]+=o[n-1][0]=i,Nn(a,e)}}var A4=z(()=>{Xs()});function Uc(a){var e=a.map(HD);return xn(a).sort(function(i,n){return e[i]-e[n]})}function HD(a){for(var e=-1,i=0,n=a.length,o,r=-1/0;++e<n;)(o=+a[e][1])>r&&(r=o,i=e);return i}var Uf=z(()=>{Qs()});function Yc(a){var e=a.map(Yf);return xn(a).sort(function(i,n){return e[i]-e[n]})}function Yf(a){for(var e=0,i=-1,n=a.length,o;++i<n;)(o=+a[i][1])&&(e+=o);return e}var Xc=z(()=>{Qs()});function v4(a){return Yc(a).reverse()}var p4=z(()=>{Xc()});function f4(a){var e=a.length,i,n,o=a.map(Yf),r=Uc(a),t=0,s=0,h=[],d=[];for(i=0;i<e;++i)n=r[i],t<s?(t+=o[n],h.push(n)):(s+=o[n],d.push(n));return d.reverse().concat(h)}var y4=z(()=>{Uf();Xc()});function k4(a){return xn(a).reverse()}var b4=z(()=>{Qs()});var B4={};Ua(B4,{arc:()=>Xz,area:()=>Dc,areaRadial:()=>Lf,curveBasis:()=>p5,curveBasisClosed:()=>y5,curveBasisOpen:()=>B5,curveBumpX:()=>z5,curveBumpY:()=>w5,curveBundle:()=>T5,curveCardinal:()=>j5,curveCardinalClosed:()=>R5,curveCardinalOpen:()=>L5,curveCatmullRom:()=>D5,curveCatmullRomClosed:()=>G5,curveCatmullRomOpen:()=>F5,curveLinear:()=>Hr,curveLinearClosed:()=>K5,curveMonotoneX:()=>Y5,curveMonotoneY:()=>X5,curveNatural:()=>e4,curveStep:()=>i4,curveStepAfter:()=>o4,curveStepBefore:()=>n4,line:()=>Vs,lineRadial:()=>jf,linkHorizontal:()=>l5,linkRadial:()=>h5,linkVertical:()=>u5,pie:()=>o5,pointRadial:()=>Gt,radialArea:()=>Lf,radialLine:()=>jf,stack:()=>t4,stackOffsetDiverging:()=>h4,stackOffsetExpand:()=>l4,stackOffsetNone:()=>Nn,stackOffsetSilhouette:()=>c4,stackOffsetWiggle:()=>g4,stackOrderAppearance:()=>Uc,stackOrderAscending:()=>Yc,stackOrderDescending:()=>v4,stackOrderInsideOut:()=>f4,stackOrderNone:()=>xn,stackOrderReverse:()=>k4,symbol:()=>A5,symbolCircle:()=>xu,symbolCross:()=>Gc,symbolDiamond:()=>Ic,symbolSquare:()=>Fc,symbolStar:()=>Ec,symbolTriangle:()=>Nc,symbolWye:()=>xc,symbols:()=>g5});var Xf=z(()=>{Qz();Tf();Jc();r5();s5();Rf();Jf();d5();v5();Hf();Gf();If();Ff();Ef();xf();Wf();k5();S5();qu();M5();P5();Vf();Of();Vu();I5();N5();Vc();W5();Nu();Q5();a4();r4();s4();u4();d4();Xs();m4();A4();Uf();Xc();p4();y4();Qs();b4()});var Zu,S4=z(()=>{Zu=a=>()=>a});function Qf(a,{sourceEvent:e,target:i,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}var z4=z(()=>{});function Ln(a,e,i){this.k=a,this.x=e,this.y=i}function Qc(a){for(;!a.__zoom;)if(!(a=a.parentNode))return $s;return a.__zoom}var $s,$f=z(()=>{Ln.prototype={constructor:Ln,scale:function(a){return a===1?this:new Ln(this.k*a,this.x,this.y)},translate:function(a,e){return a===0&e===0?this:new Ln(this.k,this.x+this.k*a,this.y+this.k*e)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};$s=new Ln(1,0,0);Qc.prototype=Ln.prototype});function $c(a){a.stopImmediatePropagation()}function _s(a){a.preventDefault(),a.stopImmediatePropagation()}var w4=z(()=>{});function GD(a){return(!a.ctrlKey||a.type==="wheel")&&!a.button}function ID(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a,a.hasAttribute("viewBox")?(a=a.viewBox.baseVal,[[a.x,a.y],[a.x+a.width,a.y+a.height]]):[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]):[[0,0],[a.clientWidth,a.clientHeight]]}function M4(){return this.__zoom||$s}function ED(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function FD(){return navigator.maxTouchPoints||"ontouchstart"in this}function ND(a,e,i){var n=a.invertX(e[0][0])-i[0][0],o=a.invertX(e[1][0])-i[1][0],r=a.invertY(e[0][1])-i[0][1],t=a.invertY(e[1][1])-i[1][1];return a.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),t>r?(r+t)/2:Math.min(0,r)||Math.max(0,t))}function C4(){var a=GD,e=ID,i=ND,n=ED,o=FD,r=[0,1/0],t=[[-1/0,-1/0],[1/0,1/0]],s=250,h=Av,d=oo("start","zoom","end"),f,b,S,T=500,j=150,J=0,C=10;function H(K){K.property("__zoom",M4).on("wheel.zoom",ce,{passive:!1}).on("mousedown.zoom",Ae).on("dblclick.zoom",le).filter(o).on("touchstart.zoom",ie).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",Q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}H.transform=function(K,ee,O,$){var ue=K.selection?K.selection():K;ue.property("__zoom",M4),K!==ue?U(K,ee,O,$):ue.interrupt().each(function(){N(this,arguments).event($).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},H.scaleBy=function(K,ee,O,$){H.scaleTo(K,function(){var ue=this.__zoom.k,oe=typeof ee=="function"?ee.apply(this,arguments):ee;return ue*oe},O,$)},H.scaleTo=function(K,ee,O,$){H.transform(K,function(){var ue=e.apply(this,arguments),oe=this.__zoom,he=O==null?F(ue):typeof O=="function"?O.apply(this,arguments):O,ge=oe.invert(he),ye=typeof ee=="function"?ee.apply(this,arguments):ee;return i(V(x(oe,ye),he,ge),ue,t)},O,$)},H.translateBy=function(K,ee,O,$){H.transform(K,function(){return i(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof O=="function"?O.apply(this,arguments):O),e.apply(this,arguments),t)},null,$)},H.translateTo=function(K,ee,O,$,ue){H.transform(K,function(){var oe=e.apply(this,arguments),he=this.__zoom,ge=$==null?F(oe):typeof $=="function"?$.apply(this,arguments):$;return i($s.translate(ge[0],ge[1]).scale(he.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof O=="function"?-O.apply(this,arguments):-O),oe,t)},$,ue)};function x(K,ee){return ee=Math.max(r[0],Math.min(r[1],ee)),ee===K.k?K:new Ln(ee,K.x,K.y)}function V(K,ee,O){var $=ee[0]-O[0]*K.k,ue=ee[1]-O[1]*K.k;return $===K.x&&ue===K.y?K:new Ln(K.k,$,ue)}function F(K){return[(+K[0][0]+ +K[1][0])/2,(+K[0][1]+ +K[1][1])/2]}function U(K,ee,O,$){K.on("start.zoom",function(){N(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event($).end()}).tween("zoom",function(){var ue=this,oe=arguments,he=N(ue,oe).event($),ge=e.apply(ue,oe),ye=O==null?F(ge):typeof O=="function"?O.apply(ue,oe):O,ha=Math.max(ge[1][0]-ge[0][0],ge[1][1]-ge[0][1]),Pe=ue.__zoom,sa=typeof ee=="function"?ee.apply(ue,oe):ee,va=h(Pe.invert(ye).concat(ha/Pe.k),sa.invert(ye).concat(ha/sa.k));return function(Ze){if(Ze===1)Ze=sa;else{var Y=va(Ze),te=ha/Y[2];Ze=new Ln(te,ye[0]-Y[0]*te,ye[1]-Y[1]*te)}he.zoom(null,Ze)}})}function N(K,ee,O){return!O&&K.__zooming||new re(K,ee)}function re(K,ee){this.that=K,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=e.apply(K,ee),this.taps=0}re.prototype={event:function(K){return K&&(this.sourceEvent=K),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(K,ee){return this.mouse&&K!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&K!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&K!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(K){var ee=Ma(this.that).datum();d.call(K,this.that,new Qf(K,{sourceEvent:this.sourceEvent,target:H,type:K,transform:this.that.__zoom,dispatch:d}),ee)}};function ce(K,...ee){if(!a.apply(this,arguments))return;var O=N(this,ee).event(K),$=this.__zoom,ue=Math.max(r[0],Math.min(r[1],$.k*Math.pow(2,n.apply(this,arguments)))),oe=Ri(K);if(O.wheel)(O.mouse[0][0]!==oe[0]||O.mouse[0][1]!==oe[1])&&(O.mouse[1]=$.invert(O.mouse[0]=oe)),clearTimeout(O.wheel);else{if($.k===ue)return;O.mouse=[oe,$.invert(oe)],uo(this),O.start()}_s(K),O.wheel=setTimeout(he,j),O.zoom("mouse",i(V(x($,ue),O.mouse[0],O.mouse[1]),O.extent,t));function he(){O.wheel=null,O.end()}}function Ae(K,...ee){if(S||!a.apply(this,arguments))return;var O=K.currentTarget,$=N(this,ee,!0).event(K),ue=Ma(K.view).on("mousemove.zoom",ye,!0).on("mouseup.zoom",ha,!0),oe=Ri(K,O),he=K.clientX,ge=K.clientY;tu(K.view),$c(K),$.mouse=[oe,this.__zoom.invert(oe)],uo(this),$.start();function ye(Pe){if(_s(Pe),!$.moved){var sa=Pe.clientX-he,va=Pe.clientY-ge;$.moved=sa*sa+va*va>J}$.event(Pe).zoom("mouse",i(V($.that.__zoom,$.mouse[0]=Ri(Pe,O),$.mouse[1]),$.extent,t))}function ha(Pe){ue.on("mousemove.zoom mouseup.zoom",null),su(Pe.view,$.moved),_s(Pe),$.event(Pe).end()}}function le(K,...ee){if(!!a.apply(this,arguments)){var O=this.__zoom,$=Ri(K.changedTouches?K.changedTouches[0]:K,this),ue=O.invert($),oe=O.k*(K.shiftKey?.5:2),he=i(V(x(O,oe),$,ue),e.apply(this,ee),t);_s(K),s>0?Ma(this).transition().duration(s).call(U,he,$,K):Ma(this).call(H.transform,he,$,K)}}function ie(K,...ee){if(!!a.apply(this,arguments)){var O=K.touches,$=O.length,ue=N(this,ee,K.changedTouches.length===$).event(K),oe,he,ge,ye;for($c(K),he=0;he<$;++he)ge=O[he],ye=Ri(ge,this),ye=[ye,this.__zoom.invert(ye),ge.identifier],ue.touch0?!ue.touch1&&ue.touch0[2]!==ye[2]&&(ue.touch1=ye,ue.taps=0):(ue.touch0=ye,oe=!0,ue.taps=1+!!f);f&&(f=clearTimeout(f)),oe&&(ue.taps<2&&(b=ye[0],f=setTimeout(function(){f=null},T)),uo(this),ue.start())}}function X(K,...ee){if(!!this.__zooming){var O=N(this,ee).event(K),$=K.changedTouches,ue=$.length,oe,he,ge,ye;for(_s(K),oe=0;oe<ue;++oe)he=$[oe],ge=Ri(he,this),O.touch0&&O.touch0[2]===he.identifier?O.touch0[0]=ge:O.touch1&&O.touch1[2]===he.identifier&&(O.touch1[0]=ge);if(he=O.that.__zoom,O.touch1){var ha=O.touch0[0],Pe=O.touch0[1],sa=O.touch1[0],va=O.touch1[1],Ze=(Ze=sa[0]-ha[0])*Ze+(Ze=sa[1]-ha[1])*Ze,Y=(Y=va[0]-Pe[0])*Y+(Y=va[1]-Pe[1])*Y;he=x(he,Math.sqrt(Ze/Y)),ge=[(ha[0]+sa[0])/2,(ha[1]+sa[1])/2],ye=[(Pe[0]+va[0])/2,(Pe[1]+va[1])/2]}else if(O.touch0)ge=O.touch0[0],ye=O.touch0[1];else return;O.zoom("touch",i(V(he,ge,ye),O.extent,t))}}function Q(K,...ee){if(!!this.__zooming){var O=N(this,ee).event(K),$=K.changedTouches,ue=$.length,oe,he;for($c(K),S&&clearTimeout(S),S=setTimeout(function(){S=null},T),oe=0;oe<ue;++oe)he=$[oe],O.touch0&&O.touch0[2]===he.identifier?delete O.touch0:O.touch1&&O.touch1[2]===he.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(he=Ri(he,this),Math.hypot(b[0]-he[0],b[1]-he[1])<C)){var ge=Ma(this).on("dblclick.zoom");ge&&ge.apply(this,arguments)}}}return H.wheelDelta=function(K){return arguments.length?(n=typeof K=="function"?K:Zu(+K),H):n},H.filter=function(K){return arguments.length?(a=typeof K=="function"?K:Zu(!!K),H):a},H.touchable=function(K){return arguments.length?(o=typeof K=="function"?K:Zu(!!K),H):o},H.extent=function(K){return arguments.length?(e=typeof K=="function"?K:Zu([[+K[0][0],+K[0][1]],[+K[1][0],+K[1][1]]]),H):e},H.scaleExtent=function(K){return arguments.length?(r[0]=+K[0],r[1]=+K[1],H):[r[0],r[1]]},H.translateExtent=function(K){return arguments.length?(t[0][0]=+K[0][0],t[1][0]=+K[1][0],t[0][1]=+K[0][1],t[1][1]=+K[1][1],H):[[t[0][0],t[0][1]],[t[1][0],t[1][1]]]},H.constrain=function(K){return arguments.length?(i=K,H):i},H.duration=function(K){return arguments.length?(s=+K,H):s},H.interpolate=function(K){return arguments.length?(h=K,H):h},H.on=function(){var K=d.on.apply(d,arguments);return K===d?H:K},H.clickDistance=function(K){return arguments.length?(J=(K=+K)*K,H):Math.sqrt(J)},H.tapDistance=function(K){return arguments.length?(C=+K,H):C},H}var T4=z(()=>{As();fd();an();Li();Gd();S4();z4();$f();w4()});var P4={};Ua(P4,{ZoomTransform:()=>Ln,zoom:()=>C4,zoomIdentity:()=>$s,zoomTransform:()=>Qc});var _f=z(()=>{T4();$f()});var It=gj((_c,j4)=>{(function(a,e){typeof _c=="object"&&typeof j4!="undefined"?e(_c,(qi(),Fb),(Xp(),d6),(Es(),x3),(ap(),W7),(Fv(),_S),(Pr(),RS),(Li(),p2),(Xf(),B4),(wf(),Zz),(As(),Wb),(Cv(),TS),(_f(),P4)):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],e):(a=typeof globalThis!="undefined"?globalThis:a||self,e(a.fc={},a.d3,a.d3,a.d3,a.d3,a.d3,a.d3,a.d3,a.d3,a.d3,a.d3,a.d3,a.d3))})(_c,function(a,e,i,n,o,r,t,s,h,d,f,b,S){"use strict";var T=function(l,u,c){var g=u[c];if(typeof g!="function")throw new Error("Attempt to rebind ".concat(c," which isn't a function on the source object"));return function(){for(var A=arguments.length,p=new Array(A),m=0;m<A;m++)p[m]=arguments[m];var v=g.apply(u,p);return v===u?l:v}},j=function(l,u){for(var c=arguments.length,g=new Array(c>2?c-2:0),A=2;A<c;A++)g[A-2]=arguments[A];for(var p=0,m=g;p<m.length;p++){var v=m[p];l[v]=T(l,u,v)}return l},J=function(u){return function(c){return u.reduce(function(g,A){return g&&A(g)},c)}},C=function(l,u){for(var c=arguments.length,g=new Array(c>2?c-2:0),A=2;A<c;A++)g[A-2]=arguments[A];for(var p=J(g),m=0,v=Object.keys(u);m<v.length;m++){var y=v[m],k=p(y);k&&(l[k]=T(l,u,y))}return l},H=function(l){return l.map(function(u){return typeof u=="string"?new RegExp("^".concat(u,"$")):u})},x=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return u=H(u),function(g){return u.every(function(A){return!A.test(g)})&&g}},V=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return u=H(u),function(g){return u.some(function(A){return A.test(g)})&&g}},F=function(l){return function(u){return l[u]}},U=function(u){return u[0].toUpperCase()+u.slice(1)},N=function(l){return function(u){return l+U(u)}};function re(l){return l}function ce(l){}function Ae(l){return typeof l=="function"?l:function(){return l}}function le(l){return typeof l=="number"&&isNaN(l)?void 0:l}function ie(){var l=function(){return 10},u=ce,c=re,g=function(m){return m!=null},A=function(m){var v=l.apply(this,arguments),y=m.slice(0,v).map(c);return m.map(function(k,B){return B>=v&&(y.shift(),y.push(c(k,B))),B<v-1||y.some(function(w){return!g(w)})?u(void 0,B):u(y,B)})};return A.period=function(){return arguments.length?(l=Ae(arguments.length<=0?void 0:arguments[0]),A):l},A.accumulator=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],A):u},A.defined=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],A):g},A.value=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],A):c},A}function X(){var l=2,u=ie().accumulator(function(g){var A=g&&e.deviation(g),p=g&&e.mean(g);return{average:p,upper:le(p+l*A),lower:le(p-l*A)}}),c=function(A){return u(A)};return c.multiplier=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},j(c,u,"period","value"),c}function Q(){var l=re,u=function(){return 9},c=function(p){var m=[];return function(v){var y;return m.length<p&&(v!=null?m.push(v):m=[]),m.length>=p&&(y=e.mean(m)),y}},g=function(p){var m=u.apply(this,arguments),v=2/(m+1),y=c(m),k;return p.map(function(B,w){var M=l(B,w);return k===void 0?k=y(M):k=M*v+(1-v)*k,le(k)})};return g.period=function(){return arguments.length?(u=Ae(arguments.length<=0?void 0:arguments[0]),g):u},g.value=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g}function K(){var l=re,u=Q().period(12),c=Q().period(26),g=Q().period(9),A=function(m){u.value(l),c.value(l);var v=e.zip(u(m),c(m)).map(function(k){return k[0]!==void 0&&k[1]!==void 0?k[0]-k[1]:void 0}),y=g(v);return e.zip(v,y).map(function(k){return{macd:k[0],signal:k[1],divergence:k[0]!==void 0&&k[1]!==void 0?k[0]-k[1]:void 0}})};return A.value=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],A):l},C(A,u,F({period:"fastPeriod"})),C(A,c,F({period:"slowPeriod"})),C(A,g,F({period:"signalPeriod"})),A}function ee(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ee=function(u){return typeof u}:ee=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ee(l)}function O(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function $(l,u){for(var c=0;c<u.length;c++){var g=u[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}function ue(l,u,c){return u&&$(l.prototype,u),c&&$(l,c),l}function oe(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),u&&ge(l,u)}function he(l){return he=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},he(l)}function ge(l,u){return ge=Object.setPrototypeOf||function(g,A){return g.__proto__=A,g},ge(l,u)}function ye(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ha(l,u,c){return ye()?ha=Reflect.construct:ha=function(A,p,m){var v=[null];v.push.apply(v,p);var y=Function.bind.apply(A,v),k=new y;return m&&ge(k,m.prototype),k},ha.apply(null,arguments)}function Pe(l){return Function.toString.call(l).indexOf("[native code]")!==-1}function sa(l){var u=typeof Map=="function"?new Map:void 0;return sa=function(g){if(g===null||!Pe(g))return g;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(typeof u!="undefined"){if(u.has(g))return u.get(g);u.set(g,A)}function A(){return ha(g,arguments,he(this).constructor)}return A.prototype=Object.create(g.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),ge(A,g)},sa(l)}function va(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function Ze(l,u){return u&&(typeof u=="object"||typeof u=="function")?u:va(l)}function Y(l){var u=ye();return function(){var g=he(l),A;if(u){var p=he(this).constructor;A=Reflect.construct(g,arguments,p)}else A=g.apply(this,arguments);return Ze(this,A)}}function te(l,u){return ya(l)||ii(l,u)||Ga(l,u)||Ar()}function we(l){return ya(l)||ra(l)||Ga(l)||Ar()}function ze(l){return ae(l)||ra(l)||Ga(l)||ba()}function ae(l){if(Array.isArray(l))return Be(l)}function ya(l){if(Array.isArray(l))return l}function ra(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}function ii(l,u){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(l)))){var c=[],g=!0,A=!1,p=void 0;try{for(var m=l[Symbol.iterator](),v;!(g=(v=m.next()).done)&&(c.push(v.value),!(u&&c.length===u));g=!0);}catch(y){A=!0,p=y}finally{try{!g&&m.return!=null&&m.return()}finally{if(A)throw p}}return c}}function Ga(l,u){if(!!l){if(typeof l=="string")return Be(l,u);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Be(l,u)}}function Be(l,u){(u==null||u>l.length)&&(u=l.length);for(var c=0,g=new Array(u);c<u;c++)g[c]=l[c];return g}function ba(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ar(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qn(l,u){var c;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(c=Ga(l))||u&&l&&typeof l.length=="number"){c&&(l=c);var g=0,A=function(){};return{s:A,n:function(){return g>=l.length?{done:!0}:{done:!1,value:l[g++]}},e:function(y){throw y},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,m=!1,v;return{s:function(){c=l[Symbol.iterator]()},n:function(){var y=c.next();return p=y.done,y},e:function(y){m=!0,v=y},f:function(){try{!p&&c.return!=null&&c.return()}finally{if(m)throw v}}}}function QC(){var l=ie().period(14),u=function(y,k){return k+(y[y.length-1]-k)/y.length},c=function(y){var k=te(y,2),B=k[0],w=k[1];return B<w?0:B-w},g=function(y){var k=te(y,2),B=k[0],w=k[1];return B>w?0:w-B},A=function(y,k){return k!==void 0?u(y,k):e.mean(y)},p=function(){var y,k,B;return function(w){if(!w){y!==void 0&&(y=NaN);return}if(y===void 0){y=w[0];return}var M=e.pairs([y].concat(ze(w)));k=A(M.map(c),k),B=A(M.map(g),B);var P=isNaN(y)?NaN:B/k;return le(100-100/(1+P))}},m=function(y){var k=p();return l.accumulator(k),l(y)};return j(m,l,"period","value"),m}function ik(){var l=ie().accumulator(function(c){return c&&e.mean(c)}),u=function(g){return l(g)};return j(u,l,"period","value"),u}function $C(){var l=function(v,y){return v.close},u=function(v,y){return v.high},c=function(v,y){return v.low},g=ie().period(5).defined(function(m){return l(m)!=null&&u(m)!=null&&c(m)!=null}).accumulator(function(m){var v=m&&e.max(m,u),y=m&&e.min(m,c),k=m&&100*(l(m[m.length-1])-y)/(v-y);return le(k)}),A=ik().period(3),p=function(v){var y=g(v),k=A(y);return y.map(function(B,w){return{k:B,d:k[w]}})};return p.closeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.highValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.lowValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},C(p,g,F({period:"kPeriod"})),C(p,A,F({period:"dPeriod"})),p}function _C(){var l=function(m,v){return m.volume},u=function(m,v){return m.close},c=Q().period(13),g=ie().period(2).defined(function(p){return u(p)!=null&&l(p)!=null}).accumulator(function(p){return p&&le((u(p[1])-u(p[0]))*l(p[1]))}),A=function(m){var v=g(m);return c(v)};return A.volumeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],A):l},A.closeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],A):u},j(A,c,"period"),A}function eT(){var l=.1,u=re,c=function(A){return A.map(function(p){var m=le(u(p)*(1-l)),v=le(u(p)*(1+l));return{lower:m,upper:v}})};return c.factor=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c.value=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c}function aT(){var l=function(m,v){return m.close},u=function(m,v){return m.high},c=function(m,v){return m.low},g=Q().period(13),A=function(m){return g.value(l),e.zip(m,g(m)).map(function(v){var y=le(u(v[0])-v[1]),k=le(c(v[0])-v[1]);return{bullPower:y,bearPower:k}})};return A.closeValue=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],A):l},A.highValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],A):u},A.lowValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],A):c},j(A,g,"period"),A}function nk(){var l={};return l.distance=function(u,c){return c-u},l.offset=function(u,c){return u instanceof Date?new Date(u.getTime()+c):u+c},l.clampUp=function(u){return u},l.clampDown=function(u){return u},l.copy=function(){return l},l}function iT(l,u){var c=l.map(u.clampUp);return c.length!==new Set(c.map(function(g){return g==null?void 0:g.valueOf()})).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),c}function ok(l){var u=this;arguments.length||(l=i.scaleIdentity());var c=nk(),g=function(p){var m=l.domain(),v=l.range(),y=c.distance(m[0],m[1]),k=c.distance(m[0],p),B=k/y,w=B*(v[1]-v[0])+v[0];return w};return g.invert=function(A){var p=l.domain(),m=l.range(),v=(A-m[0])/(m[1]-m[0]),y=c.distance(p[0],p[1]),k=v*y;return c.offset(p[0],k)},g.domain=function(){if(!arguments.length)return l.domain();var A=arguments.length<=0?void 0:arguments[0],p=c.clampUp(A[0]),m=c.clampDown(A[1]);return l.domain([p,m]),g},g.nice=function(){l.nice();var A=l.domain(),p=c.clampUp(A[0]),m=c.clampDown(A[1]);return l.domain([p,m]),g},g.ticks=function(){for(var A=arguments.length,p=new Array(A),m=0;m<A;m++)p[m]=arguments[m];var v=l.ticks.apply(u,p);return iT(v,c)},g.copy=function(){return ok(l.copy()).discontinuityProvider(c.copy())},g.discontinuityProvider=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},C(g,l,V("range","rangeRound","interpolate","clamp","tickFormat")),g}var rk=function(u,c,g,A){var p={sunday:0,monday:1,saturday:6},m=24*3600*1e3,v=m*5,y=m*7,k={},B=function(M){return u(M)===0||u(M)===6};return k.clampDown=function(w){if(w&&B(w)){var M=c.ceil(w);return u(M)===p.sunday?c.offset(M,-1):u(M)===p.monday?c.offset(M,-2):M}else return w},k.clampUp=function(w){if(w&&B(w)){var M=c.floor(w);return u(M)===p.saturday?c.offset(M,2):u(M)===p.sunday?c.offset(M,1):M}else return w},k.distance=function(w,M){w=k.clampUp(w),M=k.clampDown(M);var P=g.ceil(w);if(M<P)return M.getTime()-w.getTime();var R=P.getTime()-w.getTime(),L=g.ceil(M),D=L.getTime()-M.getTime(),I=Math.round((L.getTime()-P.getTime())/y);return I*v+R-D},k.offset=function(w,M){var P=B(w)?k.clampUp(w):w;if(M===0)return P;var R=M<0,L=M>0,D=M,I=R?A.floor(P):g.ceil(P);if(D-=I.getTime()-P.getTime(),R&&D>0||L&&D<0)return new Date(P.getTime()+M);P=R?I:c.offset(I,2);var W=Math.floor(D/v);return P=c.offset(P,W*7),D-=W*v,P=new Date(P.getTime()+D),P},k.copy=function(){return k},k},nT=function(){return rk(function(l){return l.getDay()},n.timeDay,n.timeSaturday,n.timeMonday)},oT=function(){return rk(function(l){return l.getUTCDay()},n.utcDay,n.utcSaturday,n.utcMonday)},rT=function(){for(var u=arguments.length,c=new Array(u),g=0;g<u;g++)c[g]=arguments[g];var A=function(k,B){return k>B[0]&&k<B[1]},p=function(k,B){return k[0]>=B[0]&&k[1]<=B[1]},m={};m.distance=function(y,k){y=m.clampUp(y),k=m.clampDown(k);var B=c.filter(function(M){return p(M,[y,k])}),w=B.map(function(M){return M[1]-M[0]});return k-y-w.reduce(function(M,P){return M+P},0)};var v=function(k,B){return k instanceof Date?new Date(k.getTime()+B):k+B};return m.offset=function(y,k){if(k>0){var B=function(){for(var M=m.clampUp(y),P=k;P>0;){var R=c.filter(function(I){return I[0]>M}).sort(function(I,W){return I[0]-W[0]});if(R.length){var L=R[0],D=L[0]-M;D>P?(M=v(M,P),P=0):(M=L[1],P-=D)}else M=v(M,P),P=0}return{v:M}}();if(ee(B)==="object")return B.v}else{var w=function(){for(var M=m.clampDown(y),P=k;P<0;){var R=c.filter(function(I){return I[1]<M}).sort(function(I,W){return W[0]-I[0]});if(R.length){var L=R[0],D=L[1]-M;D<P?(M=v(M,P),P=0):(M=L[0],P-=D)}else M=v(M,P),P=0}return{v:M}}();if(ee(w)==="object")return w.v}},m.clampUp=function(y){return c.reduce(function(k,B){return A(k,B)?B[1]:k},y)},m.clampDown=function(y){return c.reduce(function(k,B){return A(k,B)?B[0]:k},y)},m.copy=function(){return m},m};function tk(){var l=[function(m){return m}],u=[0,0],c="percent",g=null,A=[],p=function(v){var y=new Array(v.length),k=Qn(l),B;try{for(k.s();!(B=k.n()).done;)for(var w=B.value,M=0;M<v.length;M++){var P=w(v[M],M);Array.isArray(P)?y.push.apply(y,ze(P)):y.push(P)}}catch(I){k.e(I)}finally{k.f()}var R=[e.min(y),e.max(y)];if(R[0]=R[0]==null?e.min(A):e.min([R[0]].concat(ze(A))),R[1]=R[1]==null?e.max(A):e.max([R[1]].concat(ze(A))),g!=null){var L=Math.max(Math.abs(R[1]-g),Math.abs(R[0]-g));R[0]=g-L,R[1]=g+L}switch(c){case"domain":{R[0]-=u[0],R[1]+=u[1];break}case"percent":{var D=R[1]-R[0];R[0]-=u[0]*D,R[1]+=u[1]*D;break}default:throw new Error("Unknown padUnit: ".concat(c))}return R};return p.accessors=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.pad=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.padUnit=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.include=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],p):A},p.symmetricalAbout=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],p):g},p}function sk(){var l=[],u=[0,0],c="percent",g=null,A=[],p=tk(),m=function(k){return k!=null?k.valueOf():null},v=function(k){var B=l.map(function(w){return function(){var M=w.apply(void 0,arguments);return Array.isArray(M)?M.map(m):m(M)}});return p.accessors(B).pad(u).padUnit(c).symmetricalAbout(g!=null?g.valueOf():null).include(A.map(function(w){return w.valueOf()})),p(k).map(function(w){return new Date(w)})};return v.accessors=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.pad=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],v):u},v.padUnit=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],v):c},v.include=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],v):A},v.symmetricalAbout=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],v):g},v}function lk(){var l=1,u=20,c=.1,g=.1,A=o.randomNormal(),p=function(){for(var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=l/u,k=[],B=0;B<u+1;B++){k.push(v);var w=A()*Math.sqrt(y)*g+(c-g*g/2)*y;v=v*Math.exp(w)}return k};return p.period=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.steps=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.mu=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.sigma=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],p):g},p.random=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],p):A},p}function tT(l){return typeof l=="function"?l:function(){return l}}function sT(){var l=new Date,u=100,c=n.timeDay,g=1,A=n.timeYear,p=1,m=null,v=function(){var L=o.randomNormal(1,.1);return Math.ceil(L()*1e3)},y=lk(),k=function(L){var D=A.offset(L,p)-L;return(c.offset(L,g)-L)/D},B=function(L,D){var I=k(L),W=y.period(I)(D),q={date:L,open:W[0],high:Math.max.apply(Math,W),low:Math.min.apply(Math,W),close:W[y.steps()]};return q.volume=v(q),q},w=function(L){var D,I,W;do D=L?c.offset(L.date,g):new Date(l.getTime()),I=L?L.close:u,L=B(D,I),W=m&&!m(L);while(W);return L},M=function(){var L,D={};return D.next=function(){var I=w(L);return L=I,I},D.take=function(I){return D.until(function(W,q){return!I||I<0||q===I})},D.until=function(I){for(var W=[],q=0,Z=w(L),_=I&&!I(Z,q);_;)W.push(Z),L=Z,Z=w(L),q+=1,_=I&&!I(Z,q);return W},D},P=function(L){return M().take(L)};if(P.stream=M,typeof Symbol!="function"||ee(Symbol.iterator)!=="symbol")throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return P[Symbol.iterator]=function(){var R=M();return{next:function(){return{value:R.next(),done:!1}}}},P.startDate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],P):l},P.startPrice=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],P):u},P.interval=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],P):c},P.intervalStep=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],P):g},P.unitInterval=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],P):A},P.unitIntervalStep=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],P):p},P.filter=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],P):m},P.volume=function(){return arguments.length?(v=tT(arguments.length<=0?void 0:arguments[0]),P):v},C(P,y),P}function lT(l){var u=l.date.getDay();return!(u===0||u===6)}function uT(){var l="BTC-USD",u=null,c=null,g=null,A=function(){var m=[];u!=null&&m.push("start="+u.toISOString()),c!=null&&m.push("end="+c.toISOString()),g!=null&&m.push("granularity="+g);var v="https://api.gdax.com/products/"+l+"/candles?"+m.join("&");return r.json(v).then(function(y){return y.map(function(k){return{date:new Date(k[0]*1e3),open:k[3],high:k[2],low:k[1],close:k[4],volume:k[5]}})})};return A.product=function(p){return arguments.length?(l=p,A):l},A.start=function(p){return arguments.length?(u=p,A):u},A.end=function(p){return arguments.length?(c=p,A):c},A.granularity=function(p){return arguments.length?(g=p,A):g},A}function qh(){var l=10,u=function(g){return l<=1?g.map(function(A){return[A]}):e.range(0,Math.ceil(g.length/l)).map(function(A){return g.slice(A*l,(A+1)*l)})};return u.bucketSize=function(c){return arguments.length?(l=c,u):l},u}function hT(){var l=qh(),u=function(m){return m},c=function(m){return m},g=function(m){if(l.bucketSize()>=m.length)return m;var v=A(m),y=l(v),k=l(m.slice(1,m.length-1)),B=k.map(function(w,M){var P=y[M],R=e.max(P),L=P.indexOf(R);return w[L]});return[].concat([m[0]],B,[m[m.length-1]])};function A(p){var m=p.map(function(y){return[u(y),c(y)]}),v=e.range(1,m.length-1).map(function(y){var k=m[y-1],B=m[y],w=m[y+1];return .5*Math.abs((k[0]-w[0])*(B[1]-k[1])-(k[0]-B[0])*(w[1]-k[1]))});return v}return j(g,l,"bucketSize"),g.x=function(p){return arguments.length?(u=p,g):u},g.y=function(p){return arguments.length?(c=p,g):c},g}function dT(){var l=function(p){return p},u=function(p){return p},c=qh(),g=function(p){if(c.bucketSize()>=p.length)return p;var m=c(p.slice(1,p.length-1)),v=p[0],y=p[p.length-1],k=[].concat([v],m,[y]),B=l(v),w=u(v),M=m.map(function(P,R){var L=e.mean(k[R+1],l),D=e.mean(k[R+1],u),I=P.map(function(_){return[l(_),u(_)]}),W=I.map(function(_){return .5*Math.abs((B-L)*(_[1]-w)-(B-_[0])*(D-w))}),q=W.indexOf(e.max(W)),Z=I[q];return B=Z[0],w=Z[1],P[q]});return[].concat([p[0]],M,[p[p.length-1]])};return j(g,c,"bucketSize"),g.x=function(A){return arguments.length?(l=A,g):l},g.y=function(A){return arguments.length?(u=A,g):u},g}function cT(){var l=qh(),u=function(A){return A},c=function(A){if(l.bucketSize()>A.length)return A;var p=e.extent(A,u),m=l(A.slice(1,A.length-1)),v=m.map(function(y,k){var B={},w,M,P=!0,R=y.map(u),L=R.filter(function(D){return D===p[0]||D===p[1]}).map(function(D){return R.indexOf(D)})[0];return L!==void 0?y[L]:(R.forEach(function(D,I){B[D]===void 0&&(B[D]=0),B[D]++,B[D]>B[w]||w===void 0?(w=D,M=I,P=!0):B[D]===B[w]&&(P=!1)}),P?y[M]:y[Math.floor(y.length/2)])});return[].concat([A[0]],v,[A[A.length-1]])};return j(c,l,"bucketSize"),c.value=function(g){return arguments.length?(u=g,c):u},c}var _e=function(l){return typeof l=="function"?l:function(){return l}},ug=function(){var l=null,u=function(B){return B.date},c=function(B){return B.open},g=function(B){return B.high},A=function(B){return B.low},p=function(B){return B.close},m="vertical",v=_e(3),y=function(B){var w=l||t.path();return B.forEach(function(M,P){var R=u(M,P),L=c(M,P),D=g(M,P),I=A(M,P),W=p(M,P),q=v(M,P)/2;m==="vertical"?(w.moveTo(R,I),w.lineTo(R,D),w.moveTo(R,L),w.lineTo(R-q,L),w.moveTo(R,W),w.lineTo(R+q,W)):(w.moveTo(I,R),w.lineTo(D,R),w.moveTo(L,R),w.lineTo(L,R+q),w.moveTo(W,R),w.lineTo(W,R-q))}),l?null:w.toString()};return y.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],y):l},y.x=function(){return arguments.length?(u=_e(arguments.length<=0?void 0:arguments[0]),y):u},y.open=function(){return arguments.length?(c=_e(arguments.length<=0?void 0:arguments[0]),y):c},y.high=function(){return arguments.length?(g=_e(arguments.length<=0?void 0:arguments[0]),y):g},y.low=function(){return arguments.length?(A=_e(arguments.length<=0?void 0:arguments[0]),y):A},y.close=function(){return arguments.length?(p=_e(arguments.length<=0?void 0:arguments[0]),y):p},y.width=function(){return arguments.length?(v=_e(arguments.length<=0?void 0:arguments[0]),y):v},y.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],y):m},y},ss=function(){var l=null,u=function(k){return k.x},c=function(k){return k.y},g="center",A="center",p=function(k){return k.height},m=_e(3),v=function(k,B){var w=l||t.path();return k.forEach(function(M,P){var R=u.call(this,M,B||P),L=c.call(this,M,B||P),D=p.call(this,M,B||P),I=m.call(this,M,B||P),W;switch(g){case"left":W=I;break;case"right":W=0;break;case"center":W=I/2;break;default:throw new Error("Invalid horizontal alignment "+g)}var q;switch(A){case"bottom":q=-D;break;case"top":q=0;break;case"center":q=D/2;break;default:throw new Error("Invalid vertical alignment "+A)}w.rect(R-W,L-q,I,D)},this),l?null:w.toString()};return v.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.x=function(){return arguments.length?(u=_e(arguments.length<=0?void 0:arguments[0]),v):u},v.y=function(){return arguments.length?(c=_e(arguments.length<=0?void 0:arguments[0]),v):c},v.width=function(){return arguments.length?(m=_e(arguments.length<=0?void 0:arguments[0]),v):m},v.horizontalAlign=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],v):g},v.height=function(){return arguments.length?(p=_e(arguments.length<=0?void 0:arguments[0]),v):p},v.verticalAlign=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],v):A},v},hg=function(){var l=null,u=function(k){return k.date},c=function(k){return k.open},g=function(k){return k.high},A=function(k){return k.low},p=function(k){return k.close},m=_e(3),v=function(k){var B=l||t.path();return k.forEach(function(w,M){var P=u(w,M),R=c(w,M),L=g(w,M),D=A(w,M),I=p(w,M),W=m(w,M),q=W/2;B.rect(P-q,R,W,I-R),B.moveTo(P,Math.min(I,R)),B.lineTo(P,L),B.moveTo(P,Math.max(I,R)),B.lineTo(P,D)}),l?null:B.toString()};return v.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.x=function(){return arguments.length?(u=_e(arguments.length<=0?void 0:arguments[0]),v):u},v.open=function(){return arguments.length?(c=_e(arguments.length<=0?void 0:arguments[0]),v):c},v.high=function(){return arguments.length?(g=_e(arguments.length<=0?void 0:arguments[0]),v):g},v.low=function(){return arguments.length?(A=_e(arguments.length<=0?void 0:arguments[0]),v):A},v.close=function(){return arguments.length?(p=_e(arguments.length<=0?void 0:arguments[0]),v):p},v.width=function(){return arguments.length?(m=_e(arguments.length<=0?void 0:arguments[0]),v):m},v},dg=function(){var l=null,u=function(M){return M.value},c=function(M){return M.median},g=function(M){return M.upperQuartile},A=function(M){return M.lowerQuartile},p=function(M){return M.high},m=function(M){return M.low},v="vertical",y=_e(5),k=_e(.5),B=function(M){var P=l||t.path();return M.forEach(function(R,L){var D=u(R,L),I=y(R,L),W=I/2,q=I*k(R,L),Z=q/2,_=p(R,L),pe=g(R,L),me=c(R,L),de=A(R,L),na=m(R,L),Ki=de-pe;v==="vertical"?(P.moveTo(D-Z,_),P.lineTo(D+Z,_),P.moveTo(D,_),P.lineTo(D,pe),P.rect(D-W,pe,I,Ki),P.moveTo(D-W,me),P.lineTo(D+W,me),P.moveTo(D,de),P.lineTo(D,na),P.moveTo(D-Z,na),P.lineTo(D+Z,na)):(P.moveTo(na,D-Z),P.lineTo(na,D+Z),P.moveTo(na,D),P.lineTo(de,D),P.rect(de,D-W,-Ki,I),P.moveTo(me,D-W),P.lineTo(me,D+W),P.moveTo(pe,D),P.lineTo(_,D),P.moveTo(_,D-Z),P.lineTo(_,D+Z))}),l?null:P.toString()};return B.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],B):l},B.value=function(){return arguments.length?(u=_e(arguments.length<=0?void 0:arguments[0]),B):u},B.median=function(){return arguments.length?(c=_e(arguments.length<=0?void 0:arguments[0]),B):c},B.upperQuartile=function(){return arguments.length?(g=_e(arguments.length<=0?void 0:arguments[0]),B):g},B.lowerQuartile=function(){return arguments.length?(A=_e(arguments.length<=0?void 0:arguments[0]),B):A},B.high=function(){return arguments.length?(p=_e(arguments.length<=0?void 0:arguments[0]),B):p},B.low=function(){return arguments.length?(m=_e(arguments.length<=0?void 0:arguments[0]),B):m},B.width=function(){return arguments.length?(y=_e(arguments.length<=0?void 0:arguments[0]),B):y},B.orient=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],B):v},B.cap=function(){return arguments.length?(k=_e(arguments.length<=0?void 0:arguments[0]),B):k},B},cg=function(){var l=null,u=function(y){return y.x},c=function(y){return y.high},g=function(y){return y.low},A="vertical",p=_e(5),m=function(y){var k=l||t.path();return y.forEach(function(B,w){var M=u(B,w),P=p(B,w),R=P/2,L=c(B,w),D=g(B,w);A==="vertical"?(k.moveTo(M-R,L),k.lineTo(M+R,L),k.moveTo(M,L),k.lineTo(M,D),k.moveTo(M-R,D),k.lineTo(M+R,D)):(k.moveTo(D,M-R),k.lineTo(D,M+R),k.moveTo(D,M),k.lineTo(L,M),k.moveTo(L,M-R),k.lineTo(L,M+R))}),l?null:k.toString()};return m.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},m.value=function(){return arguments.length?(u=_e(arguments.length<=0?void 0:arguments[0]),m):u},m.high=function(){return arguments.length?(c=_e(arguments.length<=0?void 0:arguments[0]),m):c},m.low=function(){return arguments.length?(g=_e(arguments.length<=0?void 0:arguments[0]),m):g},m.width=function(){return arguments.length?(p=_e(arguments.length<=0?void 0:arguments[0]),m):p},m.orient=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],m):A},m},mg=function(l){return typeof l=="function"?l:function(){return l}},gg=1e-6,Ia=function(u){return u.selection()!==u},ia=function(l,u){l=l||"g";var c=function(m,v){return v},g=null,A=function(m,v){v=v||function(L){return L};var y=m.selection(),k=Ia(m)?m:null,B=y.selectChildren(u==null?l:"".concat(l,".").concat(u)),w=B.data(v,c),M=w.enter().append(l).attr("class",u),P=w.exit();w=w.merge(M);var R=k||g;return R&&(w=w.transition(R).style("opacity",1),M.style("opacity",gg),P=P.transition(R).style("opacity",gg)),P.remove(),w.enter=function(){return M},w.exit=function(){return P},w};return A.element=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],A):l},A.className=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],A):u},A.key=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],A):c},A.transition=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],A):g},A},mT=function(l){var u=function(){},c=function(){return[0,0]},g=function(w,M){return[w.x,w.y]},A=l||function(B){return B},p=function(){},m=i.scaleIdentity(),v=i.scaleIdentity(),y=ia("g","label"),k=function(w){w.each(function(M,P,R){var L=y(s.select(R[P]),M).call(p),D=L.nodes(),I=D.map(function(q,Z){var _=s.select(q).datum(),pe=g(_,Z,D),me=[m(pe[0]),v(pe[1])],de=c(_,Z,D);return{hidden:!1,x:me[0],y:me[1],width:de[0],height:de[1]}}),W=A(I);L.attr("style",function(q,Z){return"display:"+(W[Z].hidden?"none":"inherit")}).attr("transform",function(q,Z){return"translate("+W[Z].x+", "+W[Z].y+")"}).attr("layout-width",function(q,Z){return W[Z].width}).attr("layout-height",function(q,Z){return W[Z].height}).attr("anchor-x",function(q,Z,_){return I[Z].x-W[Z].x}).attr("anchor-y",function(q,Z,_){return I[Z].y-W[Z].y}),L.call(p),u(L,M,P)})};return C(k,y,V("key")),C(k,A),k.size=function(){return arguments.length?(c=mg(arguments.length<=0?void 0:arguments[0]),k):c},k.position=function(){return arguments.length?(g=mg(arguments.length<=0?void 0:arguments[0]),k):g},k.component=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],k):p},k.decorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],k):u},k.xScale=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],k):m},k.yScale=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],k):v},k},gT=function(l){var u=2,c=function(y){return y},g=ia("text"),A=ia("rect"),p=ia("circle"),m=function(y){y.each(function(k,B,w){var M=w[B],P=s.select(M),R=Number(M.getAttribute("layout-width")),L=Number(M.getAttribute("layout-height")),D=A(P,[k]);D.attr("width",R).attr("height",L);var I=Number(M.getAttribute("anchor-x")),W=Number(M.getAttribute("anchor-y")),q=p(P,[k]);q.attr("r",2).attr("cx",I).attr("cy",W);var Z=g(P,[k]);Z.enter().attr("dy","0.9em").attr("transform","translate(".concat(u,", ").concat(u,")")),Z.text(c)})};return m.padding=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.value=function(){return arguments.length?(c=mg(arguments.length<=0?void 0:arguments[0]),m):c},m},AT=function(u,c){return!(u.x>=c.x+c.width||u.x+u.width<=c.x||u.y>=c.y+c.height||u.y+u.height<=c.y)},Ag=function(l,u){if(AT(l,u)){var c=Math.max(l.x,u.x),g=Math.min(l.x+l.width,u.x+u.width),A=Math.max(l.y,u.y),p=Math.min(l.y+l.height,u.y+u.height);return(g-c)*(p-A)}else return 0},vg=function(u,c){return e.sum(u.map(function(g,A){return c===A?0:Ag(u[c],g)}))},vr=function(u,c,g,A,p){return{x:u,y:c,width:g,height:A,location:p}},uk=function(l){var u=l.x,c=l.y,g=l.width,A=l.height;return[vr(u,c,g,A,"bottom-right"),vr(u-g,c,g,A,"bottom-left"),vr(u-g,c-A,g,A,"top-left"),vr(u,c-A,g,A,"top-right"),vr(u,c-A/2,g,A,"middle-right"),vr(u-g/2,c,g,A,"bottom-center"),vr(u-g,c-A/2,g,A,"middle-left"),vr(u-g/2,c-A,g,A,"top-center")]},hk=function(u,c,g){return[].concat(ze(u.slice(0,c)),[g],ze(u.slice(c+1)))},vT=function(u,c){return u<c},dk=function l(){var u=null,c=vT,g=function(){return 0},A,p=function(y,k){return u-g(A[k],k,A)+g(y,k,hk(A,k,y))},m=function v(y,k){u||(u=e.sum(A.map(function(w,M){return g(w,M,A)})));var B=p(y,k);return c(B,u)?l().locationScore(g).winningScore(c).score(B).rectangles(hk(A,k,y)):v};return m.rectangles=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],m):A},m.score=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.winningScore=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.locationScore=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],m):g},m},pT=function(){var l,u=function(p){return l?p.width*p.height-Ag(p,l):0},c=function(p,m,v){return vg(v,m)+u(p)},g=function(p){var m=dk().locationScore(c).rectangles(p);return p.forEach(function(v,y){uk(v).forEach(function(k,B){m=m(k,y)})}),m.rectangles()};return g.bounds=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g},fT=function(u){return u[ck(u)]},ck=function(u){return Math.floor(Math.random()*u.length)},yT=function(){var l=1e3,u=1,c,g=function(y){switch(y.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return y.width*y.height/8}return y.width*y.height/4},A=function(y){return c?y.width*y.height-Ag(y,c):0},p=function(y,k,B){return vg(B,k)+A(y)+g(y)},m=function(y){for(var k=l,B=function(L,D){return Math.exp((D-L)/k)>Math.random()},w=dk().locationScore(p).winningScore(B).rectangles(y);k>0;){var M=ck(y),P=fT(uk(y[M]));w=w(P,M),k-=u}return w.rectangles()};return m.temperature=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},m.cooling=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.bounds=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m},kT=function(u,c){return u[e.scan(u,c)]},bT=function(l){l=l||function(c){return c};var u=function(g){g=l(g);for(var A=function(){var v=g.filter(function(B){return!B.hidden}),y=v.map(function(B,w){return[B,vg(v,w)]}),k=kT(y,function(B,w){return w[1]-B[1]});if(k[1]>0)k[0].hidden=!0;else return"break"};;){var p=A();if(p==="break")break}return g};return C(u,l),u},BT=function(){var l=[0,0],u=function(g){return g.map(function(A,p){var m=A.x,v=A.y;return m+A.width>l[0]&&(m-=A.width),v+A.height>l[1]&&(v-=A.height),{height:A.height,width:A.width,x:m,y:v}})};return u.bounds=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],u):l},u},pa=function(l){return typeof l=="function"?l:function(){return l}};function Pl(){var l=arguments;return function(u,c){for(var g=0,A=l.length;g<A;g++)if(l[g](u,c)==null)return!1;return!0}}var jl=function(l,u){switch(l){case"left":return u/2;case"right":return-u/2;default:return 0}},ht=function(l){var u=Object.assign({},l),c=function(){};return Object.keys(u).forEach(function(g){c[g]=function(){return arguments.length?(u[g]=arguments.length<=0?void 0:arguments[0],c):u[g]}}),c},yn=function(){var l=function(){return 0},u=function(y){return y.x},c=function(y){return y.y},g="center",A=function(){return 5},p="vertical",m=ht({decorate:function(){},defined:function(y,k){return Pl(l,u,c)(y,k)},xScale:i.scaleIdentity(),yScale:i.scaleIdentity()});return m.values=function(v,y){var k=A(v,y),B=jl(g,k),w=m.xScale(),M=m.yScale();if(p==="vertical"){var P=M(c(v,y),y),R=M(l(v,y),y),L=w(u(v,y),y)+B;return{d:v,x:L,y:P,y0:R,width:k,height:P-R,origin:[L,P],baseOrigin:[L,R],transposedX:L,transposedY:P}}else{var D=w(c(v,y),y),I=w(l(v,y),y),W=M(u(v,y),y)+B;return{d:v,x:W,y:D,y0:I,width:k,height:D-I,origin:[D,W],baseOrigin:[I,W],transposedX:D,transposedY:W}}},m.xValues=function(){return p==="vertical"?[u]:[l,c]},m.yValues=function(){return p!=="vertical"?[u]:[l,c]},m.baseValue=function(){return arguments.length?(l=pa(arguments.length<=0?void 0:arguments[0]),m):l},m.crossValue=function(){return arguments.length?(u=pa(arguments.length<=0?void 0:arguments[0]),m):u},m.mainValue=function(){return arguments.length?(c=pa(arguments.length<=0?void 0:arguments[0]),m):c},m.bandwidth=function(){return arguments.length?(A=pa(arguments.length<=0?void 0:arguments[0]),m):A},m.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],m):g},m.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m},ST="#c60",zT="#6c0",wT="#000",MT="#ddd",CT="#999",La={red:ST,green:zT,black:wT,gray:MT,darkGray:CT},pg=function(){var l=yn(),u=h.line().x(function(A,p){return l.values(A,p).transposedX}).y(function(A,p){return l.values(A,p).transposedY}),c=ia("path","line"),g=function(p){Ia(p)&&c.transition(p),u.defined(l.defined()),p.each(function(m,v,y){var k=c(s.select(y[v]),[m]);k.enter().attr("fill","none").attr("stroke",La.black),k.attr("d",u),l.decorate()(k,m,v)})};return C(g,l,x("baseValue","bandwidth","align")),j(g,c,"key"),j(g,u,"curve"),g},fg=function(){var l=yn(),u=h.line().x(function(g,A){return l.values(g,A).transposedX}).y(function(g,A){return l.values(g,A).transposedY}),c=function(A){var p=u.context();p.beginPath(),p.strokeStyle=La.black,p.fillStyle="transparent",l.decorate()(p,A),u.defined(l.defined())(A),p.fill(),p.stroke(),p.closePath()};return C(c,l,x("baseValue","bandwidth","align")),j(c,u,"curve","context"),c},xa=function(){var l=[0,1],u=[-1,1],c=function(){};return c.domain=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},c.range=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},mk=function(){var l={},u={},c=null,g=function(p,m){var v=p.context();Object.keys(l).forEach(function(y){var k=l[y];if(typeof k!="function")throw new Error("Expected an attribute for ".concat(y,", found ").concat(k));var B=v.getAttribLocation(m,y);k.location(B)(p)}),Object.keys(u).forEach(function(y){var k=u[y];if(typeof k!="function")throw new Error("Expected a uniform for ".concat(y,", found ").concat(k));var B=v.getUniformLocation(m,y);k.location(B)(p)}),c!==null&&c(p)};return g.flush=function(){Object.values(l).forEach(function(A){return A.clear()}),Object.values(u).forEach(function(A){return A.clear()}),c!==null&&c.clear()},g.attribute=function(){for(var A=arguments.length,p=new Array(A),m=0;m<A;m++)p[m]=arguments[m];return p.length===1?l[p[0]]:(l[p[0]]=p[1],g)},g.uniform=function(){for(var A=arguments.length,p=new Array(A),m=0;m<A;m++)p[m]=arguments[m];return p.length===1?u[p[0]]:(u[p[0]]=p[1],g)},g.elementIndices=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g},_i=function(l){var u=-1,c=l,g=!0,A=function(m){if(!!g){var v=m.context();if(Array.isArray(c))switch(c.length){case 1:v.uniform1fv(u,c);break;case 2:v.uniform2fv(u,c);break;case 3:v.uniform3fv(u,c);break;case 4:v.uniform4fv(u,c);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(c.length," provided."))}else v.uniform1f(u,c);g=!1}};return A.clear=function(){g=!0},A.location=function(){return arguments.length?(u!==(arguments.length<=0?void 0:arguments[0])&&(u=arguments.length<=0?void 0:arguments[0],g=!0),A):u},A.data=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g=!0,A):c},A},To={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Po=function(){var l=null,u=null,c=null,g=null,A=null,p=null,m=To.TRIANGLES,v=0,y=mk(),k=!1,B=null,w=!0,M=1,P=function I(W){if(l!=null){var q=c(),Z=g();if(R(u,q,Z)&&(u=L(q,Z),A=q,p=Z,w=!1),l.useProgram(u),y.uniform("uScreen",_i([l.canvas.width/M,l.canvas.height/M])),y(I,u),v===0)y.elementIndices()==null?l.drawArrays(m,0,W):l.drawElements(m,W,l.UNSIGNED_SHORT,0);else if(y.elementIndices()==null)B.drawArraysInstancedANGLE(m,0,v,W);else{var _=y.elementIndices().data().length;if(v!==_)throw new Error("Expected elementIndices length ".concat(_)+" to match subInstanceCount ".concat(v,"."));B.drawElementsInstancedANGLE(m,v,l.UNSIGNED_SHORT,0,W)}}};return P.extInstancedArrays=function(){return B},P.context=function(){for(var I=arguments.length,W=new Array(I),q=0;q<I;q++)W[q]=arguments[q];return W.length?((W[0]==null||W[0]!==l)&&(y.flush(),w=!0),W[0]!=null&&W[0]!==l&&(B=W[0].getExtension("ANGLE_instanced_arrays")),l=W[0],P):l},P.buffers=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],P):y},P.vertexShader=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],P):c},P.fragmentShader=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],P):g},P.mode=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],P):m},P.subInstanceCount=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],P):v},P.debug=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],P):k},P.pixelRatio=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],P):M},P;function R(I,W,q){return!I||w?!0:W!==A||q!==p}function L(I,W){var q=D(I,l.VERTEX_SHADER),Z=D(W,l.FRAGMENT_SHADER),_=l.createProgram();if(l.attachShader(_,q),l.attachShader(_,Z),l.linkProgram(_),k&&!l.getProgramParameter(_,l.LINK_STATUS)){var pe=l.getProgramInfoLog(_);throw l.deleteProgram(_),new Error("Failed to link program : ".concat(pe,`
            Vertex Shader : `).concat(I,`
            Fragment Shader : `).concat(W))}return _}function D(I,W){var q=l.createShader(W);if(l.shaderSource(q,I),l.compileShader(q),k&&!l.getShaderParameter(q,l.COMPILE_STATUS)){var Z=l.getShaderInfoLog(q);throw l.deleteShader(q),new Error("Failed to compile shader : ".concat(Z,`
            Shader : `).concat(I))}return q}},da=function(l){var u=[],c=[],g=function(){return l(u.join(`
`),c.join(`
`))};function A(v,y){v.push(y)}function p(v,y,k){var B=v.indexOf(k);v.splice(B>=0?B:v.length,0,y)}function m(v,y){var k=v.indexOf(y);k===-1&&v.push(y)}return g.appendHeader=function(v){return A(u,v),g},g.insertHeader=function(v,y){return p(u,v,y),g},g.appendHeaderIfNotExists=function(v){return m(u,v),g},g.appendBody=function(v){return A(c,v),g},g.insertBody=function(v,y){return p(c,v,y),g},g.appendBodyIfNotExists=function(v){return m(c,v),g},g},Fi=function(u,c){return`
precision mediump float;
float inf = 1.0 / 0.0;
`.concat(u,`
void main() {
    `).concat(c,`
}`)},Ni=function(u,c){return`
precision mediump float;
`.concat(u,`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    `).concat(c,`
}`)},gk={header:`attribute vec4 aFillColor;
             varying vec4 vFillColor;`,body:"vFillColor = aFillColor;"},Ak={header:`attribute vec4 aStrokeColor;
             varying vec4 vStrokeColor;`,body:"vStrokeColor = aStrokeColor;"},vk={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 2.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},pk={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 4.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},fk={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},yk={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},kk={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},bk={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Bk={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 5.0);
        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Sk={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
         (isPositiveY * isExtremeY * aLowValue) +
         (isPositiveY * isNotExtremeY * aCloseValue) +
         (isNotPositiveY * isNotExtremeY * aOpenValue) +
         (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);
        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;

        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},zk={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
            (isPositiveY * isExtremeY * aLowValue) +
            (isPositiveY * isNotExtremeY * aCloseValue) +
            (isNotPositiveY * isNotExtremeY * aOpenValue) +
            (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = isExtremeY * aCorner.z;
        float lineWidthYDirection = isNotExtremeY * aCorner.z;

        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},wk={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aMainValue;
        attribute float aBaseValue;
        attribute vec2 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isBaseline = (1.0 - aCorner.y) / 2.0;
        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);

        float xModifier = aCorner.x * (aBandwidth) / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Mk={header:`
        attribute vec3 aCorner;
        attribute float aCrossNextNextValue;
        attribute float aMainNextNextValue;
        attribute float aCrossNextValue;
        attribute float aMainNextValue;
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aCrossPrevValue;
        attribute float aMainPrevValue;
        attribute float aDefined;
        attribute float aDefinedNext;

        uniform float uStrokeWidth;
        uniform vec2 uScreen;

        varying float vDefined;`,body:`
        vDefined = aDefined * aDefinedNext;
        vec4 prev = vec4(aCrossPrevValue, aMainPrevValue, 0, 0);
        vec4 curr = vec4(aCrossValue, aMainValue, 0, 0);
        gl_Position = vec4(aCrossNextValue, aMainNextValue, 0, 1);
        vec4 nextNext = vec4(aCrossNextNextValue, aMainNextNextValue, 0, 0);`},TT={body:`
        vec4 currVertexPosition = gl_Position;
        vec4 nextVertexPosition = gl_Position;

        if (all(equal(curr.xy, prev.xy))) {
            prev.xy = curr.xy + normalize(curr.xy - currVertexPosition.xy);
        }
        if (all(equal(curr.xy, currVertexPosition.xy))) {
            currVertexPosition.xy = curr.xy + normalize(curr.xy - prev.xy);
        }
        vec2 A = normalize(normalize(curr.xy - prev.xy) * uScreen);
        vec2 B = normalize(normalize(currVertexPosition.xy - curr.xy) * uScreen);
        vec2 tangent = normalize(A + B);
        vec2 miter = vec2(-tangent.y, tangent.x);
        vec2 normalA = vec2(-A.y, A.x);
        float miterLength = 1.0 / dot(miter, normalA);
        vec2 point = normalize(A - B);
        if (miterLength > 10.0 && sign(aCorner.x * dot(miter, point)) > 0.0) {
            currVertexPosition.xy = curr.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalA) / uScreen.xy;
        } else {
            currVertexPosition.xy = curr.xy + (aCorner.x * miter * uStrokeWidth * miterLength) / uScreen.xy;
        }

        if (all(equal(nextVertexPosition.xy, curr.xy))) {
            curr.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - nextNext.xy);
        }
        if (all(equal(nextVertexPosition.xy, nextNext.xy))) {
            nextNext.xy = nextVertexPosition.xy + normalize(nextVertexPosition.xy - curr.xy);
        }
        vec2 C = normalize(normalize(nextVertexPosition.xy - curr.xy) * uScreen);
        vec2 D = normalize(normalize(nextNext.xy - nextVertexPosition.xy) * uScreen);
        vec2 tangentCD = normalize(C + D);
        vec2 miterCD = vec2(-tangentCD.y, tangentCD.x);
        vec2 normalC = vec2(-C.y, C.x);
        float miterCDLength = 1.0 / dot(miterCD, normalC);
        vec2 pointCD = normalize(C - D);
        if (miterCDLength > 10.0 && sign(aCorner.x * dot(miterCD, pointCD)) > 0.0) {
            nextVertexPosition.xy = nextVertexPosition.xy - (aCorner.x * aCorner.y * uStrokeWidth * normalC) / uScreen.xy;
        } else {
            nextVertexPosition.xy = nextVertexPosition.xy + (aCorner.x * miterCD * uStrokeWidth * miterCDLength) / uScreen.xy;
        }

        gl_Position.xy = ((1.0 - aCorner.z) * currVertexPosition.xy) + (aCorner.z * nextVertexPosition.xy);`},Ck={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isLow = (aCorner.y + 1.0) / 2.0;
        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;

        float isEdgeCorner = abs(aCorner.x);
        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;
        float lineWidthYDirection = isEdgeCorner * aCorner.z;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);
        float yModifier = (uStrokeWidth * lineWidthYDirection);`},Tk={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aCrossNextValue;
        attribute float aMainNextValue;
        attribute float aBaseValue;
        attribute float aBaseNextValue;
        attribute float aDefined;
        attribute float aDefinedNext;

        varying float vDefined;

        float when_lt(float a, float b) {
            return max(sign(b - a), 0.0);
        }

        float and(float a, float b) {
            return a * b;
        }`,body:`
        vDefined = aDefined * aDefinedNext;
        gl_Position = vec4(0, 0, 0, 1);

        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);
        float useIntercept = and(aCorner.z, hasIntercepted);

        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);
        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);

        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);
        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);

        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);
        float interceptXValue = (y0Constant - yConstant) / denominator;
        float interceptYValue = (yGradient * interceptXValue) + yConstant;

        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);

        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));
        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));
        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));`},Pk={header:`
        attribute vec4 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aCapWidth;
        attribute float aHighValue;
        attribute float aUpperQuartileValue;
        attribute float aMedianValue;
        attribute float aLowerQuartileValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;
    `,body:`
        vDefined = aDefined;
        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;

        float isNonZeroY = abs(sign(aCorner.y));
        float isZeroY = 1.0 - isNonZeroY;

        float isQuartileY = isNotExtremeY * isNonZeroY;

        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;
        float isNegativeY = 1.0 - isPositiveY;

        float yValue =
          (isExtremeY * isNegativeY) * aHighValue +
          (isQuartileY * isNegativeY) * aUpperQuartileValue +
          isZeroY * aMedianValue +
          (isQuartileY * isPositiveY) * aLowerQuartileValue +
          (isExtremeY * isPositiveY) * aLowValue;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float isHorizontal = aCorner.w;
        float isVertical = 1.0 - isHorizontal;

        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;

        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;
        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;`},jk={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float distance = length(2.0 * gl_PointCoord - 1.0);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Rk={header:`
        varying float vSize;
        varying float vDefined;

        // anterior, exterior angles
        float an = 0.628319;
        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)
        float en = 0.952000;
        vec2 ecs = vec2(0.580055, 0.814577);
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        p -= acs;
        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);
        float d = length(p) * sign(p.x);

        float distance = 1.0 + d;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Lk={header:`
        varying float vSize;
        varying float vDefined;
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float an = 3.141593 / 3.0;
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        // box
        vec2 d = abs(p) - vec2(0.9, 0.35);
        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);

        float distance = 1.0 + sdf;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Jk={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);`},Dk={header:`
        varying float vSize;
        varying float vDefined;
        float a = 0.6;
        float b = 1.0;
    `,body:`
        if (vDefined < 0.5) {
            discard;
        }

        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;

        float x = abs(pointCoordTransform.x);
        float y = abs(pointCoordTransform.y);

        float X = (a * b * x) / (a * y + b * x);
        float Y = (a * b * y) / (a * y + b * x);

        float distance = length(vec2(x, y)) / length(vec2(X, Y));

        if (distance > 1.0) {
            discard;
        }
    `},Hk={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));
        float bottomEdgeDistance = pointCoordTransform.y + 0.5;
        float distance = max(topEdgesDistance, bottomEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Gk={header:`
        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;
        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float distance = max(innerCornerDistance, outerEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Ik={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Ek={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Fk={header:`
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);`},Nk={header:`
        varying float vDefined;
    `,body:`
        float canFill = 0.0;
        float canStroke = 1.0;

        if (vDefined < 0.5) {
            discard;
        }`},xk={header:"varying float vDefined;",body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }`},Kk={header:"varying float vDefined;",body:`
        float canFill = 1.0;
        float canStroke = 0.0;

        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);

        if (vDefined < 0.5) {
            discard;
        }`},Wk={header:"varying vec4 vFillColor;",body:"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"},qk={header:"varying vec4 vStrokeColor;",body:"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);"},Vk={header:"varying float vDefined;",body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }`},PT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(Tk.header).appendBody(Tk.body),u.appendHeader(Fk.header).appendBody(Fk.body),{vertex:function(){return l},fragment:function(){return u}}},ea={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function yg(l){switch(l){case ea.BYTE:case ea.UNSIGNED_BYTE:return 1;case ea.SHORT:case ea.UNSIGNED_SHORT:return 2;case ea.FLOAT:return 4;default:throw new Error("Unknown type ".concat(l))}}function Ok(l){switch(l){case ea.BYTE:return Int8Array;case ea.UNSIGNED_BYTE:return Uint8Array;case ea.SHORT:return Int16Array;case ea.UNSIGNED_SHORT:return Uint16Array;case ea.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(l))}}var Vh=function(){var l=-1,u=null,c=1,g=ea.FLOAT,A=!1,p=0,m=0,v=null,y=function(B){var w=B.context();u==null&&(u=w.createBuffer()),w.bindBuffer(w.ARRAY_BUFFER,u),w.vertexAttribPointer(l,c,g,A,p,m),w.enableVertexAttribArray(l);var M=B.extInstancedArrays();M.vertexAttribDivisorANGLE(l,v??(B.subInstanceCount()>0?1:0))};return y.location=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],y):l},y.buffer=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.size=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.type=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],y):g},y.normalized=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],y):A},y.stride=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y.offset=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],y):m},y.divisor=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],y):v},y},jT=function(){var l=ea.FLOAT,u=new Float32Array(0),c=function(A){var p=Ok(l);return u.length>A?u=new p(u.buffer,0,A):u.length!==A&&(u=new p(A)),u};return c.type=function(){if(!arguments.length)return l;if(l!==(arguments.length<=0?void 0:arguments[0])){l=arguments.length<=0?void 0:arguments[0];var g=Ok(l);u=new g(0)}return c},c},Zk=function(){var l=!0,u=1,c=ea.FLOAT,g=jT(),A=function(y,k){return y},p=null,m=function(){var y=p.length,k=g.type(c)(y*u);if(u>1)for(var B=0;B<y;B++){var w=A(p[B],B);if(w.length!==u)throw new Error("Expected components array of size ".concat(u,", recieved array with length ").concat(w.length,"."));for(var M=0;M<u;M++)k[B*u+M]=w[M]}else for(var P=0;P<y;P++){var R=A(p[P],P);if(Array.isArray(R))throw new Error("Expected a single component value, recieved array with length ".concat(R.length,"."));k[P]=R}return l=!1,k};return m.dirty=function(){return l},m.clear=function(){l=!0},m.size=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],l=!0,m):u},m.type=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],l=!0,m):c},m.arrayViewFactory=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],l=!0,m):g},m.value=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],l=!0,m):A},m.data=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],l=!0,m):p},m},qe=function(){var l=Vh(),u=Zk(),c=function g(A){if(l.size(g.size()).type(g.type()),l(A),!!u.dirty()){var p=u(),m=A.context();m.bindBuffer(m.ARRAY_BUFFER,l.buffer()),m.bufferData(m.ARRAY_BUFFER,p,m.DYNAMIC_DRAW)}};return c.clear=function(){l.buffer(null),u.clear()},j(c,l,"normalized","location","divisor"),j(c,u,"data","value","size","type"),c},fe=function(l,u,c,g){for(var A=arguments.length,p=new Array(A>4?A-4:0),m=4;m<A;m++)p[m-4]=arguments[m];l[u]=function(){for(var v=arguments.length,y=new Array(v),k=0;k<v;k++)y[k]=arguments[k];var B=c[g].apply(c,p.concat(y));return B===c?l:B}},Uk=function(){var l=Po().mode(To.TRIANGLES).subInstanceCount(6),u=xa(),c=xa(),g=function(){},A=qe().divisor(0).size(3).type(ea.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);l.buffers().attribute("aCorner",A);var p=function(v){var y=PT();l.vertexShader(y.vertex()).fragmentShader(y.fragment()),u(l,"gl_Position",0),c(l,"gl_Position",1),g(l),l(v-1)};return p.decorate=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],p):g},p.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},j(p,l,"context","pixelRatio"),fe(p,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),fe(p,"crossNextValueAttribute",l.buffers(),"attribute","aCrossNextValue"),fe(p,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),fe(p,"mainNextValueAttribute",l.buffers(),"attribute","aMainNextValue"),fe(p,"baseValueAttribute",l.buffers(),"attribute","aBaseValue"),fe(p,"baseNextValueAttribute",l.buffers(),"attribute","aBaseNextValue"),fe(p,"definedAttribute",l.buffers(),"attribute","aDefined"),fe(p,"definedNextAttribute",l.buffers(),"attribute","aDefinedNext"),p},Yk=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(vk.header).appendBody(vk.body),u.appendHeader(jk.header).appendBody(jk.body),{vertex:function(){return l},fragment:function(){return u}}},Xk=function(){var l=Po().mode(To.POINTS),u=xa(),c=xa(),g=Yk(),A=function(){},p=function(v){l.vertexShader(g.vertex()).fragmentShader(g.fragment()),u(l,"gl_Position",0),c(l,"gl_Position",1),A(l),l(v)};return p.type=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],p):g},p.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],p):A},p.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},j(p,l,"context","pixelRatio"),fe(p,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),fe(p,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),fe(p,"sizeAttribute",l.buffers(),"attribute","aSize"),fe(p,"definedAttribute",l.buffers(),"attribute","aDefined"),p},RT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(Mk.header).appendBody(Mk.body),u.appendHeader(Vk.header).appendBody(Vk.body),{vertex:function(){return l},fragment:function(){return u}}},Rl=function(){var l=1,u=function(g){g.buffers().uniform("uStrokeWidth",_i(l))};return u.lineWidth=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],u):l},u},dt=function(l){var u=null,c=l,g=!0,A=function(m){var v=m.context();u==null&&(u=v.createBuffer()),v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,u),!!g&&(v.bufferData(v.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),v.STATIC_DRAW),g=!1)};return A.clear=function(){u=null,g=!0},A.data=function(){return arguments.length?(g=!0,c=arguments.length<=0?void 0:arguments[0],A):c},A},Qk=function(){var l=Po().mode(To.TRIANGLES).subInstanceCount(12),u=xa(),c=xa(),g=function(){},A=Rl(),p=qe().divisor(0).size(3).type(ea.BYTE).data([[-1,0,0],[1,1,0],[1,-1,1],[-1,0,1],[1,1,1]]);l.buffers().elementIndices(dt([0,1,2,1,2,3,0,2,3,2,3,4])).attribute("aCorner",p);var m=function(y){var k=RT();l.vertexShader(k.vertex()).fragmentShader(k.fragment()),u(l,"prev",0),c(l,"prev",1),u(l,"curr",0),c(l,"curr",1),u(l,"gl_Position",0),c(l,"gl_Position",1),u(l,"nextNext",0),c(l,"nextNext",1),l.vertexShader().appendBody(TT.body),A(l),g(l),l(y-1)};return m.decorate=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],m):g},m.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},j(m,l,"context","pixelRatio"),j(m,A,"lineWidth"),fe(m,"crossPreviousValueAttribute",l.buffers(),"attribute","aCrossPrevValue"),fe(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),fe(m,"crossNextValueAttribute",l.buffers(),"attribute","aCrossNextValue"),fe(m,"crossNextNextValueAttribute",l.buffers(),"attribute","aCrossNextNextValue"),fe(m,"mainPreviousValueAttribute",l.buffers(),"attribute","aMainPrevValue"),fe(m,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),fe(m,"mainNextValueAttribute",l.buffers(),"attribute","aMainNextValue"),fe(m,"mainNextNextValueAttribute",l.buffers(),"attribute","aMainNextNextValue"),fe(m,"definedAttribute",l.buffers(),"attribute","aDefined"),fe(m,"definedNextAttribute",l.buffers(),"attribute","aDefinedNext"),m},LT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(zk.header).appendBody(zk.body),u.appendHeader(Ek.header).appendBody(Ek.body),{vertex:function(){return l},fragment:function(){return u}}},$k=function(){var l=Po().mode(To.TRIANGLES).subInstanceCount(18),u=xa(),c=xa(),g=Rl(),A=function(){},p=qe().divisor(0).size(3).type(ea.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);l.buffers().elementIndices(dt([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",p);var m=function(y){var k=LT();l.vertexShader(k.vertex()).fragmentShader(k.fragment()),u(l,"gl_Position",0),c(l,"gl_Position",1),g(l),l.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),A(l),l(y)};return m.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],m):A},m.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},j(m,l,"context","pixelRatio"),j(m,g,"lineWidth"),fe(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),fe(m,"openValueAttribute",l.buffers(),"attribute","aOpenValue"),fe(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),fe(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),fe(m,"closeValueAttribute",l.buffers(),"attribute","aCloseValue"),fe(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),fe(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},JT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(wk.header).appendBody(wk.body),u.appendHeader(Kk.header).appendBody(Kk.body),{vertex:function(){return l},fragment:function(){return u}}},_k=function(){var l=Po().mode(To.TRIANGLES).subInstanceCount(6),u=xa(),c=xa(),g=function(){},A=qe().divisor(0).size(2).type(ea.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);l.buffers().elementIndices(dt([0,1,2,0,1,3])).attribute("aCorner",A);var p=function(v){var y=JT();l.vertexShader(y.vertex()).fragmentShader(y.fragment()),u(l,"gl_Position",0),c(l,"gl_Position",1),l.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
        `),g(l),l(v)};return p.decorate=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],p):g},p.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},j(p,l,"context","pixelRatio"),fe(p,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),fe(p,"mainValueAttribute",l.buffers(),"attribute","aMainValue"),fe(p,"baseValueAttribute",l.buffers(),"attribute","aBaseValue"),fe(p,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),fe(p,"definedAttribute",l.buffers(),"attribute","aDefined"),p},DT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(Ck.header).appendBody(Ck.body),u.appendHeader(xk.header).appendBody(xk.body),{vertex:function(){return l},fragment:function(){return u}}},e8=function(){var l=Po().mode(To.TRIANGLES).subInstanceCount(18),u=xa(),c=xa(),g=function(){},A=Rl(),p=qe().divisor(0).size(3).type(ea.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);l.buffers().elementIndices(dt([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",p);var m=function(y){var k=DT();l.vertexShader(k.vertex()).fragmentShader(k.fragment()),u(l,"gl_Position",0),c(l,"gl_Position",1),A(l),l.vertexShader().appendBody(`
                gl_Position.x += xModifier / uScreen.x * 2.0;
                gl_Position.y += yModifier / uScreen.y * 2.0;
            `),g(l),l(y)};return m.decorate=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],m):g},m.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},j(m,l,"context","pixelRatio"),j(m,A,"lineWidth"),fe(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),fe(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),fe(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),fe(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),fe(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},HT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(Sk.header).appendBody(Sk.body),u.appendHeader(Ik.header).appendBody(Ik.body),{vertex:function(){return l},fragment:function(){return u}}},a8=function(){var l=Po().mode(To.TRIANGLES).subInstanceCount(12),u=xa(),c=xa(),g=Rl(),A=function(){},p=qe().divisor(0).size(3).type(ea.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);l.buffers().elementIndices(dt([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",p);var m=function(y){var k=HT();l.vertexShader(k.vertex()).fragmentShader(k.fragment()),u(l,"gl_Position",0),c(l,"gl_Position",1),g(l),l.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),A(l),l(y)};return m.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],m):A},m.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},j(m,l,"context","pixelRatio"),j(m,g,"lineWidth"),fe(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),fe(m,"openValueAttribute",l.buffers(),"attribute","aOpenValue"),fe(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),fe(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),fe(m,"closeValueAttribute",l.buffers(),"attribute","aCloseValue"),fe(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),fe(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},GT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(Pk.header).appendBody(Pk.body),u.appendHeader(Nk.header).appendBody(Nk.body),{vertex:function(){return l},fragment:function(){return u}}},i8=function(){var l=Po().mode(To.TRIANGLES).subInstanceCount(54),u=xa(),c=xa(),g=function(){},A=Rl(),p=qe().divisor(0).size(4).type(ea.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);l.buffers().elementIndices(dt([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",p);var m=function(y){var k=GT();l.vertexShader(k.vertex()).fragmentShader(k.fragment()),u(l,"gl_Position",0),c(l,"gl_Position",1),A(l),l.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
            gl_Position.y += yModifier / uScreen.y * 2.0;
        `),g(l),l(y)};return m.decorate=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],m):g},m.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},j(m,l,"context","pixelRatio"),j(m,A,"lineWidth"),fe(m,"crossValueAttribute",l.buffers(),"attribute","aCrossValue"),fe(m,"highValueAttribute",l.buffers(),"attribute","aHighValue"),fe(m,"upperQuartileValueAttribute",l.buffers(),"attribute","aUpperQuartileValue"),fe(m,"medianValueAttribute",l.buffers(),"attribute","aMedianValue"),fe(m,"lowerQuartileValueAttribute",l.buffers(),"attribute","aLowerQuartileValue"),fe(m,"lowValueAttribute",l.buffers(),"attribute","aLowValue"),fe(m,"bandwidthAttribute",l.buffers(),"attribute","aBandwidth"),fe(m,"capAttribute",l.buffers(),"attribute","aCapWidth"),fe(m,"definedAttribute",l.buffers(),"attribute","aDefined"),m},pr=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l>0||u<0)throw new Error("Offset values (".concat(l," & ").concat(u,") must straddle 0 "));var c=Vh(),g=Zk(),A=function p(m){var v=p.size()*yg(p.type()),y=Math.abs(l)*v;if(c.offset(y).size(p.size()).type(p.type()),c(m),!!g.dirty()){var k=g(),B=u*v,w=y+k.length*yg(p.type())+B,M=m.context();M.bindBuffer(M.ARRAY_BUFFER,c.buffer()),M.bufferData(M.ARRAY_BUFFER,w,M.DYNAMIC_DRAW),M.bufferSubData(M.ARRAY_BUFFER,y,k)}};return A.offset=function(p){if(l>p||p>u)throw new Error("Requested offset ".concat(p," exceeds bounds (").concat(l," & ").concat(u,") "));var m=function(y){c.offset((p-l)*A.size()*yg(A.type())),c(y)};return j(m,A,"clear","location"),m},A.clear=function(){c.buffer(null),g.clear()},j(A,c,"normalized","location","divisor"),j(A,g,"data","value","size","type"),A},Oh=function(){var l=xa(),u=function(A){return"linear".concat(A)},c=function(A,p,m){A.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(u(m),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(u(m),"Scale;")).appendBody("".concat(p," = ").concat(p," + ").concat(u(m),"Offset;")).appendBody("".concat(p," = ").concat(p," * ").concat(u(m),"Scale;"));var v=l.domain()[1]-l.domain()[0],y=l.range()[1]-l.range()[0],k=l.range()[0]*(v/y)-l.domain()[0],B=y/v,w=[0,0,0,0],M=[1,1,1,1];w[m]=k,M[m]=B,A.buffers().uniform("".concat(u(m),"Offset"),_i(w)).uniform("".concat(u(m),"Scale"),_i(M))};return C(c,l),c},n8=function(){var l=xa(),u=10;function c(p,m){return Math.log10(p)/Math.log10(m)}var g=function(m){return"log".concat(m)},A=function(m,v,y){var k="".concat(g(y),"Offset + (").concat(g(y),"Scale * clamp(log(").concat(v,") / log(").concat(g(y),"Base), -inf, inf))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(g(y),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(g(y),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(g(y),"Include;")).appendHeaderIfNotExists("uniform float ".concat(g(y),"Base;")).appendBody("".concat(v," = (").concat(g(y),"Include * (").concat(k,")) + ((1.0 - ").concat(g(y),"Include) * ").concat(v,");"));var B=c(l.domain()[1],u)-c(l.domain()[0],u),w=l.range()[1]-l.range()[0],M=w/B,P=l.range()[0]-M*c(l.domain()[0],u),R=[0,0,0,0],L=[0,0,0,0],D=[0,0,0,0];R[y]=P,L[y]=M,D[y]=1,m.buffers().uniform("".concat(g(y),"Offset"),_i(R)).uniform("".concat(g(y),"Scale"),_i(L)).uniform("".concat(g(y),"Include"),_i(D)).uniform("".concat(g(y),"Base"),_i(u))};return A.base=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],A):u},C(A,l),A},o8=function(){var l=xa(),u=1;function c(p,m){return Math.sign(p)*Math.pow(Math.abs(p),m)}var g=function(m){return"pow".concat(m)},A=function(m,v,y){var k="".concat(g(y),"Offset + (").concat(g(y),"Scale * sign(").concat(v,") * pow(abs(").concat(v,"), vec4(").concat(g(y),"Exp)))");m.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(g(y),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(g(y),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(g(y),"Include;")).appendHeaderIfNotExists("uniform float ".concat(g(y),"Exp;")).appendBody("".concat(v," = (").concat(g(y),"Include * (").concat(k,")) + ((1.0 - ").concat(g(y),"Include) * ").concat(v,");"));var B=c(l.domain()[1],u)-c(l.domain()[0],u),w=l.range()[1]-l.range()[0],M=w/B,P=l.range()[0]-M*c(l.domain()[0],u),R=[0,0,0,0],L=[0,0,0,0],D=[0,0,0,0];R[y]=P,L[y]=M,D[y]=1,m.buffers().uniform("".concat(g(y),"Offset"),_i(R)).uniform("".concat(g(y),"Scale"),_i(L)).uniform("".concat(g(y),"Include"),_i(D)).uniform("".concat(g(y),"Exp"),_i(u))};return A.exponent=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],A):u},C(A,l),A},IT=i.scaleLinear().copy.toString(),ET=i.scaleLog().copy.toString(),FT=i.scalePow().copy.toString(),NT=i.scaleTime().copy.toString(),kg=i.scaleIdentity(),xT=Date.now(),r8=function(u){return u-xT},fr=function(l){switch(l.copy.toString()){case IT:return{scale:kg,webglScale:Oh().domain(l.domain())};case NT:return{scale:r8,webglScale:Oh().domain(l.domain().map(r8))};case ET:return{scale:kg,webglScale:n8().domain(l.domain()).base(l.base())};case FT:return{scale:kg,webglScale:o8().domain(l.domain()).exponent(l.exponent())};default:return{scale:l.copy(),webglScale:Oh().domain(l.range())}}},KT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(yk.header).appendBody(yk.body),u.appendHeader(Jk.header).appendBody(Jk.body),{vertex:function(){return l},fragment:function(){return u}}},WT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(bk.header).appendBody(bk.body),u.appendHeader(Hk.header).appendBody(Hk.body),{vertex:function(){return l},fragment:function(){return u}}},qT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(Bk.header).appendBody(Bk.body),u.appendHeader(Gk.header).appendBody(Gk.body),{vertex:function(){return l},fragment:function(){return u}}},VT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(kk.header).appendBody(kk.body),u.appendHeader(Dk.header).appendBody(Dk.body),{vertex:function(){return l},fragment:function(){return u}}},OT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(pk.header).appendBody(pk.body),u.appendHeader(Rk.header).appendBody(Rk.body),{vertex:function(){return l},fragment:function(){return u}}},ZT=function(){var l=da(Fi),u=da(Ni);return l.appendHeader(fk.header).appendBody(fk.body),u.appendHeader(Lk.header).appendBody(Lk.body),{vertex:function(){return l},fragment:function(){return u}}},t8=function(l){switch(l){case h.symbolCircle:return Yk();case h.symbolSquare:return KT();case h.symbolTriangle:return WT();case h.symbolCross:return qT();case h.symbolDiamond:return VT();case h.symbolStar:return OT();case h.symbolWye:return ZT();default:throw new Error("Unrecognised symbol: ".concat(l))}},s8=function(l){var u=Vh().divisor(1),c=l,g=!0,A=function(m){if(u(m),!!g){if(!Array.isArray(c))throw new Error("Expected an array, received: ".concat(c));if(c.length!==u.size())throw new Error("Expected array of length: ".concat(u.size(),", recieved array of length: ").concat(c.length));var v=m.context();v["vertexAttrib".concat(c.length,"fv")](u.location(),c),v.disableVertexAttribArray(u.location()),g=!1}};return A.clear=function(){g=!0},A.value=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g=!0,A):c},j(A,u,"normalized","size","location"),A},UT=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],u=qe().size(4),c=l,g=!0,A=function(m){if(m.vertexShader().appendHeaderIfNotExists(gk.header).appendBodyIfNotExists(gk.body),m.fragmentShader().appendHeaderIfNotExists(Wk.header).appendBodyIfNotExists(Wk.body),Array.isArray(c))m.buffers().attribute("aFillColor",s8(c).size(4));else if(typeof c=="function"){if(!g)return;u.value(c),m.buffers().attribute("aFillColor",u)}else throw new Error("Expected value to be an array or function, received ".concat(c));g=!1};return A.value=function(){return arguments.length?(c!==(arguments.length<=0?void 0:arguments[0])&&(c=arguments.length<=0?void 0:arguments[0],g=!0),A):c},j(A,u,"data"),A},YT=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],u=qe().size(4),c=l,g=!0,A=function(m){if(m.vertexShader().appendHeaderIfNotExists(Ak.header).appendBodyIfNotExists(Ak.body),m.fragmentShader().appendHeaderIfNotExists(qk.header).appendBodyIfNotExists(qk.body),Array.isArray(c))m.buffers().attribute("aStrokeColor",s8(c).size(4));else if(typeof c=="function"){if(!g)return;u.value(c),m.buffers().attribute("aStrokeColor",u)}else throw new Error("Expected value to be an array or function, received ".concat(c));g=!1};return A.value=function(){return arguments.length?(c!==(arguments.length<=0?void 0:arguments[0])&&(c=arguments.length<=0?void 0:arguments[0],g=!0),A):c},j(A,u,"data"),A},l8=function(){var l=yn(),u=pr(-1,2),c=u.offset(-1),g=u.offset(1),A=u.offset(2),p=pr(-1,2),m=p.offset(-1),v=p.offset(1),y=p.offset(2),k=pr(0,1).type(ea.UNSIGNED_BYTE),B=k.offset(1),w=Qk().crossPreviousValueAttribute(c).crossValueAttribute(u).crossNextValueAttribute(g).crossNextNextValueAttribute(A).mainPreviousValueAttribute(m).mainValueAttribute(p).mainNextValueAttribute(v).mainNextNextValueAttribute(y).definedAttribute(k).definedNextAttribute(B),M=function(q,Z){return!1},P=fr,R=[],L=null,D=null,I=function(q){var Z=P(l.xScale()),_=P(l.yScale()),pe=!M(R,q);pe&&(R=q,k.value(function(me,de){return l.defined()(me,de)}).data(q)),(pe||Z.scale!==L)&&(L=Z.scale,l.orient()==="vertical"?u.value(function(me,de){return Z.scale(l.crossValue()(me,de))}).data(q):u.value(function(me,de){return Z.scale(l.mainValue()(me,de))}).data(q)),(pe||_.scale!==D)&&(D=_.scale,l.orient()==="vertical"?p.value(function(me,de){return _.scale(l.mainValue()(me,de))}).data(q):p.value(function(me,de){return _.scale(l.crossValue()(me,de))}).data(q)),w.xScale(Z.webglScale).yScale(_.webglScale).decorate(function(me){return l.decorate()(me,q,0)}),w(q.length)};return I.equals=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],I):M},I.scaleMapper=function(){return arguments.length?(P=arguments.length<=0?void 0:arguments[0],I):P},C(I,l,x("baseValue","bandwidth","align")),j(I,w,"context","lineWidth","pixelRatio"),I},u8=function(){var l=h.symbol(),u=yn(),c=ia("g","point"),g=function(m){return"translate("+m[0]+", "+m[1]+")"},A=function(m){Ia(m)&&c.transition(m),m.each(function(v,y,k){var B=v.filter(u.defined()),w=c(s.select(k[y]),B);w.enter().attr("transform",function(M,P){return g(u.values(M,P).origin)}).attr("fill",La.gray).attr("stroke",La.black).append("path"),w.attr("transform",function(M,P){return g(u.values(M,P).origin)}).select("path").attr("d",l),u.decorate()(w,v,y)})};return C(A,u,x("baseValue","bandwidth","align")),j(A,c,"key"),j(A,l,"type","size"),A},h8=function(){var l=h.symbol(),u=yn(),c=function(A){var p=A.filter(u.defined()),m=l.context();p.forEach(function(v,y){m.save();var k=u.values(v,y);m.translate(k.origin[0],k.origin[1]),m.beginPath(),m.strokeStyle=La.black,m.fillStyle=La.gray,u.decorate()(m,v,y),l(v,y),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(c,u,x("baseValue","bandwidth","align")),j(c,l,"size","type","context"),c},XT=function(){var l=yn(),u=pa(64),c=h.symbolCircle,g=qe(),A=qe(),p=qe().type(ea.UNSIGNED_SHORT),m=qe().type(ea.UNSIGNED_BYTE),v=Xk().crossValueAttribute(g).mainValueAttribute(A).sizeAttribute(p).definedAttribute(m),y=function(L,D){return!1},k=fr,B=[],w=null,M=null,P=function(L){var D=k(l.xScale()),I=k(l.yScale()),W=!y(B,L);W&&(B=L,p.value(function(q,Z){return u(q,Z)}).data(L),m.value(function(q,Z){return l.defined()(q,Z)}).data(L)),(W||D.scale!==w)&&(w=D.scale,l.orient()==="vertical"?g.value(function(q,Z){return D.scale(l.crossValue()(q,Z))}).data(L):g.value(function(q,Z){return D.scale(l.mainValue()(q,Z))}).data(L)),(W||I.scale!==M)&&(M=I.scale,l.orient()==="vertical"?A.value(function(q,Z){return I.scale(l.mainValue()(q,Z))}).data(L):A.value(function(q,Z){return I.scale(l.crossValue()(q,Z))}).data(L)),v.xScale(D.webglScale).yScale(I.webglScale).type(t8(c)).decorate(function(q){return l.decorate()(q,L,0)}),v(L.length)};return P.size=function(){return arguments.length?(u=pa(arguments.length<=0?void 0:arguments[0]),P):u},P.type=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],P):c},P.equals=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],P):y},P.scaleMapper=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],P):k},C(P,l,x("baseValue","bandwidth","align")),j(P,v,"context","pixelRatio"),P},QT=function(){var l=ss().x(0).y(0),u=yn(),c=ia("g","bar"),g=function(y){return u.orient()==="vertical"?y.height:y.width},A=function(y){return u.orient()==="vertical"?y.width:y.height},p=function(y){return"translate("+y[0]+", "+y[1]+")"},m=function(y){Ia(y)&&c.transition(y),y.each(function(k,B,w){var M=u.orient();if(M!=="vertical"&&M!=="horizontal")throw new Error("The bar series does not support an orientation of "+M);var P=k.filter(u.defined()),R=P.map(u.values);l.width(0).height(0),u.orient()==="vertical"?(l.verticalAlign("top"),l.horizontalAlign("center")):(l.horizontalAlign("right"),l.verticalAlign("center"));var L=c(s.select(w[B]),P);L.enter().attr("transform",function(D,I){return p(R[I].baseOrigin)}).attr("class","bar "+u.orient()).attr("fill",La.darkGray).append("path").attr("d",function(D,I){return A(l)(R[I].width),l([D])}),L.attr("transform",function(D,I){return p(R[I].origin)}).select("path").attr("d",function(D,I){return A(l)(R[I].width),g(l)(-R[I].height),l([D])}),u.decorate()(L,P,B)})};return C(m,u),j(m,c,"key"),m},$T=function(){var l=yn(),u=ss().x(0).y(0),c=function(m){return l.orient()==="vertical"?m.height:m.width},g=function(m){return l.orient()==="vertical"?m.width:m.height},A=function(m){var v=u.context(),y=m.filter(l.defined()),k=y.map(l.values);l.orient()==="vertical"?(u.verticalAlign("top"),u.horizontalAlign("center")):(u.horizontalAlign("right"),u.verticalAlign("center")),k.forEach(function(B,w){v.save(),v.beginPath(),v.translate(B.origin[0],B.origin[1]),v.fillStyle=La.darkGray,v.strokeStyle="transparent",l.decorate()(v,B.d,w),c(u)(-B.height),g(u)(B.width),u([B]),v.fill(),v.stroke(),v.closePath(),v.restore()})};return C(A,l),j(A,u,"context"),A},_T=function(){var l=yn(),u=qe(),c=qe(),g=qe(),A=qe().type(ea.UNSIGNED_SHORT),p=qe().type(ea.UNSIGNED_BYTE),m=_k().crossValueAttribute(u).mainValueAttribute(c).baseValueAttribute(g).bandwidthAttribute(A).definedAttribute(p),v=function(R,L){return!1},y=fr,k=[],B=null,w=null,M=function(R){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var L=y(l.xScale()),D=y(l.yScale()),I=!v(k,R);I&&(k=R,A.value(function(W,q){return l.bandwidth()(W,q)}).data(R),p.value(function(W,q){return l.defined()(W,q)}).data(R)),(I||L.scale!==B)&&(B=L.scale,u.value(function(W,q){return L.scale(l.crossValue()(W,q))}).data(R)),(I||D.scale!==w)&&(w=D.scale,g.value(function(W,q){return D.scale(l.baseValue()(W,q))}).data(R),c.value(function(W,q){return D.scale(l.mainValue()(W,q))}).data(R)),m.xScale(L.webglScale).yScale(D.webglScale).decorate(function(W){return l.decorate()(W,R,0)}),m(R.length)};return M.equals=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],M):v},M.scaleMapper=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],M):y},C(M,l,x("align")),j(M,m,"context","pixelRatio"),M},bg=function(){var l=function(y){return y.high},u=function(y){return y.low},c=function(y){return y.cross},g="vertical",A="center",p=function(){return 5},m=ht({decorate:function(){},defined:function(y,k){return Pl(u,l,c)(y,k)},xScale:i.scaleIdentity(),yScale:i.scaleIdentity()});return m.values=function(v,y){var k=p(v,y),B=jl(A,k),w=m.xScale(),M=m.yScale();if(g==="vertical"){var P=M(l(v,y));return{origin:[w(c(v,y))+B,P],high:0,low:M(u(v,y))-P,width:k}}else{var R=w(u(v,y));return{origin:[R,M(c(v,y))+B],high:w(l(v,y))-R,low:0,width:k}}},m.xValues=function(){return g==="vertical"?[c]:[l,u]},m.yValues=function(){return g!=="vertical"?[c]:[l,u]},m.orient=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],m):g},m.lowValue=function(){return arguments.length?(u=pa(arguments.length<=0?void 0:arguments[0]),m):u},m.highValue=function(){return arguments.length?(l=pa(arguments.length<=0?void 0:arguments[0]),m):l},m.crossValue=function(){return arguments.length?(c=pa(arguments.length<=0?void 0:arguments[0]),m):c},m.bandwidth=function(){return arguments.length?(p=pa(arguments.length<=0?void 0:arguments[0]),m):p},m.align=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],m):A},m},eP=function(){var l=bg(),u=ia("g","error-bar"),c=cg().value(0),g=function(v){return function(y){return Ia(v)?y.transition(v):y}},A=function(v){return"translate("+v.origin[0]+", "+v.origin[1]+")"},p=function(v){Ia(v)&&u.transition(v);var y=g(v);v.each(function(k,B,w){var M=k.filter(l.defined()),P=M.map(l.values),R=u(s.select(w[B]),M);R.enter().attr("stroke",La.black).attr("fill",La.gray).attr("transform",function(L,D){return A(l.values(L,D))+" scale(1e-6, 1)"}).append("path"),c.orient(l.orient()),R.each(function(L,D,I){var W=P[D];c.high(W.high).low(W.low).width(W.width),y(s.select(I[D])).attr("transform",A(W)+" scale(1)").select("path").attr("d",c([L]))}),l.decorate()(R,k,B)})};return C(p,l),j(p,u,"key"),p},aP=function(){var l=bg(),u=cg().value(0),c=function(A){var p=A.filter(l.defined()),m=u.context();u.orient(l.orient()),p.forEach(function(v,y){m.save();var k=l.values(v,y);m.translate(k.origin[0],k.origin[1]),m.beginPath(),m.strokeStyle=La.black,m.fillStyle=La.gray,l.decorate()(m,v,y),u.high(k.high).width(k.width).low(k.low)([v]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(c,l),j(c,u,"context"),c},iP=function(){var l=bg(),u=qe(),c=qe(),g=qe(),A=qe().type(ea.UNSIGNED_SHORT),p=qe().type(ea.UNSIGNED_BYTE),m=e8().crossValueAttribute(u).highValueAttribute(c).lowValueAttribute(g).bandwidthAttribute(A).definedAttribute(p),v=function(R,L){return!1},y=fr,k=[],B=null,w=null,M=function(R){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var L=y(l.xScale()),D=y(l.yScale()),I=!v(k,R);I&&(k=R,A.value(function(W,q){return l.bandwidth()(W,q)}).data(R),p.value(function(W,q){return l.defined()(W,q)}).data(R)),(I||L.scale!==B)&&(B=L.scale,u.value(function(W,q){return L.scale(l.crossValue()(W,q))}).data(R)),(I||D.scale!==w)&&(w=D.scale,c.value(function(W,q){return D.scale(l.highValue()(W,q))}).data(R),g.value(function(W,q){return D.scale(l.lowValue()(W,q))}).data(R)),m.xScale(L.webglScale).yScale(D.webglScale).decorate(function(W){return l.decorate()(W,R,0)}),m(R.length)};return M.equals=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],M):v},M.scaleMapper=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],M):y},C(M,l,x("align")),j(M,m,"context","lineWidth","pixelRatio"),M},nP=function(){var l=yn(),u=h.area(),c=ia("path","area"),g=function(p){Ia(p)&&c.transition(p),u.defined(l.defined()),p.each(function(m,v,y){var k=m.map(l.values);u.x(function(M,P){return k[P].transposedX}).y(function(M,P){return k[P].transposedY});var B=l.orient()==="vertical"?"y":"x";u[B+"0"](function(M,P){return k[P].y0}),u[B+"1"](function(M,P){return k[P].y});var w=c(s.select(y[v]),[m]);w.enter().attr("fill",La.gray),w.attr("d",u),l.decorate()(w,m,v)})};return C(g,l,x("bandwidth","align")),j(g,c,"key"),j(g,u,"curve"),g},oP=function(){var l=yn(),u=h.area(),c=function(A){var p=u.context();u.defined(l.defined());var m=A.map(l.values);u.x(function(y,k){return m[k].transposedX}).y(function(y,k){return m[k].transposedY});var v=l.orient()==="vertical"?"y":"x";u[v+"0"](function(y,k){return m[k].y0}),u[v+"1"](function(y,k){return m[k].y}),p.beginPath(),p.fillStyle=La.gray,p.strokeStyle="transparent",l.decorate()(p,A),u(A),p.fill(),p.stroke(),p.closePath()};return C(c,l,x("bandwidth","align")),j(c,u,"curve","context"),c},rP=function(){var l=yn(),u=pr(0,1),c=u.offset(1),g=pr(0,1),A=g.offset(1),p=pr(0,1),m=p.offset(1),v=pr(0,1).type(ea.UNSIGNED_BYTE),y=v.offset(1),k=Uk().crossValueAttribute(u).crossNextValueAttribute(c).mainValueAttribute(g).mainNextValueAttribute(A).baseValueAttribute(p).baseNextValueAttribute(m).definedAttribute(v).definedNextAttribute(y),B=function(I,W){return!1},w=fr,M=[],P=null,R=null,L=function(I){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var W=w(l.xScale()),q=w(l.yScale()),Z=!B(M,I);Z&&(M=I,v.value(function(_,pe){return l.defined()(_,pe)}).data(I)),(Z||W.scale!==P)&&(P=W.scale,u.value(function(_,pe){return W.scale(l.crossValue()(_,pe))}).data(I)),(Z||q.scale!==R)&&(R=q.scale,p.value(function(_,pe){return q.scale(l.baseValue()(_,pe))}).data(I),g.value(function(_,pe){return q.scale(l.mainValue()(_,pe))}).data(I)),k.xScale(W.webglScale).yScale(q.webglScale).decorate(function(_){return l.decorate()(_,I,0)}),k(I.length)};return L.equals=function(){return arguments.length?(B=arguments.length<=0?void 0:arguments[0],L):B},L.scaleMapper=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],L):w},C(L,l,x("bandwidth","align")),j(L,k,"context","pixelRatio"),L},Bg=function(){var l,u=function(B){return B.date},c=function(B){return B.open},g=function(B){return B.high},A=function(B){return B.low},p=function(B){return B.close},m=function(){return 5},v="center",y=function(B,w){return l.xScale()(u(B,w))};return l=ht({decorate:function(){},defined:function(B,w){return Pl(u,c,A,g,p)(B,w)},xScale:i.scaleIdentity(),yScale:i.scaleIdentity()}),l.values=function(k,B){var w=p(k,B),M=c(k,B),P=m(k,B),R=jl(v,P),L="";return w>M?L="up":w<M&&(L="down"),{cross:y(k,B)+R,open:l.yScale()(M),high:l.yScale()(g(k,B)),low:l.yScale()(A(k,B)),close:l.yScale()(w),width:P,direction:L}},l.xValues=function(){return[u]},l.yValues=function(){return[c,g,A,p]},l.crossValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],l):u},l.openValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],l):c},l.highValue=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],l):g},l.lowValue=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],l):A},l.yValue=l.closeValue=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],l):p},l.bandwidth=function(){return arguments.length?(m=pa(arguments.length<=0?void 0:arguments[0]),l):m},l.align=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],l):v},l},d8=function(l,u){var c=Bg(),g=ia("g",u),A=function(y){return"translate("+y.cross+", "+y.high+")"},p=function(y){return function(k){return Ia(y)?k.transition(y):k}},m=function(y){Ia(y)&&g.transition(y);var k=p(y);y.each(function(B,w,M){var P=B.filter(c.defined()),R=g(s.select(M[w]),P);R.enter().attr("transform",function(L,D){return A(c.values(L,D))+" scale(1e-6, 1)"}).append("path"),R.each(function(L,D,I){var W=c.values(L,D),q=W.direction==="up"?La.green:La.red,Z=k(s.select(I[D])).attr("class",u+" "+W.direction).attr("stroke",q).attr("fill",q).attr("transform",function(){return A(W)+" scale(1)"});l.x(0).width(W.width).open(function(){return W.open-W.high}).high(0).low(function(){return W.low-W.high}).close(function(){return W.close-W.high}),Z.select("path").attr("d",l([L]))}),c.decorate()(R,B,w)})};return j(m,g,"key"),C(m,c),m},tP=function(){return d8(hg(),"candlestick")},c8=function(l){var u=Bg(),c=function(A){var p=A.filter(u.defined()),m=l.context();p.forEach(function(v,y){m.save();var k=u.values(v,y);m.translate(k.cross,k.high),m.beginPath(),l.x(0).open(function(){return k.open-k.high}).width(k.width).high(0).low(function(){return k.low-k.high}).close(function(){return k.close-k.high})([v]);var B=k.direction==="up"?La.green:La.red;m.strokeStyle=B,m.fillStyle=B,u.decorate()(m,v,y),m.fill(),m.stroke(),m.closePath(),m.restore()})};return j(c,l,"context"),C(c,u),c},sP=function(){return c8(hg())},m8=function(l){var u=Bg(),c=qe(),g=qe(),A=qe(),p=qe(),m=qe(),v=qe().type(ea.UNSIGNED_SHORT),y=qe().type(ea.UNSIGNED_BYTE);l.crossValueAttribute(c).openValueAttribute(g).highValueAttribute(A).lowValueAttribute(p).closeValueAttribute(m).bandwidthAttribute(v).definedAttribute(y);var k=function(D,I){return!1},B=fr,w=[],M=null,P=null,R=function(D){var I=B(u.xScale()),W=B(u.yScale()),q=!k(w,D);q&&(w=D,v.value(function(Z,_){return u.bandwidth()(Z,_)}).data(D),y.value(function(Z,_){return u.defined()(Z,_)}).data(D)),(q||I.scale!==M)&&(M=I.scale,c.value(function(Z,_){return I.scale(u.crossValue()(Z,_))}).data(D)),(q||W.scale!==P)&&(P=W.scale,g.value(function(Z,_){return W.scale(u.openValue()(Z,_))}).data(D),A.value(function(Z,_){return W.scale(u.highValue()(Z,_))}).data(D),p.value(function(Z,_){return W.scale(u.lowValue()(Z,_))}).data(D),m.value(function(Z,_){return W.scale(u.closeValue()(Z,_))}).data(D)),l.xScale(I.webglScale).yScale(W.webglScale).decorate(function(Z){return u.decorate()(Z,D,0)}),l(D.length)};return R.equals=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],R):k},R.scaleMapper=function(){return arguments.length?(B=arguments.length<=0?void 0:arguments[0],R):B},C(R,u,x("align")),j(R,l,"context","lineWidth","pixelRatio"),R},lP=function(){return m8(a8())},Sg=function(){var l=function(w){return w.upperQuartile},u=function(w){return w.lowerQuartile},c=function(w){return w.high},g=function(w){return w.low},A=function(w){return w.value},p=function(w){return w.median},m="vertical",v="center",y=function(){return 5},k=ht({decorate:function(){},defined:function(w,M){return Pl(g,c,u,l,A,p)(w,M)},xScale:i.scaleIdentity(),yScale:i.scaleIdentity()});return k.values=function(B,w){var M=y(B,w),P=jl(v,M),R=k.xScale(),L=k.yScale();if(m==="vertical"){var D=L(c(B,w));return{origin:[R(A(B,w))+P,D],high:0,upperQuartile:L(l(B,w))-D,median:L(p(B,w))-D,lowerQuartile:L(u(B,w))-D,low:L(g(B,w))-D,width:M}}else{var I=R(g(B,w));return{origin:[I,L(A(B,w))+P],high:R(c(B,w))-I,upperQuartile:R(l(B,w))-I,median:R(p(B,w))-I,lowerQuartile:R(u(B,w))-I,low:0,width:M}}},k.xValues=function(){return m==="vertical"?[A]:[l,u,c,g,p]},k.yValues=function(){return m!=="vertical"?[A]:[l,u,c,g,p]},k.orient=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],k):m},k.lowerQuartileValue=function(){return arguments.length?(u=pa(arguments.length<=0?void 0:arguments[0]),k):u},k.upperQuartileValue=function(){return arguments.length?(l=pa(arguments.length<=0?void 0:arguments[0]),k):l},k.lowValue=function(){return arguments.length?(g=pa(arguments.length<=0?void 0:arguments[0]),k):g},k.highValue=function(){return arguments.length?(c=pa(arguments.length<=0?void 0:arguments[0]),k):c},k.crossValue=function(){return arguments.length?(A=pa(arguments.length<=0?void 0:arguments[0]),k):A},k.medianValue=function(){return arguments.length?(p=pa(arguments.length<=0?void 0:arguments[0]),k):p},k.bandwidth=function(){return arguments.length?(y=pa(arguments.length<=0?void 0:arguments[0]),k):y},k.align=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],k):v},k},uP=function(){var l=Sg(),u=ia("g","box-plot"),c=dg().value(0),g=function(v){return function(y){return Ia(v)?y.transition(v):y}},A=function(v){return"translate("+v.origin[0]+", "+v.origin[1]+")"},p=function(v){Ia(v)&&u.transition(v);var y=g(v);v.each(function(k,B,w){var M=k.filter(l.defined()),P=u(s.select(w[B]),M);P.enter().attr("stroke",La.black).attr("fill",La.gray).attr("transform",function(R,L){return A(l.values(R,L))+" scale(1e-6, 1)"}).append("path"),c.orient(l.orient()),P.each(function(R,L,D){var I=l.values(R,L);c.median(I.median).upperQuartile(I.upperQuartile).lowerQuartile(I.lowerQuartile).width(I.width).high(I.high).low(I.low),y(s.select(D[L])).attr("transform",A(I)).select("path").attr("d",c([R]))}),l.decorate()(P,k,B)})};return C(p,l),j(p,u,"key"),j(p,c,"cap"),p},hP=function(){var l=Sg(),u=dg().value(0),c=function(A){var p=A.filter(l.defined()),m=u.context();u.orient(l.orient()),p.forEach(function(v,y){m.save();var k=l.values(v,y);m.translate(k.origin[0],k.origin[1]),m.beginPath(),m.fillStyle=La.gray,m.strokeStyle=La.black,l.decorate()(m,v,y),u.median(k.median).upperQuartile(k.upperQuartile).lowerQuartile(k.lowerQuartile).high(k.high).width(k.width).low(k.low)([v]),m.fill(),m.stroke(),m.closePath(),m.restore()})};return C(c,l),j(c,u,"cap","context"),c},dP=function(){var l=Sg(),u=qe(),c=qe(),g=qe(),A=qe(),p=qe(),m=qe(),v=qe().type(ea.UNSIGNED_SHORT),y=qe().type(ea.UNSIGNED_SHORT),k=qe().type(ea.UNSIGNED_BYTE),B=i8().crossValueAttribute(u).highValueAttribute(c).upperQuartileValueAttribute(g).medianValueAttribute(A).lowerQuartileValueAttribute(p).lowValueAttribute(m).bandwidthAttribute(v).capAttribute(y).definedAttribute(k),w=function(q,Z){return!1},M=fr,P=[],R=null,L=null,D=pa(20),I=function(q){if(l.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(l.orient()));var Z=M(l.xScale()),_=M(l.yScale()),pe=!w(P,q);pe&&(P=q,v.value(function(me,de){return l.bandwidth()(me,de)}).data(q),y.value(function(me,de){return D(me,de)}).data(q),k.value(function(me,de){return l.defined()(me,de)}).data(q)),(pe||Z.scale!==R)&&(R=Z.scale,u.value(function(me,de){return Z.scale(l.crossValue()(me,de))}).data(q)),(pe||_.scale!==L)&&(L=_.scale,c.value(function(me,de){return _.scale(l.highValue()(me,de))}).data(q),g.value(function(me,de){return _.scale(l.upperQuartileValue()(me,de))}).data(q),A.value(function(me,de){return _.scale(l.medianValue()(me,de))}).data(q),p.value(function(me,de){return _.scale(l.lowerQuartileValue()(me,de))}).data(q),m.value(function(me,de){return _.scale(l.lowValue()(me,de))}).data(q)),B.xScale(Z.webglScale).yScale(_.webglScale).decorate(function(me){return l.decorate()(me,q,0)}),B(q.length)};return I.cap=function(){return arguments.length?(D=pa(arguments.length<=0?void 0:arguments[0]),I):D},I.equals=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],I):w},I.scaleMapper=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],I):M},C(I,l,x("align")),j(I,B,"context","lineWidth","pixelRatio"),I},cP=function(){return d8(ug(),"ohlc")},mP=function(){return c8(ug())},gP=function(){return m8($k())},zg=function(){var l=[],u=function(p){return p},c=function(p,m){return m},g=ht({decorate:function(){},xScale:i.scaleIdentity(),yScale:i.scaleIdentity()});return g.xValues=function(){return l.map(function(A){return A.xValues()}).reduce(function(A,p){return A.concat(p)})},g.yValues=function(){return l.map(function(A){return A.yValues()}).reduce(function(A,p){return A.concat(p)})},g.mapping=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.key=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.series=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g},wg=function(){var l=zg(),u=ia("g"),c=ia("g","multi"),g=function(p){Ia(p)&&(c.transition(p),u.transition(p));var m=l.mapping(),v=l.series(),y=l.xScale(),k=l.yScale();p.each(function(B,w,M){var P=c(s.select(M[w]),v);P.each(function(R,L,D){R.xScale(y).yScale(k);var I=m(B,L,v),W=u(s.select(D[L]),[I]);W.call(R)}),P.selection().order(),l.decorate()(P,B,w)})};return C(g,l),j(g,c,"key"),g},Mg=function(){var l=null,u=zg(),c=function(A){var p=u.mapping(),m=u.series(),v=u.xScale(),y=u.yScale();m.forEach(function(k,B){var w=p(A,B,m);k.context(l).xScale(v).yScale(y);var M;k.decorate?(M=k.decorate(),k.decorate(function(P,R,L){u.decorate()(P,A,B),M(P,R,L)})):u.decorate()(l,A,B),k(w),M&&k.decorate(M)})};return c.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],c):l},C(c,u),c},g8=function(){var l=null,u=1,c=zg(),g=function(p){var m=c.mapping(),v=c.series(),y=c.xScale(),k=c.yScale();v.forEach(function(B,w){var M=m(p,w,v);B.context(l).pixelRatio(u).xScale(y).yScale(k);var P;B.decorate?(P=B.decorate(),B.decorate(function(R,L,D){c.decorate()(R,p,w),P(R,L,D)})):c.decorate()(l,p,w),B(M),P&&B.decorate(P)})};return g.context=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.pixelRatio=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},C(g,c),g},A8=function(l){var u=function(){return 50},c="center",g=i.scaleBand(),A=ht({decorate:function(){},xScale:i.scaleLinear(),yScale:i.scaleLinear()});return A.offsetScaleForDatum=function(p,m,v){var y=u(m,v),k=jl(c,y),B=y/2;return g.domain(e.range(0,p.length)).range([-B+k,B+k])},A.bandwidth=function(){return arguments.length?(u=pa(arguments.length<=0?void 0:arguments[0]),A):u},A.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],A):c},C(A,g,F({paddingInner:"paddingOuter"})),A},AP=function(l){var u=A8(),c=ia("g","grouped"),g=function(p){Ia(p)&&c.transition(p),p.each(function(m,v,y){var k=c(s.select(y[v]),m);k.enter().append("g"),k.select("g").each(function(B,w,M){var P=s.select(M[w]),R=l.orient()!=="horizontal",L=function(I,W){var q=u.offsetScaleForDatum(m,I,W),Z=R?u.xScale():u.yScale();return Z(I)+q(w)+q.bandwidth()/2};R?(l.xScale(L),l.yScale(u.yScale())):(l.yScale(L),l.xScale(u.xScale())),l.bandwidth&&l.bandwidth(function(D,I){return u.offsetScaleForDatum(m,D,I).bandwidth()}),l.decorate(function(D,I){return u.decorate()(D,I,w)}),P.call(l)})})};return C(g,l,x("decorate","xScale","yScale")),C(g,u,x("offsetScaleForDatum")),g};function vP(l){var u=A8(),c=function(A){A.forEach(function(p,m){var v=l.orient()!=="horizontal",y=function(B,w){var M=u.offsetScaleForDatum(A,B,w),P=v?u.xScale():u.yScale();return P(B)+M(m)+M.bandwidth()/2};v?(l.xScale(y),l.yScale(u.yScale())):(l.yScale(y),l.xScale(u.xScale())),l.bandwidth&&l.bandwidth(function(k,B){return u.offsetScaleForDatum(A,k,B).bandwidth()}),l.decorate(function(k,B){return u.decorate()(k,B,m)}),l(p)})};return C(c,l,x("decorate","xScale","yScale")),C(c,u,x("offsetScaleForDatum")),c}var pP=function(){var l="vertical",u=pg(),c=wg(),g=function(p){return p.each(function(m,v,y){l==="vertical"?c.series(m[0].map(function(k){return u})).mapping(function(k,B){return k.map(function(w){return w[B]})}):c.series(m.map(function(k){return u})).mapping(function(k,B){return k[B]}),s.select(y[v]).call(c)})};return g.series=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},C(g,c,x("series","mapping")),g},fP=function(){var l="vertical",u=fg(),c=Mg(),g=function(p){l==="vertical"?c.series(p[0].map(function(m){return u})).mapping(function(m,v){return m.map(function(y){return y[v]})}):c.series(p.map(function(m){return u})).mapping(function(m,v){return m[v]}),c(p)};return g.series=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},C(g,c,x("series","mapping")),g},yP=function(){var l="vertical",u=function(){return l8()},c=g8(),g=[],A=function(m){if(l==="vertical"){var v=g;g=m[0].map(function(k,B){return B<v.length?v[B]:u()}),c.series(g).mapping(function(k,B){return k.map(function(w){return w[B]})})}else{var y=g;g=m.map(function(k,B){return B<y.length?y[B]:u()}),c.series(g).mapping(function(k,B){return k[B]})}c(m)};return A.series=function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return m.length?(typeof m[0].xScale=="function"&&typeof m[0].yScale=="function"?u=function(){return m[0]}:u=m[0],g=[],A):u},A.orient=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g=[],A):l},C(A,c,x("series","mapping")),A},kP=function(u){return u.sort(e.ascending).filter(function(c,g,A){return A.indexOf(c,g+1)===-1})},bP=function(l){var u=.75,c=function(m){if(m.length<=1)return 10;m=kP(m);var v=e.pairs(m).map(function(k){return Math.abs(k[0]-k[1])}),y=e.min(v);return u*y},g=function(m,v,y){if(m.bandwidth)return m.bandwidth();var k,B=Array.isArray(v)?(k=[]).concat.apply(k,ze(v)):v,w=B.filter(l.defined()).map(y()).map(m),M=c(w);return M},A=function(m){var v=function(k){if(l.xBandwidth&&l.yBandwidth)l.xBandwidth(g(l.xScale(),k,l.xValue)),l.yBandwidth(g(l.yScale(),k,l.yValue));else{var B=l.orient&&l.orient()==="horizontal"?l.yScale():l.xScale();l.bandwidth(g(B,k,l.crossValue))}};m instanceof s.selection?m.each(function(y,k,B){v(y),l(s.select(B[k]))}):(v(m),l(m))};return C(A,l),A.widthFraction=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],A):u},A},v8=function(){var l=function(y){return y.x},u=function(y){return y.y},c=function(y){return y.color},g=function(){return 5},A=function(){return 5},p=d.interpolateViridis,m=ht({decorate:function(){},defined:function(y,k){return Pl(l,u,c)(y,k)},xScale:i.scaleIdentity(),yScale:i.scaleIdentity()});return m.pathGenerator=ss().x(0).y(0),m.colorScale=function(v){var y=v.map(c);return i.scaleLinear().domain([e.min(y),e.max(y)])},m.values=function(v,y){return{x:m.xScale()(l(v,y)),y:m.yScale()(u(v,y)),colorValue:c(v,y),width:A(v,y),height:g(v,y)}},m.xValues=function(){return[l]},m.yValues=function(){return[u]},m.xValue=function(){return arguments.length?(l=pa(arguments.length<=0?void 0:arguments[0]),m):l},m.yValue=function(){return arguments.length?(u=pa(arguments.length<=0?void 0:arguments[0]),m):u},m.colorValue=function(){return arguments.length?(c=pa(arguments.length<=0?void 0:arguments[0]),m):c},m.colorInterpolate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],m):p},m.xBandwidth=function(){return arguments.length?(A=pa(arguments.length<=0?void 0:arguments[0]),m):A},m.yBandwidth=function(){return arguments.length?(g=pa(arguments.length<=0?void 0:arguments[0]),m):g},C(m,m.pathGenerator,F({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),m},BP=function(){var l=v8(),u=ia("g","box"),c=function(p){return"translate("+p.x+", "+p.y+")"},g=function(p){p.each(function(m,v,y){var k=m.filter(l.defined()),B=l.colorValue(),w=l.colorInterpolate(),M=l.colorScale(k),P=u(s.select(y[v]),k);P.enter().append("path").attr("stroke","transparent"),P.attr("transform",function(R,L){return c(l.values(R,L))}).select("path").attr("d",function(R,L){return l.pathGenerator.width(l.values(R,L).width).height(l.values(R,L).height)([R])}).attr("fill",function(R,L){return w(M(B(R,L)))}),l.decorate()(P,m,v)})};return C(g,l),g},SP=function(){var l=v8(),u=function(g){var A=g.filter(l.defined()),p=l.colorInterpolate(),m=l.colorScale(A),v=l.pathGenerator.context();A.forEach(function(y,k){v.save(),v.beginPath();var B=l.values(y,k);v.translate(B.x,B.y),v.fillStyle=p(m(B.colorValue)),v.strokeStyle="transparent",l.decorate()(v,y,k),l.pathGenerator.height(B.height).width(B.width)([y]),v.fill(),v.stroke(),v.closePath(),v.restore()})};return j(u,l.pathGenerator,"context"),C(u,l),u},yr=function(l){return typeof l=="function"?l:function(){return l}},zP=function(){var l=i.scaleIdentity(),u=i.scaleIdentity(),c="horizontal",g=function(B){return B.from},A=function(B){return B.to},p=function(){},m=ia("g","annotation-band"),v=ss().horizontalAlign("center").verticalAlign("center").x(0).y(0),y=function(B){if(Ia(B)&&m.transition(B),c!=="horizontal"&&c!=="vertical")throw new Error("Invalid orientation");var w=c==="horizontal",M=w?function(Z,_){return"translate(".concat(Z,", ").concat(_,")")}:function(Z,_){return"translate(".concat(_,", ").concat(Z,")")},P=w?l:u,R=w?u:l,L=P.range(),D=L[1]-L[0],I=w?"height":"width",W=w?"width":"height",q=function(){return M((L[1]+L[0])/2,(R(A.apply(void 0,arguments))+R(g.apply(void 0,arguments)))/2)};v[W](D),v[I](function(){return R(A.apply(void 0,arguments))-R(g.apply(void 0,arguments))}),B.each(function(Z,_,pe){var me=m(s.select(pe[_]),Z);me.enter().attr("transform",q).append("path").classed("band",!0),me.attr("class","annotation-band ".concat(c)).attr("transform",q).select("path").attr("d",function(de,na){return v([de],na)}),p(me,Z,_)})};return y.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],y):l},y.yScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y.fromValue=function(){return arguments.length?(g=yr(arguments.length<=0?void 0:arguments[0]),y):g},y.toValue=function(){return arguments.length?(A=yr(arguments.length<=0?void 0:arguments[0]),y):A},y},wP=function(){var l=i.scaleIdentity(),u=i.scaleIdentity(),c="horizontal",g=function(k){return k.from},A=function(k){return k.to},p=function(){},m=ss().horizontalAlign("right").verticalAlign("top"),v=function(k){if(c!=="horizontal"&&c!=="vertical")throw new Error("Invalid orientation");var B=m.context(),w=c==="horizontal",M=w?l:u,P=w?u:l,R=M.range(),L=R[1]-R[0],D=w?"x":"y",I=w?"y":"x",W=w?"height":"width",q=w?"width":"height";k.forEach(function(Z,_){B.save(),B.beginPath(),B.strokeStyle="transparent",m[I](P(g(Z))),m[D](R[0]),m[q](L),m[W](P(A(Z))-P(g(Z))),p(B,Z,_),m.context(B)([Z],_),B.fill(),B.stroke(),B.closePath(),B.restore()})};return v.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.yScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],v):u},v.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],v):c},v.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],v):p},v.fromValue=function(){return arguments.length?(g=yr(arguments.length<=0?void 0:arguments[0]),v):g},v.toValue=function(){return arguments.length?(A=yr(arguments.length<=0?void 0:arguments[0]),v):A},j(v,m,"context"),v},Cg=function(){var l=i.scaleIdentity(),u=i.scaleIdentity(),c=function(k){return k},g=c,A=function(){},p="horizontal",m=ia("g","annotation-line"),v=function(k){if(Ia(k)&&m.transition(k),p!=="horizontal"&&p!=="vertical")throw new Error("Invalid orientation");var B=p==="horizontal",w=B?function(de,na){return"translate(".concat(de,", ").concat(na,")")}:function(de,na){return"translate(".concat(na,", ").concat(de,")")},M=B?"x2":"y2",P=B?l:u,R=B?u:l,L=B?"left-handle":"bottom-handle",D=B?"right-handle":"top-handle",I=B?"9":"0",W=B?"0":"9",q=B?"0.32em":"0.71em",Z=B?"start":"middle",_=P.range(),pe=function(){return w(_[0],R(c.apply(void 0,arguments)))},me=_[1]-_[0];k.each(function(de,na,Ki){var en=m(s.select(Ki[na]),de),$n=en.enter().attr("transform",pe).style("stroke","#bbb");$n.append("line").attr(M,me),$n.append("g").classed(L,!0).style("stroke","none"),$n.append("g").classed(D,!0).style("stroke","none").attr("transform",w(me,0)).append("text").attr("text-anchor",Z).attr("x",I).attr("y",W).attr("dy",q),en.attr("class","annotation-line ".concat(p)),en.attr("transform",pe),en.select("line").attr(M,me),en.select("g."+D).attr("transform",w(me,0)),en.select("text").text(g),A(en,de,na)})};return v.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.yScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],v):u},v.value=function(){return arguments.length?(c=yr(arguments.length<=0?void 0:arguments[0]),v):c},v.label=function(){return arguments.length?(g=yr(arguments.length<=0?void 0:arguments[0]),v):g},v.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],v):A},v.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],v):p},v};function MP(){var l=function(L){return L.x},u=function(L){return L.y},c=i.scaleIdentity(),g=i.scaleIdentity(),A=function(){},p=ia("g","annotation-crosshair"),m=u8(),v=Cg(),y=Cg().orient("vertical"),k=i.scaleIdentity(),B=i.scaleIdentity(),w=wg().series([v,y,m]).xScale(k).yScale(B).mapping(function(R){return[R]}),M=function(L){Ia(L)&&p.transition(L),L.each(function(D,I,W){var q=p(s.select(W[I]),D);q.enter().style("pointer-events","none"),k.range(c.range()),B.range(g.range()),m.crossValue(l).mainValue(u),v.value(u),y.value(l),q.call(w),A(q,D,I)})};M.x=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],M):l},M.y=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],M):u},M.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],M):c},M.yScale=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],M):g},M.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],M):A};var P=V("label");return C(M,v,P,N("y")),C(M,y,P,N("x")),M}var Tg=function(){var l=i.scaleIdentity(),u=i.scaleIdentity(),c=function(k){return k},g=c,A=function(){},p="horizontal",m=h.line(),v=function(k){if(p!=="horizontal"&&p!=="vertical")throw new Error("Invalid orientation");var B=p==="horizontal",w=m.context(),M=B?l:u,P=B?u:l,R=M.domain(),L=B?9:0,D=B?0:9,I=B?"left":"center",W=B?"middle":"hanging";k.forEach(function(q,Z){w.save(),w.beginPath(),w.strokeStyle="#bbb",w.fillStyle="#000",w.textAlign=I,w.textBaseline=W,A(w,q,Z),m.context(w)(R.map(function(me){var de=[M(me),P(c(q))];return B?de:de.reverse()}));var _=B?M(R[1]):P(c(q)),pe=B?P(c(q)):M(R[1]);w.fillText(g(q),_+L,pe+D),w.fill(),w.stroke(),w.closePath(),w.restore()})};return v.xScale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],v):l},v.yScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],v):u},v.value=function(){return arguments.length?(c=yr(arguments.length<=0?void 0:arguments[0]),v):c},v.label=function(){return arguments.length?(g=yr(arguments.length<=0?void 0:arguments[0]),v):g},v.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],v):A},v.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],v):p},j(v,m,"context"),v},CP=function(){var l=function(P){return P.x},u=function(P){return P.y},c=i.scaleIdentity(),g=i.scaleIdentity(),A=h8(),p=Tg(),m=Tg().orient("vertical"),v=i.scaleIdentity(),y=i.scaleIdentity(),k=Mg().series([p,m,A]).xScale(v).yScale(y).mapping(function(M){return[M]}),B=function(P){P.forEach(function(R){v.range(c.range()),y.range(g.range()),A.crossValue(l).mainValue(u),p.value(u),m.value(l),k(R)})};B.x=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],B):l},B.y=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],B):u},B.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],B):c},B.yScale=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],B):g};var w=V("label","decorate");return C(B,p,w,N("y")),C(B,m,w,N("x")),j(B,A,"decorate"),j(B,k,"context"),B},Zh=function(){var l=i.scaleIdentity(),u=[10],c=null,g=function(){var p;return c??(l.ticks?(p=l).ticks.apply(p,ze(u)):l.domain())};return g.scale=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],g):l},g.ticks=function(){for(var A=arguments.length,p=new Array(A),m=0;m<A;m++)p[m]=arguments[m];return u=p,g},g.tickArguments=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.tickValues=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g},p8=function(u){return u},TP=function(){var l=function(){},u=function(){},c=Zh(),g=Zh(),A=ia("line","gridline-y").key(p8),p=ia("line","gridline-x").key(p8),m=function(y){Ia(y)&&(A.transition(y),p.transition(y)),y.each(function(k,B,w){var M=w[B],P=s.select(w[B]),R=c.scale(),L=g.scale(),D=M.__x_scale__||R;M.__x_scale__=R.copy();var I=c(),W=A(P,I);W.enter().attr("x1",D).attr("x2",D).attr("y1",L.range()[0]).attr("y2",L.range()[1]).attr("stroke","#bbb"),W.attr("x1",R).attr("x2",R).attr("y1",L.range()[0]).attr("y2",L.range()[1]),W.exit().attr("x1",R).attr("x2",R),l(W,I,B);var q=M.__y_scale__||L;M.__y_scale__=L.copy();var Z=g(),_=p(P,Z);_.enter().attr("y1",q).attr("y2",q).attr("x1",R.range()[0]).attr("x2",R.range()[1]).attr("stroke","#bbb"),_.attr("y1",L).attr("y2",L).attr("x1",R.range()[0]).attr("x2",R.range()[1]),_.exit().attr("y1",L).attr("y2",L),u(_,Z,B)})};return m.yDecorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.xDecorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],m):l},C(m,A,F({key:"xKey"})),C(m,p,F({key:"yKey"})),C(m,c,N("x")),C(m,g,N("y")),m},PP=function(){var l=function(){},u=function(){},c=Zh(),g=Zh(),A=h.line(),p=function(){var v=A.context(),y=c.scale(),k=g.scale();c().forEach(function(B,w){v.save(),v.beginPath(),v.strokeStyle="#bbb",v.fillStyle="transparent",l(v,B,w),A.context(v)(k.domain().map(function(M){return[y(B),k(M)]})),v.fill(),v.stroke(),v.closePath(),v.restore()}),g().forEach(function(B,w){v.save(),v.beginPath(),v.strokeStyle="#bbb",v.fillStyle="transparent",u(v,B,w),A.context(v)(y.domain().map(function(M){return[y(M),k(B)]})),v.fill(),v.stroke(),v.closePath(),v.restore()})};return p.yDecorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.xDecorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},C(p,c,N("x")),C(p,g,N("y")),j(p,A,"context"),p},jP=function(u){return u},f8=function(u,c,g,A){return u[c]?u[c].apply(u,g):A},y8=function(u){var c;return(c=u.tickValues())!==null&&c!==void 0?c:f8(u.scale(),"ticks",u.tickArguments(),u.scale().domain())},k8=function(u){var c;return(c=u.tickFormat())!==null&&c!==void 0?c:f8(u.scale(),"tickFormat",u.tickArguments(),jP)},RP=function(u){return u},b8=function(u,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=[10],p=null,m=function(){},v=null,y=6,k=6,B=3,w=h.line(),M=ia("g","tick").key(RP),P=ia("path","domain"),R=function(){return{offset:[0,k+B]}},L=function(){return{path:[[0,0],[0,k]]}},D=g.labelOffset||R,I=g.tickPath||L,W=function(de,na){var Ki=0;return de.bandwidth&&(Ki=de.bandwidth()/2,de.round()&&(Ki=Math.round(Ki))),function(en){return na(de(en)+Ki,0)}},q=function(de,na){return _()?"translate(".concat(na,", ").concat(de,")"):"translate(".concat(de,", ").concat(na,")")},Z=function(de){return _()?de.map(function(na){return[na[1],na[0]]}):de},_=function(){return u==="left"||u==="right"},pe=function me(de){Ia(de)&&(M.transition(de),P.transition(de)),de.each(function(na,Ki,en){var $n=en[Ki],Hl=s.select($n);$n.__scale__||Hl.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",u==="right"?"start":u==="left"?"end":"middle");var Gg=$n.__scale__||c;$n.__scale__=c.copy();var ct=y8(me),Xe=k8(me),ls=u==="bottom"||u==="right"?1:-1,pi=function(oa){var Ba=te(oa,2),oi=Ba[0],kn=Ba[1];return[oi,ls*kn]},_n=c.range(),kr=Z([[_n[0],ls*y],[_n[0],0],[_n[1],0],[_n[1],ls*y]]),Za=P(Hl,[na]);Za.enter().attr("stroke","#000"),Za.attr("d",w(kr));var eo=M(Hl,ct),Gl=ct.map(function(Ie,oa){return D(Ie,oa,ct)}),ni=ct.map(function(Ie,oa){return I(Ie,oa,ct)});eo.enter().attr("transform",W(Gg,q)).append("path").attr("stroke","#000"),eo.enter().append("text").attr("transform",function(Ie,oa){return q.apply(void 0,ze(pi(Gl[oa].offset)))}).attr("fill","#000"),eo.exit().attr("transform",W(c,q)),eo.select("path").attr("visibility",function(Ie,oa){return ni[oa].hidden&&"hidden"}).attr("d",function(Ie,oa){return w(Z(ni[oa].path.map(pi)))}),eo.select("text").attr("visibility",function(Ie,oa){return Gl[oa].hidden&&"hidden"}).attr("transform",function(Ie,oa){return q.apply(void 0,ze(pi(Gl[oa].offset)))}).attr("dy",function(){var Ie="0em";return _()?Ie="0.32em":u==="bottom"&&(Ie="0.71em"),Ie}).text(Xe),eo.attr("transform",W(c,q)),m(eo,na,Ki)})};return pe.tickFormat=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],pe):v},pe.tickSize=function(){return arguments.length?(k=y=Number(arguments.length<=0?void 0:arguments[0]),pe):k},pe.tickSizeInner=function(){return arguments.length?(k=Number(arguments.length<=0?void 0:arguments[0]),pe):k},pe.tickSizeOuter=function(){return arguments.length?(y=Number(arguments.length<=0?void 0:arguments[0]),pe):y},pe.tickPadding=function(){return arguments.length?(B=arguments.length<=0?void 0:arguments[0],pe):B},pe.decorate=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],pe):m},pe.scale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],pe):c},pe.ticks=function(){for(var me=arguments.length,de=new Array(me),na=0;na<me;na++)de[na]=arguments[na];return A=[].concat(de),pe},pe.tickArguments=function(){return arguments.length?(A=(arguments.length<=0?void 0:arguments[0])==null?[]:ze(arguments.length<=0?void 0:arguments[0]),pe):A!==null?A.slice():null},pe.tickValues=function(){return arguments.length?(p=(arguments.length<=0?void 0:arguments[0])==null?[]:ze(arguments.length<=0?void 0:arguments[0]),pe):p!==null?p.slice():null},pe.orient=function(){return u},pe},Uh=function(u,c){var g=!1,A=function(y,k,B){var w=0,M=p.tickSizeInner()+p.tickPadding(),P=!1;if(g){var R=c(y),L=k<B.length-1?c(B[k+1]):c.range()[1];w=(L-R)/2,M=p.tickPadding(),P=k===B.length-1&&R===L}return{offset:[w,M],hidden:P}},p=b8(u,c,{labelOffset:A}),m=function(y){return p(y)};return m.tickCenterLabel=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],m):g},C(m,p),m},B8=function(u){return Uh("top",u)},S8=function(u){return Uh("bottom",u)},z8=function(u){return Uh("left",u)},w8=function(u){return Uh("right",u)},Yh=function(u,c){var g=null,A=function(B,w,M){if(c.step)return c.step();var P=c(B);return w<M.length-1?c(M[w+1])/P:(c.range()[1]-P)*2},p=function(B,w,M){var P=0;return g?P=g(B,w):P=A(B,w,M)/2,{path:[[P,0],[P,v.tickSizeInner()]],hidden:w===M.length-1}},m=function(){return{offset:[0,v.tickPadding()]}},v=b8(u,c,{labelOffset:m,tickPath:p}),y=function(B){v(B)};return y.tickOffset=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],y):g},C(y,v),y},LP=function(u){return Yh("top",u)},JP=function(u){return Yh("bottom",u)},DP=function(u){return Yh("left",u)},HP=function(u){return Yh("right",u)},M8=function(l){var u=function(g){var A=y8(l),p=k8(l),m=A.map(p),v=g.append("text"),y=m.map(function(w){return v.text(w).node().getBBox()}),k=Math.max.apply(Math,ze(y.map(function(w){return w.height}))),B=Math.max.apply(Math,ze(y.map(function(w){return w.width})));return v.remove(),{maxHeight:k,maxWidth:B,labelCount:m.length}};return u},GP=function(l){var u="auto",c=function(){},g=function(){return l.orient()==="left"||l.orient()==="right"},A=function(){return l.orient()==="top"||l.orient()==="left"?-1:1},p=function(){switch(l.orient()){case"top":case"right":return"start";default:return"end"}},m=function(B){var w=M8(l)(B),M=w.maxHeight,P=w.maxWidth,R=w.labelCount,L=R*P,D;if(u==="auto"){var I=l.scale().range()[1];D=I<L?90*Math.min(1,(L/I-.8)/2):0}else D=u;return{rotate:g()?Math.floor(A()*(90-D)):Math.floor(-D),maxHeight:M,maxWidth:P,anchor:D?p():"middle"}},v=function(B){var w=m(B),M=w.rotate,P=w.maxHeight,R=w.anchor,L=B.select("text"),D=L.attr("transform"),I=A()*Math.floor(P/2),W=g()?"translate(".concat(I,", 0)"):"translate(0, ".concat(I,")");L.style("text-anchor",R).attr("transform","".concat(D," ").concat(W," rotate(").concat(M," 0 0)"))},y=function(B){l(B)};return l.decorate(function(k){v(k),c(k)}),y.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.labelRotate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},C(y,l,x("decorate")),y},IP=function(l){var u="auto",c=function(){},g=function(){return l.orient()==="left"||l.orient()==="right"},A=function(){return l.orient()==="top"||l.orient()==="left"?-1:1},p=function(y){var k=M8(l)(y),B=k.maxHeight,w=k.maxWidth,M=k.labelCount,P=l.scale().range()[1],R=u==="auto"?Math.floor((g()?B:w)*M/P)+1:u,L=y.select("text"),D=L.attr("transform"),I=function(q){return g()?"translate(".concat(q%R*w*A(),", 0)"):"translate(0, ".concat(q%R*B*A(),")")};L.attr("transform",function(W,q){return"".concat(D," ").concat(I(q))})},m=function(y){return l(y)};return l.decorate(function(v){p(v),c(v)}),m.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],m):c},m.labelOffsetDepth=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},C(m,l,x("decorate")),m},Pg="__d3fc-elements__",Ll=function(u){return u[Pg]||{}},C8=function(u,c){return void(u[Pg]=c)},EP=function(u){return delete u[Pg]},FP=function(u){return u.tagName==="D3FC-GROUP"?[u].concat(ze(u.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[u]},NP=function(u){var c=Ll(u),g=c.width,A=c.height,p=u.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,m=u.clientWidth*p,v=u.clientHeight*p,y=m!==g||v!==A,k=u.children[0];C8(u,{pixelRatio:p,width:m,height:v,resized:y,child:k})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var xP=function(u){var c=Ll(u),g=new CustomEvent("measure",{detail:c});u.dispatchEvent(g)},KP=function(u){var c=Ll(u),g=new CustomEvent("draw",{detail:c});u.dispatchEvent(g)},WP=function(l){var u=l.map(FP).reduce(function(c,g){return c.concat(g)});u.forEach(NP),u.forEach(xP),u.forEach(KP)},T8=function(u){return Ll(u.ownerDocument).queue||[]},qP=function(u,c){var g=Ll(u.ownerDocument),A=g.requestId;A==null&&(A=requestAnimationFrame(function(){var p=T8(u);WP(p),VP(u)})),C8(u.ownerDocument,{queue:c,requestId:A})},VP=function(u){return EP(u.ownerDocument)},P8=function(u,c){var g=u;do if(g.parentNode===c)return!0;while(g=g.parentNode);return!1},jg=function(l){var u=T8(l),c=u.indexOf(l)>-1;if(!c){var g=u.some(function(p){return P8(l,p)});if(!g){var A=u.filter(function(p){return!P8(p,l)});A.push(l),qP(l,A)}}};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var OP=function(u){u.__measureListener__==null&&(u.__measureListener__=function(c){return u.setMeasurements(c.detail)},u.addEventListener("measure",u.__measureListener__))},ZP=function(u){u.__measureListener__!=null&&(u.removeEventListener("measure",u.__measureListener__),u.__measureListener__=null)},j8=function(l,u){return function(c){oe(A,c);var g=Y(A);function A(){return O(this,A),g.apply(this,arguments)}return ue(A,[{key:"attributeChangedCallback",value:function(m){switch(m){case"use-device-pixel-ratio":this.requestRedraw();break}}},{key:"connectedCallback",value:function(){this.childNodes.length===0&&this.appendChild(l()),OP(this)}},{key:"disconnectedCallback",value:function(){ZP(this)}},{key:"setMeasurements",value:function(m){var v=m.width,y=m.height,k=m.resized,B=we(this.childNodes),w=B[0],M=B.slice(1);if(M.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");u(this,w,{width:v,height:y,resized:k})}},{key:"requestRedraw",value:function(){jg(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"},set:function(m){m&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!m&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),A}(sa(HTMLElement))},UP=function(l){oe(c,l);var u=Y(c);function c(){return O(this,c),u.apply(this,arguments)}return ue(c,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"},set:function(A){A&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!A&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),c}(j8(function(){return document.createElement("canvas")},function(l,u,c){var g=c.width,A=c.height,p=c.resized;if(!!p&&(u.setAttribute("width",g),u.setAttribute("height",A),l.setWebglViewport)){var m=u.getContext("webgl");m.viewport(0,0,g,A)}})),Rg=function(u){u.autoResize?YP(u):R8(u)},YP=function(u){u.__autoResizeListener__==null&&(u.__autoResizeListener__=function(){return jg(u)},addEventListener("resize",u.__autoResizeListener__))},R8=function(u){u.__autoResizeListener__!=null&&(removeEventListener("resize",u.__autoResizeListener__),u.__autoResizeListener__=null)},XP=function(l){oe(c,l);var u=Y(c);function c(){return O(this,c),u.apply(this,arguments)}return ue(c,[{key:"connectedCallback",value:function(){Rg(this)}},{key:"disconnectedCallback",value:function(){R8(this)}},{key:"requestRedraw",value:function(){jg(this)}},{key:"attributeChangedCallback",value:function(A){switch(A){case"auto-resize":Rg(this);break}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"},set:function(A){A&&!this.autoResize?this.setAttribute("auto-resize",""):!A&&this.autoResize&&this.removeAttribute("auto-resize"),Rg(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),c}(sa(HTMLElement)),QP=j8(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")},function(l,u,c){var g=c.width,A=c.height,p=c.resized;!p||u.setAttribute("viewBox","0 0 ".concat(g," ").concat(A))}),L8="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",Jl=document.createElement("style");if(Jl.setAttribute("type","text/css"),document.querySelector("head").appendChild(Jl),Jl.styleSheet?Jl.styleSheet.cssText+=L8:Jl.textContent+=L8,(typeof customElements=="undefined"?"undefined":ee(customElements))!=="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Lg=[],Jg=function(u,c){customElements.get(u)?Lg.push(u):customElements.define(u,c)};Jg("d3fc-canvas",UP),Jg("d3fc-group",XP),Jg("d3fc-svg",QP),Lg.length>0&&console.warn('The d3fc components "'.concat(Lg.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var $P=function(){var l=f.dispatch("point");function u(A){var p=s.pointer(A);l.call("point",this,[{x:p[0],y:p[1]}])}function c(){l.call("point",this,[])}var g=function(p){p.on("mouseenter.pointer",u).on("mousemove.pointer",u).on("mouseleave.pointer",c)};return j(g,l,"on"),g},_P=function(){var l="",u="vertical",c=function(v,y){return Number(v[y])},g=function(v){return Object.keys(v[0]).filter(function(y){return y!==l}).map(function(y){var k=v.filter(function(B){return B[y]}).map(function(B){var w=[B[l],c(B,y)];return w.data=B,w});return k.key=y,k})},A=function(v){return v.map(function(y){var k=Object.keys(y).filter(function(B){return B!==l}).map(function(B){var w=[B,c(y,B)];return w.data=y,w});return k.key=y[l],k})},p=function(v){return u==="vertical"?g(v):A(v)};return p.key=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p.value=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p},J8=function(){for(var l={},u=function(k){for(var B=0,w=Object.keys(l);B<w.length;B++){var M=w[B];k[M].apply(null,l[M])}return k},c=arguments.length,g=new Array(c),A=0;A<c;A++)g[A]=arguments[A];for(var p=function(){var k=v[m];u[k]=function(){for(var B=arguments.length,w=new Array(B),M=0;M<B;M++)w[M]=arguments[M];return w.length?(l[k]=w,u):l[k]}},m=0,v=g;m<v.length;m++)p();return u},D8=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,Dl=document.createElement("style");Dl.setAttribute("type","text/css"),document.querySelector("head").appendChild(Dl),Dl.styleSheet?Dl.styleSheet.cssText+=D8:Dl.textContent+=D8;var xi=function(u){return typeof u=="function"?u:function(){return u}},H8=function(){var l=ej.apply(void 0,arguments),u=l.xScale,c=l.yScale,g=l.xAxis,A=l.yAxis,p=xi(""),m=xi(""),v=xi(""),y=xi(null),k=xi(null),B=xi("right"),w=xi("bottom"),M=null,P=null,R=null,L=!1,D=!0,I=J8("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),W=function(){},q=J8("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),Z=function(){},_=function(){},pe=ia("d3fc-group","cartesian-chart"),me=ia("d3fc-canvas","webgl-plot-area"),de=ia("d3fc-canvas","canvas-plot-area"),na=ia("d3fc-svg","svg-plot-area"),Ki=ia("d3fc-svg","x-axis").key(function(pi){return pi}),en=ia("d3fc-svg","y-axis").key(function(pi){return pi}),$n=ia("div","chart-label"),Hl=ia("div","x-label").key(function(pi){return pi}),Gg=ia("div","y-label").key(function(pi){return pi}),ct=function(_n){return function(kr){return Ia(_n)?kr.transition(_n):kr}},Xe=function(_n){var kr=ct(_n);_n.each(function(Za,eo,Gl){var ni=pe(s.select(Gl[eo]),[Za]);ni.enter().attr("auto-resize",""),$n(ni,[w(Za)]).attr("class",function(Ie){return Ie==="top"?"chart-label bottom-label":"chart-label top-label"}).style("margin-bottom",function(Ie){return Ie==="top"?0:"1em"}).style("margin-top",function(Ie){return Ie==="top"?"1em":0}).text(p(Za)),Hl(ni,[w(Za)]).attr("class",function(Ie){return"x-label ".concat(Ie,"-label")}).text(m(Za)),Gg(ni,[B(Za)]).attr("class",function(Ie){return"y-label ".concat(Ie,"-label")}).text(v(Za)),me(ni,M?[Za]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",D).on("draw",function(Ie,oa){var Ba=Ie.detail,oi=Ba.child,kn=Ba.pixelRatio;M.context(L?null:oi.getContext("webgl")).pixelRatio(kn).xScale(u).yScale(c),M(oa)}),ni.select(".webgl-plot-area>canvas").on("webglcontextlost",function(Ie){console.warn("WebGLRenderingContext lost"),Ie.preventDefault(),L=!0,ni.node().requestRedraw()}).on("webglcontextrestored",function(){console.info("WebGLRenderingContext restored"),L=!1,ni.node().requestRedraw()}),de(ni,P?[Za]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",D).on("draw",function(Ie,oa){var Ba=Ie.detail,oi=Ba.child,kn=Ba.pixelRatio,br=oi.getContext("2d");br.save(),D&&br.scale(kn,kn),P.context(br).xScale(u).yScale(c),P(oa),br.restore()}),na(ni,R?[Za]:[]).classed("plot-area",!0).on("draw",function(Ie,oa){var Ba=Ie.detail.child;R.xScale(u).yScale(c),kr(s.select(Ba).datum(oa)).call(R)}),Ki(ni,[w(Za)]).attr("class",function(Ie){return"x-axis ".concat(Ie,"-axis")}).style("height",y(Za)).on("measure",function(Ie,oa){var Ba=Ie.detail,oi=Ba.width,kn=Ba.height,br=Ba.child;oa==="top"&&s.select(br).attr("viewBox","0 ".concat(-kn," ").concat(oi," ").concat(kn)),u.range([0,oi])}).on("draw",function(Ie,oa){var Ba=Ie.detail.child,oi=oa==="top"?g.top(u):g.bottom(u);oi.decorate(W),kr(s.select(Ba).datum(oa)).call(I(oi))}),en(ni,[B(Za)]).attr("class",function(Ie){return"y-axis ".concat(Ie,"-axis")}).style("width",k(Za)).on("measure",function(Ie,oa){var Ba=Ie.detail,oi=Ba.width,kn=Ba.height,br=Ba.child;oa==="left"&&s.select(br).attr("viewBox","".concat(-oi," 0 ").concat(oi," ").concat(kn)),c.range([kn,0])}).on("draw",function(Ie,oa){var Ba=Ie.detail.child,oi=oa==="left"?A.left(c):A.right(c);oi.decorate(Z),kr(s.select(Ba).datum(oa)).call(q(oi))}),ni.each(function(Ie,oa,Ba){return Ba[oa].requestRedraw()}),_(ni,Za,eo)})},ls=x(/range\w*/,/tickFormat/);return C(Xe,u,ls,N("x")),C(Xe,c,ls,N("y")),C(Xe,I,N("x")),C(Xe,q,N("y")),Xe.xOrient=function(){return arguments.length?(w=xi(arguments.length<=0?void 0:arguments[0]),Xe):w},Xe.yOrient=function(){return arguments.length?(B=xi(arguments.length<=0?void 0:arguments[0]),Xe):B},Xe.xDecorate=function(){return arguments.length?(W=arguments.length<=0?void 0:arguments[0],Xe):W},Xe.yDecorate=function(){return arguments.length?(Z=arguments.length<=0?void 0:arguments[0],Xe):Z},Xe.chartLabel=function(){return arguments.length?(p=xi(arguments.length<=0?void 0:arguments[0]),Xe):p},Xe.xLabel=function(){return arguments.length?(m=xi(arguments.length<=0?void 0:arguments[0]),Xe):m},Xe.yLabel=function(){return arguments.length?(v=xi(arguments.length<=0?void 0:arguments[0]),Xe):v},Xe.xAxisHeight=function(){return arguments.length?(y=xi(arguments.length<=0?void 0:arguments[0]),Xe):y},Xe.yAxisWidth=function(){return arguments.length?(k=xi(arguments.length<=0?void 0:arguments[0]),Xe):k},Xe.webglPlotArea=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],Xe):M},Xe.canvasPlotArea=function(){return arguments.length?(P=arguments.length<=0?void 0:arguments[0],Xe):P},Xe.svgPlotArea=function(){return arguments.length?(R=arguments.length<=0?void 0:arguments[0],Xe):R},Xe.decorate=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],Xe):_},Xe.useDevicePixelRatio=function(){return arguments.length?(D=arguments.length<=0?void 0:arguments[0],Xe):D},Xe},ej=function(){for(var u={xScale:i.scaleIdentity(),yScale:i.scaleIdentity(),xAxis:{bottom:S8,top:B8},yAxis:{right:w8,left:z8}},c=arguments.length,g=new Array(c),A=0;A<c;A++)g[A]=arguments[A];return g.length===1&&!g[0].domain&&!g[0].range?Object.assign(u,g[0]):Object.assign(u,{xScale:g[0]||u.xScale,yScale:g[1]||u.yScale})},G8=function(u){return typeof u=="function"?u:function(){return u}},I8=function(l,u){return function(){var c=G8(""),g=u,A=function(){},p=H8.apply(void 0,arguments),m=function(y){l(p,g),p.decorate(function(k,B,w){k.enter().select(".x-label").style("height","1em").style("line-height","1em");var M=p.yOrient()(B);k.enter().append("div").attr("class","y-label-container").style("grid-column",M==="left"?1:5).style("-ms-grid-column",M==="left"?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),k.select(".y-label-container>.y-label").text(c),A(k,B,w)}),y.call(p)};return C(m,p,V(/^x/,/^y/,"chartLabel")),m.yLabel=function(){return arguments.length?(c=G8(arguments.length<=0?void 0:arguments[0]),m):c},m.plotArea=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],m):g},m.decorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],m):A},m}},aj=I8(function(l,u){return l.svgPlotArea(u)},pg),ij=I8(function(l,u){return l.canvasPlotArea(u)},fg),nj=function(u){switch(u){case"x":return b.brushX();case"y":return b.brushY();case"xy":return b.brush()}},Dg=function(u){return[u[1],u[0]]},Hg=function(u){var c=nj(u),g=f.dispatch("brush","start","end"),A=i.scaleIdentity(),p=i.scaleIdentity(),m=ia("g","brush"),v=function(L,D,I){switch(u){case"x":return L.map(D);case"y":return L.map(I);case"xy":return[[D(L[0][0]),I(L[0][1])],[D(L[1][0]),I(L[1][1])]]}},y=function(L){return v(L,i.scaleLinear().domain(A.range()).invert,i.scaleLinear().domain(Dg(p.range())).invert)},k=function(L){return v(L,i.scaleLinear().domain(A.range()),i.scaleLinear().domain(Dg(p.range())))},B=function(L){var D=i.scaleLinear().domain(A.domain());if(u==="x")return L.map(D.invert);if(u==="xy")return[D.invert(L[0][0]),D.invert(L[1][0])]},w=function(L){var D=i.scaleLinear().domain(Dg(p.domain()));if(u==="y")return[L[1],L[0]].map(D.invert);if(u==="xy")return[D.invert(L[1][1]),D.invert(L[0][1])]},M=function(L){if(!(L.sourceEvent&&L.sourceEvent.type==="draw"))if(L.selection){var D=k(L.selection);g.call(L.type,{},{selection:D,xDomain:B(D),yDomain:w(D)})}else g.call(L.type,{},{})},P=function(L){L.each(function(D,I,W){c.extent([[A.range()[0],p.range()[1]],[A.range()[1],p.range()[0]]]),c.on("end",function(Z){return M(Z)}).on("brush",function(Z){return M(Z)}).on("start",function(Z){return M(Z)});var q=m(s.select(W[I]),[D]);q.call(c).call(c.move,D?y(D):null)})};return P.xScale=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],P):A},P.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],P):p},j(P,g,"on"),j(P,c,"filter","handleSize"),P},oj=function(){return Hg("x")},rj=function(){return Hg("y")},tj=function(){return Hg("xy")},E8=function(u,c){if(u==null&&c==null)return!0;var g=u.domain(),A=c.domain();return g.length===A.length&&g.every(function(p,m){var v;return(p==null?void 0:p.valueOf())===((v=A[m])===null||v===void 0?void 0:v.valueOf())})},sj=function(u,c){return S.zoomIdentity.scale(u.k/c.k).translate(u.x-c.x,u.y-c.y)},Xh=Symbol("d3fc-domain-zoom"),lj=function(){var l=f.dispatch("zoom"),u=S.zoom().on("zoom",function(g){var A=g.transform,p=this,m=A,v=p[Xh],y=v.originalXScale,k=v.previousXScale,B=v.xScale,w=v.originalYScale,M=v.previousYScale,P=v.yScale,R=v.previousTransform;(!E8(k,B)||!E8(M,P))&&(y=B==null?void 0:B.copy(),w=P==null?void 0:P.copy(),m=sj(A,R)),B!=null&&(k=m.rescaleX(y.range(B.range())),B.domain(k.domain())),P!=null&&(M=m.rescaleY(w.range(P.range())),P.domain(M.domain())),R=m,p[Xh]={originalXScale:y,previousXScale:k,xScale:B,originalYScale:w,previousYScale:M,yScale:P,previousTransform:R},m!==A&&u.transform(s.select(p),m),l.call("zoom")}),c=function(A){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;p==null&&m==null&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),A.each(function(v,y,k){var B=k[y][Xh];B!=null&&B.xScale===p&&B.yScale===m&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var w=p==null?void 0:p.copy(),M=m==null?void 0:m.copy();k[y][Xh]={originalXScale:w,previousXScale:w,xScale:p,originalYScale:M,previousYScale:M,yScale:m,previousTransform:S.zoomIdentity}}).call(u)};return j(c,l,"on"),j(c,u,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),c};a.annotationCanvasBand=wP,a.annotationCanvasCrosshair=CP,a.annotationCanvasGridline=PP,a.annotationCanvasLine=Tg,a.annotationSvgBand=zP,a.annotationSvgCrosshair=MP,a.annotationSvgGridline=TP,a.annotationSvgLine=Cg,a.autoBandwidth=bP,a.axisBottom=S8,a.axisLabelOffset=IP,a.axisLabelRotate=GP,a.axisLeft=z8,a.axisOrdinalBottom=JP,a.axisOrdinalLeft=DP,a.axisOrdinalRight=HP,a.axisOrdinalTop=LP,a.axisRight=w8,a.axisTop=B8,a.brush=tj,a.brushX=oj,a.brushY=rj,a.bucket=qh,a.chartCanvasCartesian=ij,a.chartCartesian=H8,a.chartSvgCartesian=aj,a.dataJoin=ia,a.discontinuityIdentity=nk,a.discontinuityRange=rT,a.discontinuitySkipUtcWeekends=oT,a.discontinuitySkipWeekends=nT,a.effectivelyZero=gg,a.exclude=x,a.extentDate=sk,a.extentLinear=tk,a.extentTime=sk,a.feedGdax=uT,a.group=_P,a.include=V,a.includeMap=F,a.indicatorBollingerBands=X,a.indicatorElderRay=aT,a.indicatorEnvelope=eT,a.indicatorExponentialMovingAverage=Q,a.indicatorForceIndex=_C,a.indicatorMacd=K,a.indicatorMovingAverage=ik,a.indicatorRelativeStrengthIndex=QC,a.indicatorStochasticOscillator=$C,a.isTransition=Ia,a.largestTriangleOneBucket=hT,a.largestTriangleThreeBucket=dT,a.layoutAnnealing=yT,a.layoutBoundingBox=BT,a.layoutGreedy=pT,a.layoutLabel=mT,a.layoutRemoveOverlaps=bT,a.layoutTextLabel=gT,a.modeMedian=cT,a.pointer=$P,a.prefix=N,a.randomFinancial=sT,a.randomGeometricBrownianMotion=lk,a.randomSkipWeekends=lT,a.rebind=j,a.rebindAll=C,a.scaleDiscontinuous=ok,a.seriesCanvasArea=oP,a.seriesCanvasBar=$T,a.seriesCanvasBoxPlot=hP,a.seriesCanvasCandlestick=sP,a.seriesCanvasErrorBar=aP,a.seriesCanvasGrouped=vP,a.seriesCanvasHeatmap=SP,a.seriesCanvasLine=fg,a.seriesCanvasMulti=Mg,a.seriesCanvasOhlc=mP,a.seriesCanvasPoint=h8,a.seriesCanvasRepeat=fP,a.seriesSvgArea=nP,a.seriesSvgBar=QT,a.seriesSvgBoxPlot=uP,a.seriesSvgCandlestick=tP,a.seriesSvgErrorBar=eP,a.seriesSvgGrouped=AP,a.seriesSvgHeatmap=BP,a.seriesSvgLine=pg,a.seriesSvgMulti=wg,a.seriesSvgOhlc=cP,a.seriesSvgPoint=u8,a.seriesSvgRepeat=pP,a.seriesWebglArea=rP,a.seriesWebglBar=_T,a.seriesWebglBoxPlot=dP,a.seriesWebglCandlestick=lP,a.seriesWebglErrorBar=iP,a.seriesWebglLine=l8,a.seriesWebglMulti=g8,a.seriesWebglOhlc=gP,a.seriesWebglPoint=XT,a.seriesWebglRepeat=yP,a.shapeBar=ss,a.shapeBoxPlot=dg,a.shapeCandlestick=hg,a.shapeErrorBar=cg,a.shapeOhlc=ug,a.webglAdjacentAttribute=pr,a.webglAttribute=qe,a.webglBaseAttribute=Vh,a.webglBufferBuilder=mk,a.webglElementIndices=dt,a.webglFillColor=UT,a.webglProgramBuilder=Po,a.webglScaleLinear=Oh,a.webglScaleLog=n8,a.webglScaleMapper=fr,a.webglScalePow=o8,a.webglSeriesArea=Uk,a.webglSeriesBar=_k,a.webglSeriesBoxPlot=i8,a.webglSeriesCandlestick=a8,a.webglSeriesErrorBar=e8,a.webglSeriesLine=Qk,a.webglSeriesOhlc=$k,a.webglSeriesPoint=Xk,a.webglShaderBuilder=da,a.webglStrokeColor=YT,a.webglSymbolMapper=t8,a.webglTypes=ea,a.webglUniform=_i,a.zoom=lj,Object.defineProperty(a,"__esModule",{value:!0})})});qi();Cv();Ho();As();fd();Gv();bv();Fv();Od();an();Pr();ap();Xp();wf();Li();Xf();Es();fc();Pd();Gd();_f();var tl=us(It());var e1="http://www.w3.org/1999/xhtml",a1={svg:"http://www.w3.org/2000/svg",xhtml:e1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Uu(a){var e=a+="",i=e.indexOf(":");return i>=0&&(e=a.slice(0,i))!=="xmlns"&&(a=a.slice(i+1)),a1.hasOwnProperty(e)?{space:a1[e],local:a}:a}function xD(a){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===e1&&e.documentElement.namespaceURI===e1?e.createElement(a):e.createElementNS(i,a)}}function KD(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function el(a){var e=Uu(a);return(e.local?KD:xD)(e)}function WD(){}function Yu(a){return a==null?WD:function(){return this.querySelector(a)}}function R4(a){typeof a!="function"&&(a=Yu(a));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],t=r.length,s=n[o]=new Array(t),h,d,f=0;f<t;++f)(h=r[f])&&(d=a.call(h,h.__data__,f,r))&&("__data__"in h&&(d.__data__=h.__data__),s[f]=d);return new Ca(n,this._parents)}function qD(){return[]}function e9(a){return a==null?qD:function(){return this.querySelectorAll(a)}}function L4(a){typeof a!="function"&&(a=e9(a));for(var e=this._groups,i=e.length,n=[],o=[],r=0;r<i;++r)for(var t=e[r],s=t.length,h,d=0;d<s;++d)(h=t[d])&&(n.push(a.call(h,h.__data__,d,t)),o.push(h));return new Ca(n,o)}function a9(a){return function(){return this.matches(a)}}function J4(a){typeof a!="function"&&(a=a9(a));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],t=r.length,s=n[o]=[],h,d=0;d<t;++d)(h=r[d])&&a.call(h,h.__data__,d,r)&&s.push(h);return new Ca(n,this._parents)}function i1(a){return new Array(a.length)}function D4(){return new Ca(this._enter||this._groups.map(i1),this._parents)}function Xu(a,e){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=e}Xu.prototype={constructor:Xu,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,e){return this._parent.insertBefore(a,e)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function H4(a){return function(){return a}}var G4="$";function VD(a,e,i,n,o,r){for(var t=0,s,h=e.length,d=r.length;t<d;++t)(s=e[t])?(s.__data__=r[t],n[t]=s):i[t]=new Xu(a,r[t]);for(;t<h;++t)(s=e[t])&&(o[t]=s)}function OD(a,e,i,n,o,r,t){var s,h,d={},f=e.length,b=r.length,S=new Array(f),T;for(s=0;s<f;++s)(h=e[s])&&(S[s]=T=G4+t.call(h,h.__data__,s,e),T in d?o[s]=h:d[T]=h);for(s=0;s<b;++s)T=G4+t.call(a,r[s],s,r),(h=d[T])?(n[s]=h,h.__data__=r[s],d[T]=null):i[s]=new Xu(a,r[s]);for(s=0;s<f;++s)(h=e[s])&&d[S[s]]===h&&(o[s]=h)}function I4(a,e){if(!a)return T=new Array(this.size()),d=-1,this.each(function(N){T[++d]=N}),T;var i=e?OD:VD,n=this._parents,o=this._groups;typeof a!="function"&&(a=H4(a));for(var r=o.length,t=new Array(r),s=new Array(r),h=new Array(r),d=0;d<r;++d){var f=n[d],b=o[d],S=b.length,T=a.call(f,f&&f.__data__,d,n),j=T.length,J=s[d]=new Array(j),C=t[d]=new Array(j),H=h[d]=new Array(S);i(f,b,J,C,H,T,e);for(var x=0,V=0,F,U;x<j;++x)if(F=J[x]){for(x>=V&&(V=x+1);!(U=C[V])&&++V<j;);F._next=U||null}}return t=new Ca(t,n),t._enter=s,t._exit=h,t}function E4(){return new Ca(this._exit||this._groups.map(i1),this._parents)}function F4(a,e,i){var n=this.enter(),o=this,r=this.exit();return n=typeof a=="function"?a(n):n.append(a+""),e!=null&&(o=e(o)),i==null?r.remove():i(r),n&&o?n.merge(o).order():o}function N4(a){for(var e=this._groups,i=a._groups,n=e.length,o=i.length,r=Math.min(n,o),t=new Array(n),s=0;s<r;++s)for(var h=e[s],d=i[s],f=h.length,b=t[s]=new Array(f),S,T=0;T<f;++T)(S=h[T]||d[T])&&(b[T]=S);for(;s<n;++s)t[s]=e[s];return new Ca(t,this._parents)}function x4(){for(var a=this._groups,e=-1,i=a.length;++e<i;)for(var n=a[e],o=n.length-1,r=n[o],t;--o>=0;)(t=n[o])&&(r&&t.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(t,r),r=t);return this}function K4(a){a||(a=ZD);function e(b,S){return b&&S?a(b.__data__,S.__data__):!b-!S}for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r){for(var t=i[r],s=t.length,h=o[r]=new Array(s),d,f=0;f<s;++f)(d=t[f])&&(h[f]=d);h.sort(e)}return new Ca(o,this._parents).order()}function ZD(a,e){return a<e?-1:a>e?1:a>=e?0:NaN}function W4(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function q4(){var a=new Array(this.size()),e=-1;return this.each(function(){a[++e]=this}),a}function V4(){for(var a=this._groups,e=0,i=a.length;e<i;++e)for(var n=a[e],o=0,r=n.length;o<r;++o){var t=n[o];if(t)return t}return null}function O4(){var a=0;return this.each(function(){++a}),a}function Z4(){return!this.node()}function U4(a){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var o=e[i],r=0,t=o.length,s;r<t;++r)(s=o[r])&&a.call(s,s.__data__,r,o);return this}function UD(a){return function(){this.removeAttribute(a)}}function YD(a){return function(){this.removeAttributeNS(a.space,a.local)}}function XD(a,e){return function(){this.setAttribute(a,e)}}function QD(a,e){return function(){this.setAttributeNS(a.space,a.local,e)}}function $D(a,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(a):this.setAttribute(a,i)}}function _D(a,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,i)}}function Y4(a,e){var i=Uu(a);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((e==null?i.local?YD:UD:typeof e=="function"?i.local?_D:$D:i.local?QD:XD)(i,e))}function Qu(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function eH(a){return function(){this.style.removeProperty(a)}}function aH(a,e,i){return function(){this.style.setProperty(a,e,i)}}function iH(a,e,i){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(a):this.style.setProperty(a,n,i)}}function X4(a,e,i){return arguments.length>1?this.each((e==null?eH:typeof e=="function"?iH:aH)(a,e,i??"")):Q4(this.node(),a)}function Q4(a,e){return a.style.getPropertyValue(e)||Qu(a).getComputedStyle(a,null).getPropertyValue(e)}function nH(a){return function(){delete this[a]}}function oH(a,e){return function(){this[a]=e}}function rH(a,e){return function(){var i=e.apply(this,arguments);i==null?delete this[a]:this[a]=i}}function $4(a,e){return arguments.length>1?this.each((e==null?nH:typeof e=="function"?rH:oH)(a,e)):this.node()[a]}function _4(a){return a.trim().split(/^|\s+/)}function i9(a){return a.classList||new ew(a)}function ew(a){this._node=a,this._names=_4(a.getAttribute("class")||"")}ew.prototype={add:function(a){var e=this._names.indexOf(a);e<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var e=this._names.indexOf(a);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function aw(a,e){for(var i=i9(a),n=-1,o=e.length;++n<o;)i.add(e[n])}function iw(a,e){for(var i=i9(a),n=-1,o=e.length;++n<o;)i.remove(e[n])}function tH(a){return function(){aw(this,a)}}function sH(a){return function(){iw(this,a)}}function lH(a,e){return function(){(e.apply(this,arguments)?aw:iw)(this,a)}}function nw(a,e){var i=_4(a+"");if(arguments.length<2){for(var n=i9(this.node()),o=-1,r=i.length;++o<r;)if(!n.contains(i[o]))return!1;return!0}return this.each((typeof e=="function"?lH:e?tH:sH)(i,e))}function uH(){this.textContent=""}function hH(a){return function(){this.textContent=a}}function dH(a){return function(){var e=a.apply(this,arguments);this.textContent=e??""}}function ow(a){return arguments.length?this.each(a==null?uH:(typeof a=="function"?dH:hH)(a)):this.node().textContent}function cH(){this.innerHTML=""}function mH(a){return function(){this.innerHTML=a}}function gH(a){return function(){var e=a.apply(this,arguments);this.innerHTML=e??""}}function rw(a){return arguments.length?this.each(a==null?cH:(typeof a=="function"?gH:mH)(a)):this.node().innerHTML}function AH(){this.nextSibling&&this.parentNode.appendChild(this)}function tw(){return this.each(AH)}function vH(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sw(){return this.each(vH)}function lw(a){var e=typeof a=="function"?a:el(a);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function pH(){return null}function uw(a,e){var i=typeof a=="function"?a:el(a),n=e==null?pH:typeof e=="function"?e:Yu(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function fH(){var a=this.parentNode;a&&a.removeChild(this)}function hw(){return this.each(fH)}function yH(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function kH(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function dw(a){return this.select(a?kH:yH)}function cw(a){return arguments.length?this.property("__data__",a):this.node().__data__}var mw={},je=null;typeof document!="undefined"&&(gw=document.documentElement,"onmouseenter"in gw||(mw={mouseenter:"mouseover",mouseleave:"mouseout"}));var gw;function bH(a,e,i){return a=Aw(a,e,i),function(n){var o=n.relatedTarget;(!o||o!==this&&!(o.compareDocumentPosition(this)&8))&&a.call(this,n)}}function Aw(a,e,i){return function(n){var o=je;je=n;try{a.call(this,this.__data__,e,i)}finally{je=o}}}function BH(a){return a.trim().split(/^|\s+/).map(function(e){var i="",n=e.indexOf(".");return n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),{type:e,name:i}})}function SH(a){return function(){var e=this.__on;if(!!e){for(var i=0,n=-1,o=e.length,r;i<o;++i)r=e[i],(!a.type||r.type===a.type)&&r.name===a.name?this.removeEventListener(r.type,r.listener,r.capture):e[++n]=r;++n?e.length=n:delete this.__on}}}function zH(a,e,i){var n=mw.hasOwnProperty(a.type)?bH:Aw;return function(o,r,t){var s=this.__on,h,d=n(e,r,t);if(s){for(var f=0,b=s.length;f<b;++f)if((h=s[f]).type===a.type&&h.name===a.name){this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=d,h.capture=i),h.value=e;return}}this.addEventListener(a.type,d,i),h={type:a.type,name:a.name,value:e,listener:d,capture:i},s?s.push(h):this.__on=[h]}}function vw(a,e,i){var n=BH(a+""),o,r=n.length,t;if(arguments.length<2){var s=this.node().__on;if(s){for(var h=0,d=s.length,f;h<d;++h)for(o=0,f=s[h];o<r;++o)if((t=n[o]).type===f.type&&t.name===f.name)return f.value}return}for(s=e?zH:SH,i==null&&(i=!1),o=0;o<r;++o)this.each(s(n[o],e,i));return this}function n1(a,e,i,n){var o=je;a.sourceEvent=je,je=a;try{return e.apply(i,n)}finally{je=o}}function pw(a,e,i){var n=Qu(a),o=n.CustomEvent;typeof o=="function"?o=new o(e,i):(o=n.document.createEvent("Event"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),a.dispatchEvent(o)}function wH(a,e){return function(){return pw(this,a,e)}}function MH(a,e){return function(){return pw(this,a,e.apply(this,arguments))}}function fw(a,e){return this.each((typeof e=="function"?MH:wH)(a,e))}var o1=[null];function Ca(a,e){this._groups=a,this._parents=e}function CH(){return new Ca([[document.documentElement]],o1)}Ca.prototype=CH.prototype={constructor:Ca,select:R4,selectAll:L4,filter:J4,data:I4,enter:D4,exit:E4,join:F4,merge:N4,order:x4,sort:K4,call:W4,nodes:q4,node:V4,size:O4,empty:Z4,each:U4,attr:Y4,style:X4,property:$4,classed:nw,text:ow,html:rw,raise:tw,lower:sw,append:lw,insert:uw,remove:hw,clone:dw,datum:cw,on:vw,dispatch:fw};function on(a){return typeof a=="string"?new Ca([[document.querySelector(a)]],[document.documentElement]):new Ca([[a]],o1)}var TH=0;function n9(){return new o9}function o9(){this._="@"+(++TH).toString(36)}o9.prototype=n9.prototype={constructor:o9,get:function(a){for(var e=this._;!(e in a);)if(!(a=a.parentNode))return;return a[e]},set:function(a,e){return a[this._]=e},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};function $u(){for(var a=je,e;e=a.sourceEvent;)a=e;return a}function al(a,e){var i=a.ownerSVGElement||a;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(a.getScreenCTM().inverse()),[n.x,n.y]}var o=a.getBoundingClientRect();return[e.clientX-o.left-a.clientLeft,e.clientY-o.top-a.clientTop]}function r9(a){var e=$u();return e.changedTouches&&(e=e.changedTouches[0]),al(a,e)}function t9(a,e,i){arguments.length<3&&(i=e,e=$u().changedTouches);for(var n=0,o=e?e.length:0,r;n<o;++n)if((r=e[n]).identifier===i)return al(a,r);return null}var PH={value:function(){}};function yw(){for(var a=0,e=arguments.length,i={},n;a<e;++a){if(!(n=arguments[a]+"")||n in i)throw new Error("illegal type: "+n);i[n]=[]}return new r1(i)}function r1(a){this._=a}function jH(a,e){return a.trim().split(/^|\s+/).map(function(i){var n="",o=i.indexOf(".");if(o>=0&&(n=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}r1.prototype=yw.prototype={constructor:r1,on:function(a,e){var i=this._,n=jH(a+"",i),o,r=-1,t=n.length;if(arguments.length<2){for(;++r<t;)if((o=(a=n[r]).type)&&(o=RH(i[o],a.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++r<t;)if(o=(a=n[r]).type)i[o]=kw(i[o],a.name,e);else if(e==null)for(o in i)i[o]=kw(i[o],a.name,null);return this},copy:function(){var a={},e=this._;for(var i in e)a[i]=e[i].slice();return new r1(a)},call:function(a,e){if((o=arguments.length-2)>0)for(var i=new Array(o),n=0,o,r;n<o;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(r=this._[a],n=0,o=r.length;n<o;++n)r[n].value.apply(e,i)},apply:function(a,e,i){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var n=this._[a],o=0,r=n.length;o<r;++o)n[o].value.apply(e,i)}};function RH(a,e){for(var i=0,n=a.length,o;i<n;++i)if((o=a[i]).name===e)return o.value}function kw(a,e,i){for(var n=0,o=a.length;n<o;++n)if(a[n].name===e){a[n]=PH,a=a.slice(0,n).concat(a.slice(n+1));break}return i!=null&&a.push({name:e,value:i}),a}var _u=yw;function t1(){je.stopImmediatePropagation()}function Gr(){je.preventDefault(),je.stopImmediatePropagation()}function s9(a){var e=a.document.documentElement,i=on(a).on("dragstart.drag",Gr,!0);"onselectstart"in e?i.on("selectstart.drag",Gr,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function l9(a,e){var i=a.document.documentElement,n=on(a).on("dragstart.drag",null);e&&(n.on("click.drag",Gr,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in i?n.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function eh(a){return function(){return a}}function ah(a,e,i,n,o,r,t,s,h,d){this.target=a,this.type=e,this.subject=i,this.identifier=n,this.active=o,this.x=r,this.y=t,this.dx=s,this.dy=h,this._=d}ah.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};function LH(){return!je.button}function JH(){return this.parentNode}function DH(a){return a??{x:je.x,y:je.y}}function HH(){return"ontouchstart"in this}function s1(){var a=LH,e=JH,i=DH,n=HH,o={},r=_u("start","drag","end"),t=0,s,h,d,f,b=0;function S(F){F.on("mousedown.drag",T).filter(n).on("touchstart.drag",C).on("touchmove.drag",H).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(){if(!(f||!a.apply(this,arguments))){var F=V("mouse",e.apply(this,arguments),r9,this,arguments);!F||(on(je.view).on("mousemove.drag",j,!0).on("mouseup.drag",J,!0),s9(je.view),t1(),d=!1,s=je.clientX,h=je.clientY,F("start"))}}function j(){if(Gr(),!d){var F=je.clientX-s,U=je.clientY-h;d=F*F+U*U>b}o.mouse("drag")}function J(){on(je.view).on("mousemove.drag mouseup.drag",null),l9(je.view,d),Gr(),o.mouse("end")}function C(){if(!!a.apply(this,arguments)){var F=je.changedTouches,U=e.apply(this,arguments),N=F.length,re,ce;for(re=0;re<N;++re)(ce=V(F[re].identifier,U,t9,this,arguments))&&(t1(),ce("start"))}}function H(){var F=je.changedTouches,U=F.length,N,re;for(N=0;N<U;++N)(re=o[F[N].identifier])&&(Gr(),re("drag"))}function x(){var F=je.changedTouches,U=F.length,N,re;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<U;++N)(re=o[F[N].identifier])&&(t1(),re("end"))}function V(F,U,N,re,ce){var Ae=N(U,F),le,ie,X,Q=r.copy();if(!!n1(new ah(S,"beforestart",le,F,t,Ae[0],Ae[1],0,0,Q),function(){return(je.subject=le=i.apply(re,ce))==null?!1:(ie=le.x-Ae[0]||0,X=le.y-Ae[1]||0,!0)}))return function K(ee){var O=Ae,$;switch(ee){case"start":o[F]=K,$=t++;break;case"end":delete o[F],--t;case"drag":Ae=N(U,F),$=t;break}n1(new ah(S,ee,le,F,$,Ae[0]+ie,Ae[1]+X,Ae[0]-O[0],Ae[1]-O[1],Q),Q.apply,Q,[ee,re,ce])}}return S.filter=function(F){return arguments.length?(a=typeof F=="function"?F:eh(!!F),S):a},S.container=function(F){return arguments.length?(e=typeof F=="function"?F:eh(F),S):e},S.subject=function(F){return arguments.length?(i=typeof F=="function"?F:eh(F),S):i},S.touchable=function(F){return arguments.length?(n=typeof F=="function"?F:eh(!!F),S):n},S.on=function(){var F=r.on.apply(r,arguments);return F===r?S:F},S.clickDistance=function(F){return arguments.length?(b=(F=+F)*F,S):Math.sqrt(b)},S}var u9=Math.PI,h9=2*u9,Et=1e-6,GH=h9-Et;function d9(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function bw(){return new d9}d9.prototype=bw.prototype={constructor:d9,moveTo:function(a,e){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,e){this._+="L"+(this._x1=+a)+","+(this._y1=+e)},quadraticCurveTo:function(a,e,i,n){this._+="Q"+ +a+","+ +e+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(a,e,i,n,o,r){this._+="C"+ +a+","+ +e+","+ +i+","+ +n+","+(this._x1=+o)+","+(this._y1=+r)},arcTo:function(a,e,i,n,o){a=+a,e=+e,i=+i,n=+n,o=+o;var r=this._x1,t=this._y1,s=i-a,h=n-e,d=r-a,f=t-e,b=d*d+f*f;if(o<0)throw new Error("negative radius: "+o);if(this._x1===null)this._+="M"+(this._x1=a)+","+(this._y1=e);else if(b>Et)if(!(Math.abs(f*s-h*d)>Et)||!o)this._+="L"+(this._x1=a)+","+(this._y1=e);else{var S=i-r,T=n-t,j=s*s+h*h,J=S*S+T*T,C=Math.sqrt(j),H=Math.sqrt(b),x=o*Math.tan((u9-Math.acos((j+b-J)/(2*C*H)))/2),V=x/H,F=x/C;Math.abs(V-1)>Et&&(this._+="L"+(a+V*d)+","+(e+V*f)),this._+="A"+o+","+o+",0,0,"+ +(f*S>d*T)+","+(this._x1=a+F*s)+","+(this._y1=e+F*h)}},arc:function(a,e,i,n,o,r){a=+a,e=+e,i=+i,r=!!r;var t=i*Math.cos(n),s=i*Math.sin(n),h=a+t,d=e+s,f=1^r,b=r?n-o:o-n;if(i<0)throw new Error("negative radius: "+i);this._x1===null?this._+="M"+h+","+d:(Math.abs(this._x1-h)>Et||Math.abs(this._y1-d)>Et)&&(this._+="L"+h+","+d),!!i&&(b<0&&(b=b%h9+h9),b>GH?this._+="A"+i+","+i+",0,1,"+f+","+(a-t)+","+(e-s)+"A"+i+","+i+",0,1,"+f+","+(this._x1=h)+","+(this._y1=d):b>Et&&(this._+="A"+i+","+i+",0,"+ +(b>=u9)+","+f+","+(this._x1=a+i*Math.cos(o))+","+(this._y1=e+i*Math.sin(o))))},rect:function(a,e,i,n){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}};var ih=bw;function _a(a){return function(){return a}}var ei=1e-12,Vo=Math.PI,nh=Vo/2,Ft=2*Vo;function IH(a){return a.innerRadius}function EH(a){return a.outerRadius}function FH(a){return a.startAngle}function NH(a){return a.endAngle}function xH(a){return a&&a.padAngle}function Bw(a){return a>=1?nh:a<=-1?-nh:Math.asin(a)}function KH(a,e,i,n,o,r,t,s){var h=i-a,d=n-e,f=t-o,b=s-r,S=(f*(e-r)-b*(a-o))/(b*h-f*d);return[a+S*h,e+S*d]}function l1(a,e,i,n,o,r,t){var s=a-i,h=e-n,d=(t?r:-r)/Math.sqrt(s*s+h*h),f=d*h,b=-d*s,S=a+f,T=e+b,j=i+f,J=n+b,C=(S+j)/2,H=(T+J)/2,x=j-S,V=J-T,F=x*x+V*V,U=o-r,N=S*J-j*T,re=(V<0?-1:1)*Math.sqrt(Math.max(0,U*U*F-N*N)),ce=(N*V-x*re)/F,Ae=(-N*x-V*re)/F,le=(N*V+x*re)/F,ie=(-N*x+V*re)/F,X=ce-C,Q=Ae-H,K=le-C,ee=ie-H;return X*X+Q*Q>K*K+ee*ee&&(ce=le,Ae=ie),{cx:ce,cy:Ae,x01:-f,y01:-b,x11:ce*(o/U-1),y11:Ae*(o/U-1)}}function c9(){var a=IH,e=EH,i=_a(0),n=null,o=FH,r=NH,t=xH,s=null;function h(){var d,f,b=+a.apply(this,arguments),S=+e.apply(this,arguments),T=o.apply(this,arguments)-nh,j=r.apply(this,arguments)-nh,J=Math.abs(j-T),C=j>T;if(s||(s=d=ih()),S<b&&(f=S,S=b,b=f),!(S>ei))s.moveTo(0,0);else if(J>Ft-ei)s.moveTo(S*Math.cos(T),S*Math.sin(T)),s.arc(0,0,S,T,j,!C),b>ei&&(s.moveTo(b*Math.cos(j),b*Math.sin(j)),s.arc(0,0,b,j,T,C));else{var H=T,x=j,V=T,F=j,U=J,N=J,re=t.apply(this,arguments)/2,ce=re>ei&&(n?+n.apply(this,arguments):Math.sqrt(b*b+S*S)),Ae=Math.min(Math.abs(S-b)/2,+i.apply(this,arguments)),le=Ae,ie=Ae,X,Q;if(ce>ei){var K=Bw(ce/b*Math.sin(re)),ee=Bw(ce/S*Math.sin(re));(U-=K*2)>ei?(K*=C?1:-1,V+=K,F-=K):(U=0,V=F=(T+j)/2),(N-=ee*2)>ei?(ee*=C?1:-1,H+=ee,x-=ee):(N=0,H=x=(T+j)/2)}var O=S*Math.cos(H),$=S*Math.sin(H),ue=b*Math.cos(F),oe=b*Math.sin(F);if(Ae>ei){var he=S*Math.cos(x),ge=S*Math.sin(x),ye=b*Math.cos(V),ha=b*Math.sin(V);if(J<Vo){var Pe=U>ei?KH(O,$,ye,ha,he,ge,ue,oe):[ue,oe],sa=O-Pe[0],va=$-Pe[1],Ze=he-Pe[0],Y=ge-Pe[1],te=1/Math.sin(Math.acos((sa*Ze+va*Y)/(Math.sqrt(sa*sa+va*va)*Math.sqrt(Ze*Ze+Y*Y)))/2),we=Math.sqrt(Pe[0]*Pe[0]+Pe[1]*Pe[1]);le=Math.min(Ae,(b-we)/(te-1)),ie=Math.min(Ae,(S-we)/(te+1))}}N>ei?ie>ei?(X=l1(ye,ha,O,$,S,ie,C),Q=l1(he,ge,ue,oe,S,ie,C),s.moveTo(X.cx+X.x01,X.cy+X.y01),ie<Ae?s.arc(X.cx,X.cy,ie,Math.atan2(X.y01,X.x01),Math.atan2(Q.y01,Q.x01),!C):(s.arc(X.cx,X.cy,ie,Math.atan2(X.y01,X.x01),Math.atan2(X.y11,X.x11),!C),s.arc(0,0,S,Math.atan2(X.cy+X.y11,X.cx+X.x11),Math.atan2(Q.cy+Q.y11,Q.cx+Q.x11),!C),s.arc(Q.cx,Q.cy,ie,Math.atan2(Q.y11,Q.x11),Math.atan2(Q.y01,Q.x01),!C))):(s.moveTo(O,$),s.arc(0,0,S,H,x,!C)):s.moveTo(O,$),!(b>ei)||!(U>ei)?s.lineTo(ue,oe):le>ei?(X=l1(ue,oe,he,ge,b,-le,C),Q=l1(O,$,ye,ha,b,-le,C),s.lineTo(X.cx+X.x01,X.cy+X.y01),le<Ae?s.arc(X.cx,X.cy,le,Math.atan2(X.y01,X.x01),Math.atan2(Q.y01,Q.x01),!C):(s.arc(X.cx,X.cy,le,Math.atan2(X.y01,X.x01),Math.atan2(X.y11,X.x11),!C),s.arc(0,0,b,Math.atan2(X.cy+X.y11,X.cx+X.x11),Math.atan2(Q.cy+Q.y11,Q.cx+Q.x11),C),s.arc(Q.cx,Q.cy,le,Math.atan2(Q.y11,Q.x11),Math.atan2(Q.y01,Q.x01),!C))):s.arc(0,0,b,F,V,C)}if(s.closePath(),d)return s=null,d+""||null}return h.centroid=function(){var d=(+a.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+o.apply(this,arguments)+ +r.apply(this,arguments))/2-Vo/2;return[Math.cos(f)*d,Math.sin(f)*d]},h.innerRadius=function(d){return arguments.length?(a=typeof d=="function"?d:_a(+d),h):a},h.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:_a(+d),h):e},h.cornerRadius=function(d){return arguments.length?(i=typeof d=="function"?d:_a(+d),h):i},h.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:_a(+d),h):n},h.startAngle=function(d){return arguments.length?(o=typeof d=="function"?d:_a(+d),h):o},h.endAngle=function(d){return arguments.length?(r=typeof d=="function"?d:_a(+d),h):r},h.padAngle=function(d){return arguments.length?(t=typeof d=="function"?d:_a(+d),h):t},h.context=function(d){return arguments.length?(s=d??null,h):s},h}function Sw(a){this._context=a}Sw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;default:this._context.lineTo(a,e);break}}};function Ir(a){return new Sw(a)}function m9(a){return a[0]}function g9(a){return a[1]}function oh(){var a=m9,e=g9,i=_a(!0),n=null,o=Ir,r=null;function t(s){var h,d=s.length,f,b=!1,S;for(n==null&&(r=o(S=ih())),h=0;h<=d;++h)!(h<d&&i(f=s[h],h,s))===b&&((b=!b)?r.lineStart():r.lineEnd()),b&&r.point(+a(f,h,s),+e(f,h,s));if(S)return r=null,S+""||null}return t.x=function(s){return arguments.length?(a=typeof s=="function"?s:_a(+s),t):a},t.y=function(s){return arguments.length?(e=typeof s=="function"?s:_a(+s),t):e},t.defined=function(s){return arguments.length?(i=typeof s=="function"?s:_a(!!s),t):i},t.curve=function(s){return arguments.length?(o=s,n!=null&&(r=o(n)),t):o},t.context=function(s){return arguments.length?(s==null?n=r=null:r=o(n=s),t):n},t}var zw=u1(Ir);function ww(a){this._curve=a}ww.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,e){this._curve.point(e*Math.sin(a),e*-Math.cos(a))}};function u1(a){function e(i){return new ww(a(i))}return e._curve=a,e}var qH=Math.sqrt(1/3),zde=qH*2;var Mw=Math.sin(Vo/10)/Math.sin(7*Vo/10),Cde=Math.sin(Ft/10)*Mw,Tde=-Math.cos(Ft/10)*Mw;var Rde=Math.sqrt(3);var Jde=Math.sqrt(3)/2,VH=1/Math.sqrt(12),Dde=(VH/2+1)*3;function Jn(){}function il(a,e,i){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+e)/6,(a._y0+4*a._y1+i)/6)}function h1(a){this._context=a}h1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:il(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:il(this,a,e);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=e}};function _H(a){this._context=a}_H.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._x2=a,this._y2=e;break;case 1:this._point=2,this._x3=a,this._y3=e;break;case 2:this._point=3,this._x4=a,this._y4=e,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+e)/6);break;default:il(this,a,e);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=e}};function eG(a){this._context=a}eG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+a)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:il(this,a,e);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=e}};function Cw(a,e){this._basis=new h1(a),this._beta=e}Cw.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var a=this._x,e=this._y,i=a.length-1;if(i>0)for(var n=a[0],o=e[0],r=a[i]-n,t=e[i]-o,s=-1,h;++s<=i;)h=s/i,this._basis.point(this._beta*a[s]+(1-this._beta)*(n+h*r),this._beta*e[s]+(1-this._beta)*(o+h*t));this._x=this._y=null,this._basis.lineEnd()},point:function(a,e){this._x.push(+a),this._y.push(+e)}};var aG=function a(e){function i(n){return e===1?new h1(n):new Cw(n,e)}return i.beta=function(n){return a(+n)},i}(.85);function nl(a,e,i){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-e),a._y2+a._k*(a._y1-i),a._x2,a._y2)}function d1(a,e){this._context=a,this._k=(1-e)/6}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nl(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2,this._x1=a,this._y1=e;break;case 2:this._point=3;default:nl(this,a,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var iG=function a(e){function i(n){return new d1(n,e)}return i.tension=function(n){return a(+n)},i}(0);function c1(a,e){this._context=a,this._k=(1-e)/6}c1.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._x3=a,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=e);break;case 2:this._point=3,this._x5=a,this._y5=e;break;default:nl(this,a,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nG=function a(e){function i(n){return new c1(n,e)}return i.tension=function(n){return a(+n)},i}(0);function m1(a,e){this._context=a,this._k=(1-e)/6}m1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nl(this,a,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var oG=function a(e){function i(n){return new m1(n,e)}return i.tension=function(n){return a(+n)},i}(0);function rh(a,e,i){var n=a._x1,o=a._y1,r=a._x2,t=a._y2;if(a._l01_a>ei){var s=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,h=3*a._l01_a*(a._l01_a+a._l12_a);n=(n*s-a._x0*a._l12_2a+a._x2*a._l01_2a)/h,o=(o*s-a._y0*a._l12_2a+a._y2*a._l01_2a)/h}if(a._l23_a>ei){var d=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,f=3*a._l23_a*(a._l23_a+a._l12_a);r=(r*d+a._x1*a._l23_2a-e*a._l12_2a)/f,t=(t*d+a._y1*a._l23_2a-i*a._l12_2a)/f}a._context.bezierCurveTo(n,o,r,t,a._x2,a._y2)}function Tw(a,e){this._context=a,this._alpha=e}Tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){if(a=+a,e=+e,this._point){var i=this._x2-a,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;break;case 2:this._point=3;default:rh(this,a,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var A9=function a(e){function i(n){return e?new Tw(n,e):new d1(n,0)}return i.alpha=function(n){return a(+n)},i}(.5);function Pw(a,e){this._context=a,this._alpha=e}Pw.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(a,e){if(a=+a,e=+e,this._point){var i=this._x2-a,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=e);break;case 2:this._point=3,this._x5=a,this._y5=e;break;default:rh(this,a,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rG=function a(e){function i(n){return e?new Pw(n,e):new c1(n,0)}return i.alpha=function(n){return a(+n)},i}(.5);function jw(a,e){this._context=a,this._alpha=e}jw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){if(a=+a,e=+e,this._point){var i=this._x2-a,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rh(this,a,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var tG=function a(e){function i(n){return e?new jw(n,e):new m1(n,0)}return i.alpha=function(n){return a(+n)},i}(.5);function sG(a){this._context=a}sG.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,e){a=+a,e=+e,this._point?this._context.lineTo(a,e):(this._point=1,this._context.moveTo(a,e))}};function Rw(a){return a<0?-1:1}function Lw(a,e,i){var n=a._x1-a._x0,o=e-a._x1,r=(a._y1-a._y0)/(n||o<0&&-0),t=(i-a._y1)/(o||n<0&&-0),s=(r*o+t*n)/(n+o);return(Rw(r)+Rw(t))*Math.min(Math.abs(r),Math.abs(t),.5*Math.abs(s))||0}function Jw(a,e){var i=a._x1-a._x0;return i?(3*(a._y1-a._y0)/i-e)/2:e}function v9(a,e,i){var n=a._x0,o=a._y0,r=a._x1,t=a._y1,s=(r-n)/3;a._context.bezierCurveTo(n+s,o+s*e,r-s,t-s*i,r,t)}function p9(a){this._context=a}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v9(this,this._t0,Jw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,e){var i=NaN;if(a=+a,e=+e,!(a===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;break;case 2:this._point=3,v9(this,Jw(this,i=Lw(this,a,e)),i);break;default:v9(this,this._t0,i=Lw(this,a,e));break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=e,this._t0=i}}};function lG(a){this._context=new Dw(a)}(lG.prototype=Object.create(p9.prototype)).point=function(a,e){p9.prototype.point.call(this,e,a)};function Dw(a){this._context=a}Dw.prototype={moveTo:function(a,e){this._context.moveTo(e,a)},closePath:function(){this._context.closePath()},lineTo:function(a,e){this._context.lineTo(e,a)},bezierCurveTo:function(a,e,i,n,o,r){this._context.bezierCurveTo(e,a,n,i,r,o)}};function uG(a){this._context=a}uG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,e=this._y,i=a.length;if(i)if(this._line?this._context.lineTo(a[0],e[0]):this._context.moveTo(a[0],e[0]),i===2)this._context.lineTo(a[1],e[1]);else for(var n=Hw(a),o=Hw(e),r=0,t=1;t<i;++r,++t)this._context.bezierCurveTo(n[0][r],o[0][r],n[1][r],o[1][r],a[t],e[t]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,e){this._x.push(+a),this._y.push(+e)}};function Hw(a){var e,i=a.length-1,n,o=new Array(i),r=new Array(i),t=new Array(i);for(o[0]=0,r[0]=2,t[0]=a[0]+2*a[1],e=1;e<i-1;++e)o[e]=1,r[e]=4,t[e]=4*a[e]+2*a[e+1];for(o[i-1]=2,r[i-1]=7,t[i-1]=8*a[i-1]+a[i],e=1;e<i;++e)n=o[e]/r[e-1],r[e]-=n,t[e]-=n*t[e-1];for(o[i-1]=t[i-1]/r[i-1],e=i-2;e>=0;--e)o[e]=(t[e]-o[e+1])/r[e];for(r[i-1]=(a[i]+o[i-1])/2,e=0;e<i-1;++e)r[e]=2*a[e+1]-o[e+1];return[o,r]}function hG(a,e){this._context=a,this._t=e}hG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,e){switch(a=+a,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,e):this._context.moveTo(a,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(a,e);else{var i=this._x*(1-this._t)+a*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=a,this._y=e}};var dG=Array.prototype.slice;var mG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ol=function(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")},rl=function(){function a(e,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,i,n){return i&&a(e.prototype,i),n&&a(e,n),e}}(),Zi=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])}return a},Oo=function a(e,i,n){e===null&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(o===void 0){var r=Object.getPrototypeOf(e);return r===null?void 0:a(r,i,n)}else{if("value"in o)return o.value;var t=o.get;return t===void 0?void 0:t.call(n)}},f9=function(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)},y9=function(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a},gG=function(a){if(Array.isArray(a)){for(var e=0,i=Array(a.length);e<a.length;e++)i[e]=a[e];return i}else return Array.from(a)},AG=function(){function a(e){var i=e.x,n=i===void 0?0:i,o=e.y,r=o===void 0?0:o,t=e.nx,s=e.ny,h=e.dy,d=h===void 0?0:h,f=e.dx,b=f===void 0?0:f,S=e.color,T=S===void 0?"grey":S,j=e.data,J=e.type,C=e.subject,H=e.connector,x=e.note,V=e.disable,F=e.id,U=e.className;ol(this,a),this._dx=t!==void 0?t-n:b,this._dy=s!==void 0?s-r:d,this._x=n,this._y=r,this._color=T,this.id=F,this._className=U||"",this._type=J||"",this.data=j,this.note=x||{},this.connector=H||{},this.subject=C||{},this.disable=V||[]}return rl(a,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&this.type.subject.selectAll(":not(.handle)").nodes().length!==0&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),this.type.connector.selectAll(":not(.handle)").nodes().length!==0&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(i){this._className=i,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(i){this._type=i,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(i){this._x=i,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(i){this._y=i,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(i){this._color=i,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(i){this._dx=i,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(i){this._dy=i,this.updateOffset()}},{key:"nx",set:function(i){this._dx=i-this._x,this.updateOffset()}},{key:"ny",set:function(i){this._dy=i-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(i){var n=i.x,o=i.y;this._dx=n,this._dy=o,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(i){var n=i.x,o=i.y;this._x=n,this._y=o,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var i={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(i.data=this.data),this.type&&(i.type=this.type),this._className&&(i.className=this._className),Object.keys(this.connector).length>0&&(i.connector=this.connector),Object.keys(this.subject).length>0&&(i.subject=this.subject),Object.keys(this.note).length>0&&(i.note=this.note),i}}]),a}(),vG=function(){function a(e){var i=e.annotations,n=e.accessors,o=e.accessorsInverse;ol(this,a),this.accessors=n,this.accessorsInverse=o,this.annotations=i}return rl(a,[{key:"clearTypes",value:function(i){this.annotations.forEach(function(n){n.type=void 0,n.subject=i&&i.subject||n.subject,n.connector=i&&i.connector||n.connector,n.note=i&&i.note||n.note})}},{key:"setPositionWithAccessors",value:function(){var i=this;this.annotations.forEach(function(n){n.type.setPositionWithAccessors(i.accessors)})}},{key:"editMode",value:function(i){this.annotations.forEach(function(n){n.type&&(n.type.editMode=i,n.type.updateEditMode())})}},{key:"updateDisable",value:function(i){this.annotations.forEach(function(n){n.disable=i,n.type&&i.forEach(function(o){n.type[o]&&(n.type[o].remove&&n.type[o].remove(),n.type[o]=void 0)})})}},{key:"updateTextWrap",value:function(i){this.annotations.forEach(function(n){n.type&&n.type.updateTextWrap&&n.type.updateTextWrap(i)})}},{key:"updateText",value:function(){this.annotations.forEach(function(i){i.type&&i.type.drawText&&i.type.drawText()})}},{key:"updateNotePadding",value:function(i){this.annotations.forEach(function(n){n.type&&(n.type.notePadding=i)})}},{key:"json",get:function(){var i=this;return this.annotations.map(function(n){var o=n.json;return i.accessorsInverse&&n.data&&(o.data={},Object.keys(i.accessorsInverse).forEach(function(r){o.data[r]=i.accessorsInverse[r]({x:n.x,y:n.y})})),o})}},{key:"noteNodes",get:function(){return this.annotations.map(function(i){return Zi({},i.type.getNoteBBoxOffset(),{positionX:i.x,positionY:i.y})})}}]),a}(),pG=function(e){var i=e.cx,n=i===void 0?0:i,o=e.cy,r=o===void 0?0:o;return{move:{x:n,y:r}}},fG=function(e){var i=e.cx,n=i===void 0?0:i,o=e.cy,r=o===void 0?0:o,t=e.r1,s=e.r2,h=e.padding,d={move:{x:n,y:r}};return t!==void 0&&(d.r1={x:n+t/Math.sqrt(2),y:r+t/Math.sqrt(2)}),s!==void 0&&(d.r2={x:n+s/Math.sqrt(2),y:r+s/Math.sqrt(2)}),h!==void 0&&(d.padding={x:n+t+h,y:r}),d},yG=function(e){var i=e.group,n=e.handles,o=e.r,r=o===void 0?10:o,t=i.selectAll("circle.handle").data(n);t.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(s1().container(on("g.annotations").node()).on("start",function(s){return s.start&&s.start(s)}).on("drag",function(s){return s.drag&&s.drag(s)}).on("end",function(s){return s.end&&s.end(s)})),i.selectAll("circle.handle").attr("cx",function(s){return s.x}).attr("cy",function(s){return s.y}).attr("r",function(s){return s.r||r}).attr("class",function(s){return"handle "+(s.className||"")}),t.exit().remove()},Gw=function(e,i){return(e==="dynamic"||e==="left"||e==="right")&&(i<0?e="top":e="bottom"),e},Iw=function(e,i){return(e==="dynamic"||e==="top"||e==="bottom")&&(i<0?e="right":e="left"),e},kG=["topBottom","top","bottom"],bG=["leftRight","left","right"],BG=function(a){var e=a.padding,i=e===void 0?0:e,n=a.bbox,o=n===void 0?{x:0,y:0,width:0,height:0}:n,r=a.align,t=a.orientation,s=a.offset,h=s===void 0?{x:0,y:0}:s,d=-o.x,f=0;return kG.indexOf(t)!==-1?(r=Iw(r,h.x),h.y<0&&t==="topBottom"||t==="top"?f-=o.height+i:f+=i,r==="middle"?d-=o.width/2:r==="right"&&(d-=o.width)):bG.indexOf(t)!==-1&&(r=Gw(r,h.y),h.x<0&&t==="leftRight"||t==="left"?d-=o.width+i:d+=i,r==="middle"?f-=o.height/2:r==="top"&&(f-=o.height)),{x:d,y:f}},fo=function(e){var i=e.data,n=e.curve,o=n===void 0?Ir:n,r=e.canvasContext,t=e.className,s=e.classID,h=oh().curve(o),d={type:"path",className:t,classID:s,data:i};return r?(h.context(r),d.pathMethods=h):d.attrs={d:h(i)},d},v1=function(e){var i=e.data,n=e.canvasContext,o=e.className,r=e.classID,t={type:"path",className:o,classID:r,data:i},s=c9().innerRadius(i.innerRadius||0).outerRadius(i.outerRadius||i.radius||2).startAngle(i.startAngle||0).endAngle(i.endAngle||2*Math.PI);return n?(s.context(n),t.pathMethods=lineGen):t.attrs={d:s()},t},SG=function(a){var e=a.align,i=a.x,n=i===void 0?0:i,o=a.y,r=o===void 0?0:o,t=a.bbox,s=a.offset;e=Gw(e,s.y),e==="top"?r-=t.height:e==="middle"&&(r-=t.height/2);var h=[[n,r],[n,r+t.height]];return{components:[fo({data:h,className:"note-line"})]}},zG=function(a){var e=a.align,i=a.x,n=i===void 0?0:i,o=a.y,r=o===void 0?0:o,t=a.offset,s=a.bbox;e=Iw(e,t.x),e==="right"?n-=s.width:e==="middle"&&(n-=s.width/2);var h=[[n,r],[n+s.width,r]];return{components:[fo({data:h,className:"note-line"})]}},Ew=function(e){var i=e.type,n=e.subjectType,o=i.annotation,r=o.position,t=o.x-r.x,s=t+o.dx,h=o.y-r.y,d=h+o.dy,f=o.subject;if(n==="circle"&&(f.outerRadius||f.radius)){var b=Math.sqrt((t-s)*(t-s)+(h-d)*(h-d)),S=Math.asin(-d/b),T=f.outerRadius||f.radius+(f.radiusPadding||0);t=Math.abs(Math.cos(S)*T)*(s<0?-1:1),h=Math.abs(Math.sin(S)*T)*(d<0?-1:1)}if(n==="rect"){var j=f.width,J=f.height;(j>0&&o.dx>0||j<0&&o.dx<0)&&(Math.abs(j)>Math.abs(o.dx)?t=j/2:t=j),(J>0&&o.dy>0||J<0&&o.dy<0)&&(Math.abs(J)>Math.abs(o.dy)?h=J/2:h=J),t===j/2&&h===J/2&&(t=s,h=d)}return[[t,h],[s,d]]},wG=function(a){var e=Ew(a);return{components:[fo({data:e,className:"connector"})]}},MG=function(a){var e=a.type,i=a.subjectType,n=e.annotation,o=n.position,r=n.x-o.x,t=r+n.dx,s=n.y-o.y,h=s+n.dy,d=n.subject;if(i==="rect"){var f=d.width,b=d.height;(f>0&&n.dx>0||f<0&&n.dx<0)&&(Math.abs(f)>Math.abs(n.dx)?r=f/2:r=f),(b>0&&n.dy>0||b<0&&n.dy<0)&&(Math.abs(b)>Math.abs(n.dy)?s=b/2:s=b),r===f/2&&s===b/2&&(r=t,s=h)}var S=[[r,s],[t,h]],T=h-s,j=t-r,J=t,C=h,H=h<s&&t>r||t<r&&h>s?-1:1;if(Math.abs(j)<Math.abs(T)?(J=t,C=s+j*H):(C=h,J=r+T*H),i==="circle"&&(d.outerRadius||d.radius)){var x=(d.outerRadius||d.radius)+(d.radiusPadding||0),V=x/Math.sqrt(2);if(Math.abs(j)>V&&Math.abs(T)>V)r=V*(t<0?-1:1),s=V*(h<0?-1:1),S=[[r,s],[J,C],[t,h]];else if(Math.abs(j)>Math.abs(T)){var F=Math.asin(-h/x);r=Math.abs(Math.cos(F)*x)*(t<0?-1:1),S=[[r,h],[t,h]]}else{var U=Math.acos(t/x);s=Math.abs(Math.sin(U)*x)*(h<0?-1:1),S=[[t,s],[t,h]]}}else S=[[r,s],[J,C],[t,h]];return{components:[fo({data:S,className:"connector"})]}},CG=function(a){var e=a.type,i=a.connectorData,n=a.subjectType;i||(i={}),(!i.points||typeof i.points=="number")&&(i.points=TG(e.annotation.offset,i.points)),i.curve||(i.curve=A9);var o=[];if(e.editMode){var r=i.points.map(function(d,f){return Zi({},pG({cx:d[0],cy:d[1]}),{index:f})}),t=function(f){i.points[f][0]+=je.dx,i.points[f][1]+=je.dy,e.redrawConnector()};o=e.mapHandles(r.map(function(d){return Zi({},d.move,{drag:t.bind(e,d.index)})}))}var s=Ew({type:e,subjectType:n});s=[s[0]].concat(gG(i.points),[s[1]]);var h=[fo({data:s,curve:i.curve,className:"connector"})];return{components:h,handles:o}},TG=function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n={x:e.x/(i+1),y:e.y/(i+1)},o=[],r=1;r<=i;r++)o.push([n.x*r+r%2*20,n.y*r-r%2*20]);return o},PG=function(a){var e=a.annotation,i=a.start,n=a.end,o=a.scale,r=o===void 0?1:o,t=e.position;i?i=[-n[0]+i[0],-n[1]+i[1]]:i=[e.dx,e.dy],n||(n=[e.x-t.x,e.y-t.y]);var s=n[0],h=n[1],d=i[0],f=i[1],b=10*r,S=16/180*Math.PI,T=Math.atan(f/d);d<0&&(T+=Math.PI);var j=[[s,h],[Math.cos(T+S)*b+s,Math.sin(T+S)*b+h],[Math.cos(T-S)*b+s,Math.sin(T-S)*b+h],[s,h]];return{components:[fo({data:j,className:"connector-end connector-arrow",classID:"connector-end"})]}},jG=function(a){var e=a.line,i=a.scale,n=i===void 0?1:i,o=v1({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(n)}});return o.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[o]}},RG=function(a){var e=a.subjectData,i=a.type;!e.radius&&!e.outerRadius&&(e.radius=20);var n=[],o=v1({data:e,className:"subject"});if(i.editMode){var r=fG({r1:o.data.outerRadius||o.data.radius,r2:o.data.innerRadius,padding:e.radiusPadding}),t=function(d){var f=e[d]+je.dx*Math.sqrt(2);e[d]=f,i.redrawSubject(),i.redrawConnector()},s=[Zi({},r.r1,{drag:t.bind(i,e.outerRadius!==void 0?"outerRadius":"radius")})];e.innerRadius&&s.push(Zi({},r.r2,{drag:t.bind(i,"innerRadius")})),n=i.mapHandles(s)}return o.attrs["fill-opacity"]=0,{components:[o],handles:n}},LG=function(a){var e=a.subjectData,i=a.type;e.width||(e.width=100),e.height||(e.height=100);var n=[],o=e.width,r=e.height,t=[[0,0],[o,0],[o,r],[0,r],[0,0]],s=fo({data:t,className:"subject"});if(i.editMode){var h=function(){e.width=je.x,i.redrawSubject(),i.redrawConnector()},d=function(){e.height=je.y,i.redrawSubject(),i.redrawConnector()},f=[{x:o,y:r/2,drag:h.bind(i)},{x:o/2,y:r,drag:d.bind(i)}];n=i.mapHandles(f)}return s.attrs["fill-opacity"]=.1,{components:[s],handles:n}},JG=function(a){var e=a.subjectData,i=a.type,n=i.annotation.position,o=(e.x1!==void 0?e.x1:n.x)-n.x,r=(e.x2!==void 0?e.x2:n.x)-n.x,t=(e.y1!==void 0?e.y1:n.y)-n.y,s=(e.y2!==void 0?e.y2:n.y)-n.y,h=[[o,t],[r,s]];return{components:[fo({data:h,className:"subject"})]}},DG=function(a){var e=a.subjectData,i=e===void 0?{}:e,n=a.type,o=n===void 0?{}:n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=o.typeSettings&&o.typeSettings.subject;i.radius||(t&&t.radius?i.radius=t.radius:i.radius=14),i.x||t&&t.x&&(i.x=t.x),i.y||t&&t.y&&(i.y=t.y);var s=[],h=[],d=i.radius,f=d*.7,b=0,S=0,T=Math.sqrt(2)*d,j={xleftcorner:-d,xrightcorner:d,ytopcorner:-d,ybottomcorner:d,xleft:-T,xright:T,ytop:-T,ybottom:T};i.x&&!i.y?b=j["x"+i.x]:i.y&&!i.x?S=j["y"+i.y]:i.x&&i.y&&(b=j["x"+i.x+"corner"],S=j["y"+i.y+"corner"]);var J="translate("+b+", "+S+")",C=v1({className:"subject",data:{radius:d}});C.attrs.transform=J,C.attrs.fill=r.color,C.attrs["stroke-linecap"]="round",C.attrs["stroke-width"]="3px";var H=v1({className:"subject-ring",data:{outerRadius:d,innerRadius:f}});H.attrs.transform=J,H.attrs["stroke-width"]="3px",H.attrs.fill="white";var x=void 0;if(b&&S||!b&&!S)x=fo({className:"subject-pointer",data:[[0,0],[b||0,0],[0,S||0],[0,0]]});else if(b||S){var V=function(ce){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return ce&&ce/Math.sqrt(2)/Math.sqrt(2)||Ae*d/Math.sqrt(2)};x=fo({className:"subject-pointer",data:[[0,0],[V(b),V(S)],[V(b,-1),V(S,-1)],[0,0]]})}if(x&&(x.attrs.fill=r.color,x.attrs["stroke-linecap"]="round",x.attrs["stroke-width"]="3px",h.push(x)),o.editMode){var F=function(){i.x=je.x<-d*2?"left":je.x>d*2?"right":void 0,i.y=je.y<-d*2?"top":je.y>d*2?"bottom":void 0,o.redrawSubject()},U={x:b*2,y:S*2,drag:F.bind(o)};!U.x&&!U.y&&(U.y=-d),s=o.mapHandles([U])}var N=void 0;return i.text&&(N={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:i.text,"text-anchor":"middle",dy:".25em",x:b,y:S}}),h.push(C),h.push(H),h.push(N),{components:h,handles:s}},Fw=function(){function a(e){var i=e.a,n=e.annotation,o=e.editMode,r=e.dispatcher,t=e.notePadding,s=e.accessors;if(ol(this,a),this.a=i,this.note=n.disable.indexOf("note")===-1&&i.select("g.annotation-note"),this.noteContent=this.note&&i.select("g.annotation-note-content"),this.connector=n.disable.indexOf("connector")===-1&&i.select("g.annotation-connector"),this.subject=n.disable.indexOf("subject")===-1&&i.select("g.annotation-subject"),this.dispatcher=r,r){var h=GG.bind(null,r,n);h({component:this.note,name:"note"}),h({component:this.connector,name:"connector"}),h({component:this.subject,name:"subject"})}this.annotation=n,this.editMode=n.editMode||o,this.notePadding=t!==void 0?t:3,this.offsetCornerX=0,this.offsetCornerY=0,s&&n.data&&this.init(s)}return rl(a,[{key:"init",value:function(i){this.annotation.x||this.mapX(i),this.annotation.y||this.mapY(i)}},{key:"mapY",value:function(i){i.y&&(this.annotation.y=i.y(this.annotation.data))}},{key:"mapX",value:function(i){i.x&&(this.annotation.x=i.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(i,n){var o=this;Array.isArray(n)||(n=[n]),n.filter(function(r){return r}).forEach(function(r){var t=r.type,s=r.className,h=r.attrs,d=r.handles,f=r.classID;if(t==="handle")yG({group:i,r:h&&h.r,handles:d});else{yo(i,[o.annotation],t,s,f);for(var b=i.select(t+"."+(f||s)),S=Object.keys(h),T=[],j=b.node().attributes,J=j.length-1;J>=0;J--){var C=j[J].name;S.indexOf(C)===-1&&C!=="class"&&T.push(C)}S.forEach(function(H){H==="text"?b.text(h[H]):b.attr(H,h[H])}),T.forEach(function(H){return b.attr(H,null)})}})}},{key:"getNoteBBox",value:function(){return xw(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var i=xw(this.note,".annotation-note-content"),n=this.noteContent.attr("transform").split(/\(|\,|\)/g);return i.offsetCornerX=parseFloat(n[1])+this.annotation.dx,i.offsetCornerY=parseFloat(n[2])+this.annotation.dy,i.offsetX=this.annotation.dx,i.offsetY=this.annotation.dy,i}},{key:"drawSubject",value:function(){var i=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.annotation.subject,r=n.type,t={type:this,subjectData:o},s={};r==="circle"?s=RG(t):r==="rect"?s=LG(t):r==="threshold"?s=JG(t):r==="badge"&&(s=DG(t,this.annotation));var h=s,d=h.components,f=d===void 0?[]:d,b=h.handles,S=b===void 0?[]:b;return f.forEach(function(T){T&&T.attrs&&!T.attrs.stroke&&(T.attrs.stroke=i.annotation.color)}),this.editMode&&(S=S.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),f.push({type:"handle",handles:S})),f}},{key:"drawConnector",value:function(){var i=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.annotation.connector,r=o.type||n.type,t={type:this,connectorData:o};t.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var s={};r==="curve"?s=CG(t):r==="elbow"?s=MG(t):s=wG(t);var h=s,d=h.components,f=d===void 0?[]:d,b=h.handles,S=b===void 0?[]:b,T=f[0];T&&(T.attrs.stroke=this.annotation.color,T.attrs.fill="none");var j=o.end||n.end,J={};if(j==="arrow"){var C=T.data[1],H=T.data[0],x=Math.sqrt(Math.pow(C[0]-H[0],2)+Math.pow(C[1]-H[1],2));x<5&&T.data[2]&&(C=T.data[2]),J=PG({annotation:this.annotation,start:C,end:H,scale:o.endScale})}else j==="dot"?J=jG({line:T,scale:o.endScale}):(!j||j==="none")&&this.connector&&this.connector.select(".connector-end").remove();return J.components&&(J.components.forEach(function(V){V.attrs.fill=i.annotation.color,V.attrs.stroke=i.annotation.color}),f=f.concat(J.components)),this.editMode&&S.length!==0&&f.push({type:"handle",handles:S}),f}},{key:"drawNote",value:function(){var i=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.annotation.note,r=o.align||n.align||"dynamic",t={bbox:n.bbox,align:r,offset:this.annotation.offset},s=o.lineType||n.lineType,h={};s==="vertical"?h=SG(t):s==="horizontal"&&(h=zG(t));var d=h,f=d.components,b=f===void 0?[]:f,S=d.handles,T=S===void 0?[]:S;if(b.forEach(function(H){H.attrs.stroke=i.annotation.color}),this.editMode){T=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),b.push({type:"handle",handles:T});var j=this.dragNote.bind(this),J=this.dragstarted.bind(this),C=this.dragended.bind(this);this.note.call(s1().container(on("g.annotations").node()).on("start",function(H){return J(H)}).on("drag",function(H){return j(H)}).on("end",function(H){return C(H)}))}else this.note.on("mousedown.drag",null);return b}},{key:"drawNoteContent",value:function(i){var n=this.annotation.note,o=n.padding!==void 0?n.padding:this.notePadding,r=n.orientation||i.orientation||"topBottom",t=n.lineType||i.lineType,s=n.align||i.align||"dynamic";t==="vertical"?r="leftRight":t==="horizontal"&&(r="topBottom");var h={padding:o,bbox:i.bbox,offset:this.annotation.offset,orientation:r,align:s},d=BG(h),f=d.x,b=d.y;return this.offsetCornerX=f+this.annotation.dx,this.offsetCornerY=b+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+f+", "+b+")"),[]}},{key:"drawOnScreen",value:function(i,n){return this.drawOnSVG(i,n)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:i})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:i}))}},{key:"setPosition",value:function(){var i=this.annotation.position;this.a.attr("transform","translate("+i.x+", "+i.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var i=this.annotation.offset;this.note.attr("transform","translate("+i.x+", "+i.y+")")}}},{key:"setPositionWithAccessors",value:function(i){i&&this.annotation.data&&(this.mapX(i),this.mapY(i)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){je.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var i=this.annotation.position;i.x+=je.dx,i.y+=je.dy,this.annotation.position=i}},{key:"dragNote",value:function(){var i=this.annotation.offset;i.x+=je.dx,i.y+=je.dy,this.annotation.offset=i}},{key:"mapHandles",value:function(i){var n=this;return i.map(function(o){return Zi({},o,{start:n.dragstarted.bind(n),end:n.dragended.bind(n)})})}}]),a}(),Er=function(e,i,n){return function(o){f9(r,o);function r(t){ol(this,r);var s=y9(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return s.typeSettings=i,i.disable&&i.disable.forEach(function(h){s[h]&&s[h].remove(),s[h]=void 0,h==="note"&&(s.noteContent=void 0)}),s}return rl(r,[{key:"className",value:function(){return""+(i.className||Oo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this)&&Oo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(s){return this.typeSettings.subject=Zi({},i.subject,this.typeSettings.subject),Oo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawSubject",this).call(this,Zi({},s,this.typeSettings.subject))}},{key:"drawConnector",value:function(s){return this.typeSettings.connector=Zi({},i.connector,this.typeSettings.connector),Oo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawConnector",this).call(this,Zi({},s,i.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(s){return this.typeSettings.note=Zi({},i.note,this.typeSettings.note),Oo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNote",this).call(this,Zi({},s,i.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(s){return Oo(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNoteContent",this).call(this,Zi({},s,i.note,this.typeSettings.note))}}],[{key:"init",value:function(s,h){return Oo(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,s,h),n&&(s=n(s,h)),s}}]),r}(e)},p1=function(a){f9(e,a);function e(i){ol(this,e);var n=y9(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.textWrap=i.textWrap||120,n.drawText(),n}return rl(e,[{key:"updateTextWrap",value:function(n){this.textWrap=n,this.drawText()}},{key:"drawText",value:function(){if(this.note){yo(this.note,[this.annotation],"g","annotation-note-content");var n=this.note.select("g.annotation-note-content");yo(n,[this.annotation],"rect","annotation-note-bg"),yo(n,[this.annotation],"text","annotation-note-label"),yo(n,[this.annotation],"text","annotation-note-title");var o={height:0},r=this.a.select("text.annotation-note-label"),t=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,s=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,h=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,d={top:0,bottom:0,left:0,right:0};if(typeof h=="number"?d={top:h,bottom:h,left:h,right:h}:h&&(typeof h=="undefined"?"undefined":mG(h))==="object"&&(d=Zi(d,h)),this.annotation.note.title){var f=this.a.select("text.annotation-note-title");f.text(this.annotation.note.title),f.attr("fill",this.annotation.color),f.attr("font-weight","bold"),f.call(Nw,t,s),o=f.node().getBBox()}r.text(this.annotation.note.label).attr("dx","0"),r.call(Nw,t,s),r.attr("y",o.height*1.1||0),r.attr("fill",this.annotation.color);var b=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",b.width+d.left+d.right).attr("height",b.height+d.top+d.bottom).attr("x",b.x-d.left).attr("y",-d.top).attr("fill","white").attr("fill-opacity",0)}}}]),e}(Fw),nme=Er(p1,{className:"label",note:{align:"middle"}}),f1=Er(p1,{className:"callout",note:{lineType:"horizontal"}}),ome=Er(f1,{className:"callout elbow",connector:{type:"elbow"}}),rme=Er(f1,{className:"callout curve",connector:{type:"curve"}}),tme=Er(Fw,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),sme=Er(p1,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),lme=Er(p1,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),HG=function(a){f9(e,a);function e(){return ol(this,e),y9(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return rl(e,[{key:"mapY",value:function(n){Oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,n);var o=this.annotation;(o.subject.x1||o.subject.x2)&&o.data&&n.y&&(o.y=n.y(o.data)),(o.subject.x1||o.subject.x2)&&!o.x&&(o.x=o.subject.x1||o.subject.x2)}},{key:"mapX",value:function(n){Oo(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,n);var o=this.annotation;(o.subject.y1||o.subject.y2)&&o.data&&n.x&&(o.x=n.x(o.data)),(o.subject.y1||o.subject.y2)&&!o.y&&(o.y=o.subject.y1||o.subject.y2)}}]),e}(f1),ume=Er(HG,{className:"callout xythreshold",subject:{type:"threshold"}}),yo=function(e,i,n,o,r){var t=e.selectAll(n+"."+(r||o)).data(i);return t.enter().append(n).merge(t).attr("class",o),t.exit().remove(),e},GG=function(e,i,n){var o=n.component,r=n.name;o&&o.on("mouseover.annotations",function(){e.call(r+"over",o,i)}).on("mouseout.annotations",function(){return e.call(r+"out",o,i)}).on("click.annotations",function(){return e.call(r+"click",o,i)})},Nw=function(e,i,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1.2;e.each(function(){for(var r=on(this),t=r.text().split(n||/[ \t\r\n]+/).reverse().filter(function(f){return f!==""}),s=void 0,h=[],d=r.text(null).append("tspan").attr("x",0).attr("dy",.8+"em");s=t.pop();)h.push(s),d.text(h.join(" ")),d.node().getComputedTextLength()>i&&h.length>1&&(h.pop(),d.text(h.join(" ")),h=[s],d=r.append("tspan").attr("x",0).attr("dy",o+"em").text(s))})},xw=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:":not(.handle)";return e?e.selectAll(i).nodes().reduce(function(n,o){var r=o.getBBox();n.x=Math.min(n.x,r.x),n.y=Math.min(n.y,r.y),n.width=Math.max(n.width,r.width);var t=o&&o.attributes&&o.attributes.y;return n.height=Math.max(n.height,(t&&parseFloat(t.value)||0)+r.height),n},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function Kw(){var a=[],e=void 0,i=void 0,n=[],o={},r={},t=!1,s=void 0,h=f1,d=void 0,f=void 0,b=_u("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),S=void 0,T=function(J){S=J,t||J.selectAll("circle.handle").remove();var C=a.map(function(F){return F.type||(F.type=h),F.disable||(F.disable=n),new AG(F)});e=e||new vG({annotations:C,accessors:o,accessorsInverse:r,ids:s});var H=J.selectAll("g").data([e]);H.enter().append("g").attr("class","annotations");var x=J.select("g.annotations");yo(x,e.annotations,"g","annotation");var V=x.selectAll("g.annotation");V.each(function(F){var U=on(this);U.attr("class","annotation"),yo(U,[F],"g","annotation-connector"),yo(U,[F],"g","annotation-subject"),yo(U,[F],"g","annotation-note"),yo(U.select("g.annotation-note"),[F],"g","annotation-note-content"),F.type=F.type.toString()==="[object Object]"?F.type:new F.type({a:U,annotation:F,textWrap:d,notePadding:f,editMode:t,dispatcher:b,accessors:o}),F.type.draw(),F.type.drawText&&F.type.drawText()})};return T.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",e.json),window.copy(JSON.stringify(e.json.map(function(j){return delete j.type,j}))),T},T.update=function(){return a&&e&&(a=e.annotations.map(function(j){return j.type.draw(),j})),T},T.updateText=function(){return e&&(e.updateText(d),a=e.annotations),T},T.updatedAccessors=function(){return e.setPositionWithAccessors(),a=e.annotations,T},T.disable=function(j){return arguments.length?(n=j,e&&(e.updateDisable(n),a=e.annotations),T):n},T.textWrap=function(j){return arguments.length?(d=j,e&&(e.updateTextWrap(d),a=e.annotations),T):d},T.notePadding=function(j){return arguments.length?(f=j,e&&(e.updateNotePadding(f),a=e.annotations),T):f},T.type=function(j,J){return arguments.length?(h=j,e&&(e.annotations.map(function(C){C.type.note&&C.type.note.selectAll("*:not(.annotation-note-content)").remove(),C.type.noteContent&&C.type.noteContent.selectAll("*").remove(),C.type.subject&&C.type.subject.selectAll("*").remove(),C.type.connector&&C.type.connector.selectAll("*").remove(),C.type.typeSettings={},C.type=h,C.subject=J&&J.subject||C.subject,C.connector=J&&J.connector||C.connector,C.note=J&&J.note||C.note}),a=e.annotations),T):h},T.annotations=function(j){if(!arguments.length)return e&&e.annotations||a;if(a=j,e&&e.annotations){var J=a.some(function(C){return!C.type||C.type.toString()!=="[object Object]"});J?(e=null,T(S)):e.annotations=a}return T},T.context=function(j){return arguments.length?(i=j,T):i},T.accessors=function(j){return arguments.length?(o=j,T):o},T.accessorsInverse=function(j){return arguments.length?(r=j,T):r},T.ids=function(j){return arguments.length?(s=j,T):s},T.editMode=function(j){return arguments.length?(t=j,S&&S.selectAll("g.annotation").classed("editable",t),e&&(e.editMode(t),a=e.annotations),T):t},T.collection=function(j){return arguments.length?(e=j,T):e},T.on=function(){var j=b.on.apply(b,arguments);return j===b?T:j},T}var Ww=()=>{let a=Kw(),e=go(),i=go(),n=tl.dataJoin("g","annotation"),o=r=>{r.each((t,s,h)=>{a.accessors({x:b=>e(b.x),y:b=>i(b.y)});let d=Ma(h[s]).transition().duration(100).ease(kv),f=n(d,t);f.enter().size()>0&&a.annotations(t),f.enter().call(a),f.size()-f.enter().size()>0&&a.updatedAccessors()})};return o.xScale=(...r)=>r.length?(e=r[0],o):e,o.yScale=(...r)=>r.length?(i=r[0],o):i,tl.rebind(o,n,"key"),tl.rebindAll(o,a),o};var ji=us(It());var T9={};Ua(T9,{compareArrayLike:()=>C9,joinUint8Arrays:()=>tn,memcpy:()=>sl,rebaseValueOffsets:()=>lh,toArrayBufferView:()=>We,toArrayBufferViewAsyncIterator:()=>qn,toArrayBufferViewIterator:()=>ko,toBigInt64Array:()=>B9,toBigUint64Array:()=>S9,toFloat32Array:()=>OG,toFloat32ArrayAsyncIterator:()=>lI,toFloat32ArrayIterator:()=>eI,toFloat64Array:()=>ZG,toFloat64ArrayAsyncIterator:()=>uI,toFloat64ArrayIterator:()=>aI,toInt16Array:()=>WG,toInt16ArrayAsyncIterator:()=>oI,toInt16ArrayIterator:()=>XG,toInt32Array:()=>Nt,toInt32ArrayAsyncIterator:()=>rI,toInt32ArrayIterator:()=>QG,toInt8Array:()=>KG,toInt8ArrayAsyncIterator:()=>nI,toInt8ArrayIterator:()=>YG,toUint16Array:()=>qG,toUint16ArrayAsyncIterator:()=>tI,toUint16ArrayIterator:()=>$G,toUint32Array:()=>VG,toUint32ArrayAsyncIterator:()=>sI,toUint32ArrayIterator:()=>_G,toUint8Array:()=>Re,toUint8ArrayAsyncIterator:()=>M9,toUint8ArrayIterator:()=>w9,toUint8ClampedArray:()=>UG,toUint8ClampedArrayAsyncIterator:()=>hI,toUint8ClampedArrayIterator:()=>iI});var E={};E.Offset;E.Table;E.SIZEOF_SHORT=2;E.SIZEOF_INT=4;E.FILE_IDENTIFIER_LENGTH=4;E.SIZE_PREFIX_LENGTH=4;E.Encoding={UTF8_BYTES:1,UTF16_STRING:2};E.int32=new Int32Array(2);E.float32=new Float32Array(E.int32.buffer);E.float64=new Float64Array(E.int32.buffer);E.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;E.Long=function(a,e){this.low=a|0,this.high=e|0};E.Long.create=function(a,e){return a==0&&e==0?E.Long.ZERO:new E.Long(a,e)};E.Long.prototype.toFloat64=function(){return(this.low>>>0)+this.high*4294967296};E.Long.prototype.equals=function(a){return this.low==a.low&&this.high==a.high};E.Long.ZERO=new E.Long(0,0);E.Builder=function(a){if(a)var e=a;else var e=1024;this.bb=E.ByteBuffer.allocate(e),this.space=e,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};E.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1};E.Builder.prototype.forceDefaults=function(a){this.force_defaults=a};E.Builder.prototype.dataBuffer=function(){return this.bb};E.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())};E.Builder.prototype.prep=function(a,e){a>this.minalign&&(this.minalign=a);for(var i=~(this.bb.capacity()-this.space+e)+1&a-1;this.space<i+a+e;){var n=this.bb.capacity();this.bb=E.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(i)};E.Builder.prototype.pad=function(a){for(var e=0;e<a;e++)this.bb.writeInt8(--this.space,0)};E.Builder.prototype.writeInt8=function(a){this.bb.writeInt8(this.space-=1,a)};E.Builder.prototype.writeInt16=function(a){this.bb.writeInt16(this.space-=2,a)};E.Builder.prototype.writeInt32=function(a){this.bb.writeInt32(this.space-=4,a)};E.Builder.prototype.writeInt64=function(a){this.bb.writeInt64(this.space-=8,a)};E.Builder.prototype.writeFloat32=function(a){this.bb.writeFloat32(this.space-=4,a)};E.Builder.prototype.writeFloat64=function(a){this.bb.writeFloat64(this.space-=8,a)};E.Builder.prototype.addInt8=function(a){this.prep(1,0),this.writeInt8(a)};E.Builder.prototype.addInt16=function(a){this.prep(2,0),this.writeInt16(a)};E.Builder.prototype.addInt32=function(a){this.prep(4,0),this.writeInt32(a)};E.Builder.prototype.addInt64=function(a){this.prep(8,0),this.writeInt64(a)};E.Builder.prototype.addFloat32=function(a){this.prep(4,0),this.writeFloat32(a)};E.Builder.prototype.addFloat64=function(a){this.prep(8,0),this.writeFloat64(a)};E.Builder.prototype.addFieldInt8=function(a,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(a))};E.Builder.prototype.addFieldInt16=function(a,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(a))};E.Builder.prototype.addFieldInt32=function(a,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(a))};E.Builder.prototype.addFieldInt64=function(a,e,i){(this.force_defaults||!e.equals(i))&&(this.addInt64(e),this.slot(a))};E.Builder.prototype.addFieldFloat32=function(a,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(a))};E.Builder.prototype.addFieldFloat64=function(a,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(a))};E.Builder.prototype.addFieldOffset=function(a,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(a))};E.Builder.prototype.addFieldStruct=function(a,e,i){e!=i&&(this.nested(e),this.slot(a))};E.Builder.prototype.nested=function(a){if(a!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")};E.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")};E.Builder.prototype.slot=function(a){this.vtable[a]=this.offset()};E.Builder.prototype.offset=function(){return this.bb.capacity()-this.space};E.Builder.growByteBuffer=function(a){var e=a.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var i=e<<1,n=E.ByteBuffer.allocate(i);return n.setPosition(i-e),n.bytes().set(a.bytes(),i-e),n};E.Builder.prototype.addOffset=function(a){this.prep(E.SIZEOF_INT,0),this.writeInt32(this.offset()-a+E.SIZEOF_INT)};E.Builder.prototype.startObject=function(a){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=a;for(var e=0;e<a;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()};E.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var a=this.offset(),e=this.vtable_in_use-1;e>=0&&this.vtable[e]==0;e--);for(var i=e+1;e>=0;e--)this.addInt16(this.vtable[e]!=0?a-this.vtable[e]:0);var n=2;this.addInt16(a-this.object_start);var o=(i+n)*E.SIZEOF_SHORT;this.addInt16(o);var r=0,t=this.space;e:for(e=0;e<this.vtables.length;e++){var s=this.bb.capacity()-this.vtables[e];if(o==this.bb.readInt16(s)){for(var h=E.SIZEOF_SHORT;h<o;h+=E.SIZEOF_SHORT)if(this.bb.readInt16(t+h)!=this.bb.readInt16(s+h))continue e;r=this.vtables[e];break}}return r?(this.space=this.bb.capacity()-a,this.bb.writeInt32(this.space,r-a)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-a,this.offset()-a)),this.isNested=!1,a};E.Builder.prototype.finish=function(a,e,i){var n=i?E.SIZE_PREFIX_LENGTH:0;if(e){var o=e;if(this.prep(this.minalign,E.SIZEOF_INT+E.FILE_IDENTIFIER_LENGTH+n),o.length!=E.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+E.FILE_IDENTIFIER_LENGTH);for(var r=E.FILE_IDENTIFIER_LENGTH-1;r>=0;r--)this.writeInt8(o.charCodeAt(r))}this.prep(this.minalign,E.SIZEOF_INT+n),this.addOffset(a),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)};E.Builder.prototype.finishSizePrefixed=function(a,e){this.finish(a,e,!0)};E.Builder.prototype.requiredField=function(a,e){var i=this.bb.capacity()-a,n=i-this.bb.readInt32(i),o=this.bb.readInt16(n+e)!=0;if(!o)throw new Error("FlatBuffers: field "+e+" must be set")};E.Builder.prototype.startVector=function(a,e,i){this.notNested(),this.vector_num_elems=e,this.prep(E.SIZEOF_INT,a*e),this.prep(i,a*e)};E.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()};E.Builder.prototype.createString=function(a){if(a instanceof Uint8Array)var e=a;else for(var e=[],i=0;i<a.length;){var n,o=a.charCodeAt(i++);if(o<55296||o>=56320)n=o;else{var r=a.charCodeAt(i++);n=(o<<10)+r+(65536-(55296<<10)-56320)}n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(n&63|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var i=0,t=this.space,s=this.bb.bytes();i<e.length;i++)s[t++]=e[i];return this.endVector()};E.Builder.prototype.createLong=function(a,e){return E.Long.create(a,e)};E.ByteBuffer=function(a){this.bytes_=a,this.position_=0};E.ByteBuffer.allocate=function(a){return new E.ByteBuffer(new Uint8Array(a))};E.ByteBuffer.prototype.clear=function(){this.position_=0};E.ByteBuffer.prototype.bytes=function(){return this.bytes_};E.ByteBuffer.prototype.position=function(){return this.position_};E.ByteBuffer.prototype.setPosition=function(a){this.position_=a};E.ByteBuffer.prototype.capacity=function(){return this.bytes_.length};E.ByteBuffer.prototype.readInt8=function(a){return this.readUint8(a)<<24>>24};E.ByteBuffer.prototype.readUint8=function(a){return this.bytes_[a]};E.ByteBuffer.prototype.readInt16=function(a){return this.readUint16(a)<<16>>16};E.ByteBuffer.prototype.readUint16=function(a){return this.bytes_[a]|this.bytes_[a+1]<<8};E.ByteBuffer.prototype.readInt32=function(a){return this.bytes_[a]|this.bytes_[a+1]<<8|this.bytes_[a+2]<<16|this.bytes_[a+3]<<24};E.ByteBuffer.prototype.readUint32=function(a){return this.readInt32(a)>>>0};E.ByteBuffer.prototype.readInt64=function(a){return new E.Long(this.readInt32(a),this.readInt32(a+4))};E.ByteBuffer.prototype.readUint64=function(a){return new E.Long(this.readUint32(a),this.readUint32(a+4))};E.ByteBuffer.prototype.readFloat32=function(a){return E.int32[0]=this.readInt32(a),E.float32[0]};E.ByteBuffer.prototype.readFloat64=function(a){return E.int32[E.isLittleEndian?0:1]=this.readInt32(a),E.int32[E.isLittleEndian?1:0]=this.readInt32(a+4),E.float64[0]};E.ByteBuffer.prototype.writeInt8=function(a,e){this.bytes_[a]=e};E.ByteBuffer.prototype.writeUint8=function(a,e){this.bytes_[a]=e};E.ByteBuffer.prototype.writeInt16=function(a,e){this.bytes_[a]=e,this.bytes_[a+1]=e>>8};E.ByteBuffer.prototype.writeUint16=function(a,e){this.bytes_[a]=e,this.bytes_[a+1]=e>>8};E.ByteBuffer.prototype.writeInt32=function(a,e){this.bytes_[a]=e,this.bytes_[a+1]=e>>8,this.bytes_[a+2]=e>>16,this.bytes_[a+3]=e>>24};E.ByteBuffer.prototype.writeUint32=function(a,e){this.bytes_[a]=e,this.bytes_[a+1]=e>>8,this.bytes_[a+2]=e>>16,this.bytes_[a+3]=e>>24};E.ByteBuffer.prototype.writeInt64=function(a,e){this.writeInt32(a,e.low),this.writeInt32(a+4,e.high)};E.ByteBuffer.prototype.writeUint64=function(a,e){this.writeUint32(a,e.low),this.writeUint32(a+4,e.high)};E.ByteBuffer.prototype.writeFloat32=function(a,e){E.float32[0]=e,this.writeInt32(a,E.int32[0])};E.ByteBuffer.prototype.writeFloat64=function(a,e){E.float64[0]=e,this.writeInt32(a,E.int32[E.isLittleEndian?0:1]),this.writeInt32(a+4,E.int32[E.isLittleEndian?1:0])};E.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+E.SIZEOF_INT+E.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var a="",e=0;e<E.FILE_IDENTIFIER_LENGTH;e++)a+=String.fromCharCode(this.readInt8(this.position_+E.SIZEOF_INT+e));return a};E.ByteBuffer.prototype.__offset=function(a,e){var i=a-this.readInt32(a);return e<this.readInt16(i)?this.readInt16(i+e):0};E.ByteBuffer.prototype.__union=function(a,e){return a.bb_pos=e+this.readInt32(e),a.bb=this,a};E.ByteBuffer.prototype.__string=function(a,e){a+=this.readInt32(a);var i=this.readInt32(a),n="",o=0;if(a+=E.SIZEOF_INT,e===E.Encoding.UTF8_BYTES)return this.bytes_.subarray(a,a+i);for(;o<i;){var r,t=this.readUint8(a+o++);if(t<192)r=t;else{var s=this.readUint8(a+o++);if(t<224)r=(t&31)<<6|s&63;else{var h=this.readUint8(a+o++);if(t<240)r=(t&15)<<12|(s&63)<<6|h&63;else{var d=this.readUint8(a+o++);r=(t&7)<<18|(s&63)<<12|(h&63)<<6|d&63}}}r<65536?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode((r>>10)+55296,(r&(1<<10)-1)+56320))}return n};E.ByteBuffer.prototype.__indirect=function(a){return a+this.readInt32(a)};E.ByteBuffer.prototype.__vector=function(a){return a+this.readInt32(a)+E.SIZEOF_INT};E.ByteBuffer.prototype.__vector_len=function(a){return this.readInt32(a+this.readInt32(a))};E.ByteBuffer.prototype.__has_identifier=function(a){if(a.length!=E.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+E.FILE_IDENTIFIER_LENGTH);for(var e=0;e<E.FILE_IDENTIFIER_LENGTH;e++)if(a.charCodeAt(e)!=this.readInt8(this.position_+E.SIZEOF_INT+e))return!1;return!0};E.ByteBuffer.prototype.createLong=function(a,e){return E.Long.create(a,e)};var IG=new TextDecoder("utf-8"),th=a=>IG.decode(a),EG=new TextEncoder,Fr=a=>EG.encode(a);var fa=Object.freeze({done:!0,value:void 0}),y1=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}},Kn=class{tee(){return this._getDOMStream().tee()}pipe(e,i){return this._getNodeStream().pipe(e,i)}pipeTo(e,i){return this._getDOMStream().pipeTo(e,i)}pipeThrough(e,i){return this._getDOMStream().pipeThrough(e,i)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}},k9=class extends Kn{constructor(){super();this._values=[];this.resolvers=[];this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}async cancel(e){await this.return(e)}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(fa);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return li.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return li.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}async throw(e){return await this.abort(e),fa}async return(e){return await this.close(),fa}async read(e){return(await this.next(e,"read")).value}async peek(e){return(await this.next(e,"peek")).value}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((i,n)=>{this.resolvers.push({resolve:i,reject:n})}):Promise.resolve(fa)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}};var[qw,Nr]=(()=>{let a=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw a()}return e.asIntN=()=>{throw a()},e.asUintN=()=>{throw a()},typeof BigInt!="undefined"?[BigInt,!0]:[e,!1]})(),[Wn,kme]=(()=>{let a=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw a()}static from(){throw a()}constructor(){throw a()}}return typeof BigInt64Array!="undefined"?[BigInt64Array,!0]:[e,!1]})(),[Zo,bme]=(()=>{let a=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw a()}static from(){throw a()}constructor(){throw a()}}return typeof BigUint64Array!="undefined"?[BigUint64Array,!0]:[e,!1]})();var FG=a=>typeof a=="number",Vw=a=>typeof a=="boolean",Dn=a=>typeof a=="function",Ui=a=>a!=null&&Object(a)===a,rn=a=>Ui(a)&&Dn(a.then);var qa=a=>Ui(a)&&Dn(a[Symbol.iterator]),zi=a=>Ui(a)&&Dn(a[Symbol.asyncIterator]),k1=a=>Ui(a)&&Ui(a.schema);var b1=a=>Ui(a)&&"done"in a&&"value"in a;var B1=a=>Ui(a)&&Dn(a.stat)&&FG(a.fd);var S1=a=>Ui(a)&&sh(a.body),Ow=a=>Ui(a)&&Dn(a.abort)&&Dn(a.getWriter)&&!(a instanceof Kn),sh=a=>Ui(a)&&Dn(a.cancel)&&Dn(a.getReader)&&!(a instanceof Kn),Zw=a=>Ui(a)&&Dn(a.end)&&Dn(a.write)&&Vw(a.writable)&&!(a instanceof Kn),z1=a=>Ui(a)&&Dn(a.read)&&Dn(a.pipe)&&Vw(a.readable)&&!(a instanceof Kn);var NG=E.ByteBuffer,b9=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:ArrayBuffer;function xG(a){let e=a[0]?[a[0]]:[],i,n,o,r;for(let t,s,h=0,d=0,f=a.length;++h<f;){if(t=e[d],s=a[h],!t||!s||t.buffer!==s.buffer||s.byteOffset<t.byteOffset){s&&(e[++d]=s);continue}if({byteOffset:i,byteLength:o}=t,{byteOffset:n,byteLength:r}=s,i+o<n||n+r<i){s&&(e[++d]=s);continue}e[d]=new Uint8Array(t.buffer,i,n-i+r)}return e}function sl(a,e,i=0,n=e.byteLength){let o=a.byteLength,r=new Uint8Array(a.buffer,a.byteOffset,o),t=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,o));return r.set(t,i),a}function tn(a,e){let i=xG(a),n=i.reduce((f,b)=>f+b.byteLength,0),o,r,t,s=0,h=-1,d=Math.min(e||1/0,n);for(let f=i.length;++h<f;){if(o=i[h],r=o.subarray(0,Math.min(o.length,d-s)),d<=s+r.length){r.length<o.length?i[h]=o.subarray(r.length):r.length===o.length&&h++,t?sl(t,r,s):t=r;break}sl(t||(t=new Uint8Array(d)),r,s),s+=r.length}return[t||new Uint8Array(0),i.slice(h),n-(t?t.byteLength:0)]}function We(a,e){let i=b1(e)?e.value:e;return i instanceof a?a===Uint8Array?new a(i.buffer,i.byteOffset,i.byteLength):i:i?(typeof i=="string"&&(i=Fr(i)),i instanceof ArrayBuffer?new a(i):i instanceof b9?new a(i):i instanceof NG?We(a,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new a(0):new a(i.buffer,i.byteOffset,i.byteLength/a.BYTES_PER_ELEMENT):a.from(i)):new a(0)}var KG=a=>We(Int8Array,a),WG=a=>We(Int16Array,a),Nt=a=>We(Int32Array,a),B9=a=>We(Wn,a),Re=a=>We(Uint8Array,a),qG=a=>We(Uint16Array,a),VG=a=>We(Uint32Array,a),S9=a=>We(Zo,a),OG=a=>We(Float32Array,a),ZG=a=>We(Float64Array,a),UG=a=>We(Uint8ClampedArray,a),z9=a=>(a.next(),a);function*ko(a,e){let i=function*(o){yield o},n=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof b9?i(e):qa(e)?e:i(e);return yield*z9(function*(o){let r=null;do r=o.next(yield We(a,r));while(!r.done)}(n[Symbol.iterator]())),new a}var YG=a=>ko(Int8Array,a),XG=a=>ko(Int16Array,a),QG=a=>ko(Int32Array,a),w9=a=>ko(Uint8Array,a),$G=a=>ko(Uint16Array,a),_G=a=>ko(Uint32Array,a),eI=a=>ko(Float32Array,a),aI=a=>ko(Float64Array,a),iI=a=>ko(Uint8ClampedArray,a);async function*qn(a,e){if(rn(e))return yield*qn(a,await e);let i=async function*(r){yield await r},n=async function*(r){yield*z9(function*(t){let s=null;do s=t.next(yield s?.value);while(!s.done)}(r[Symbol.iterator]()))},o=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof b9?i(e):qa(e)?n(e):zi(e)?e:i(e);return yield*z9(async function*(r){let t=null;do t=await r.next(yield We(a,t));while(!t.done)}(o[Symbol.asyncIterator]())),new a}var nI=a=>qn(Int8Array,a),oI=a=>qn(Int16Array,a),rI=a=>qn(Int32Array,a),M9=a=>qn(Uint8Array,a),tI=a=>qn(Uint16Array,a),sI=a=>qn(Uint32Array,a),lI=a=>qn(Float32Array,a),uI=a=>qn(Float64Array,a),hI=a=>qn(Uint8ClampedArray,a);function lh(a,e,i){if(a!==0){i=i.slice(0,e+1);for(let n=-1;++n<=e;)i[n]+=a}return i}function C9(a,e){let i=0,n=a.length;if(n!==e.length)return!1;if(n>0)do if(a[i]!==e[i])return!1;while(++i<n);return!0}var li={fromIterable(a){return w1(dI(a))},fromAsyncIterable(a){return w1(cI(a))},fromDOMStream(a){return w1(mI(a))},fromNodeStream(a){return w1(gI(a))},toDOMStream(a,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(a,e){throw new Error('"toNodeStream" not available in this environment')}},w1=a=>(a.next(),a);function*dI(a){let e,i=!1,n=[],o,r,t,s=0;function h(){return r==="peek"?tn(n,t)[0]:([o,n,s]=tn(n,t),o)}({cmd:r,size:t}=yield null);let d=w9(a)[Symbol.iterator]();try{do if({done:e,value:o}=isNaN(t-s)?d.next(void 0):d.next(t-s),!e&&o.byteLength>0&&(n.push(o),s+=o.byteLength),e||t<=s)do({cmd:r,size:t}=yield h());while(t<s);while(!e)}catch(f){(i=!0)&&typeof d.throw=="function"&&d.throw(f)}finally{i===!1&&typeof d.return=="function"&&d.return(null)}return null}async function*cI(a){let e,i=!1,n=[],o,r,t,s=0;function h(){return r==="peek"?tn(n,t)[0]:([o,n,s]=tn(n,t),o)}({cmd:r,size:t}=yield null);let d=M9(a)[Symbol.asyncIterator]();try{do if({done:e,value:o}=isNaN(t-s)?await d.next(void 0):await d.next(t-s),!e&&o.byteLength>0&&(n.push(o),s+=o.byteLength),e||t<=s)do({cmd:r,size:t}=yield h());while(t<s);while(!e)}catch(f){(i=!0)&&typeof d.throw=="function"&&await d.throw(f)}finally{i===!1&&typeof d.return=="function"&&await d.return(new Uint8Array(0))}return null}async function*mI(a){let e=!1,i=!1,n=[],o,r,t,s=0;function h(){return r==="peek"?tn(n,t)[0]:([o,n,s]=tn(n,t),o)}({cmd:r,size:t}=yield null);let d=new Uw(a);try{do if({done:e,value:o}=isNaN(t-s)?await d.read(void 0):await d.read(t-s),!e&&o.byteLength>0&&(n.push(Re(o)),s+=o.byteLength),e||t<=s)do({cmd:r,size:t}=yield h());while(t<s);while(!e)}catch(f){(i=!0)&&await d.cancel(f)}finally{i===!1?await d.cancel():a.locked&&d.releaseLock()}return null}var Uw=class{constructor(e){this.source=e;this.byobReader=null;this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch{this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}async cancel(e){let{reader:i,source:n}=this;i&&await i.cancel(e).catch(()=>{}),n&&n.locked&&this.releaseLock()}async read(e){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let i=!this.supportsBYOB||typeof e!="number"?await this.getDefaultReader().read():await this.readFromBYOBReader(e);return!i.done&&(i.value=Re(i)),i}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch(()=>{})),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch(()=>{})),this.reader=this.byobReader}async readFromBYOBReader(e){return await Yw(this.getBYOBReader(),new ArrayBuffer(e),0,e)}};async function Yw(a,e,i,n){if(i>=n)return{done:!1,value:new Uint8Array(e,0,n)};let{done:o,value:r}=await a.read(new Uint8Array(e,i,n-i));return(i+=r.byteLength)<n&&!o?await Yw(a,r.buffer,i,n):{done:o,value:new Uint8Array(r.buffer,0,i)}}var P9=(a,e)=>{let i=o=>n([e,o]),n;return[e,i,new Promise(o=>(n=o)&&a.once(e,i))]};async function*gI(a){let e=[],i="error",n=!1,o=null,r,t,s=0,h=[],d;function f(){return r==="peek"?tn(h,t)[0]:([d,h,s]=tn(h,t),d)}if({cmd:r,size:t}=yield null,a.isTTY)return yield new Uint8Array(0),null;try{e[0]=P9(a,"end"),e[1]=P9(a,"error");do{if(e[2]=P9(a,"readable"),[i,o]=await Promise.race(e.map(S=>S[2])),i==="error")break;if((n=i==="end")||(isFinite(t-s)?(d=Re(a.read(t-s)),d.byteLength<t-s&&(d=Re(a.read(void 0)))):d=Re(a.read(void 0)),d.byteLength>0&&(h.push(d),s+=d.byteLength)),n||t<=s)do({cmd:r,size:t}=yield f());while(t<s)}while(!n)}finally{await b(e,i==="error"?o:null)}return null;function b(S,T){return d=h=null,new Promise((j,J)=>{for(let[C,H]of S)a.off(C,H);try{let C=a.destroy;C&&C.call(a,T),T=void 0}catch(C){T=C||T}finally{T!=null?J(T):j()}})}}var ve=class{};ve.prototype.data=null;var za;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(za||(za={}));var Xw;(function(n){n[n.UNUSED=0]="UNUSED",n[n.DICTIONARY_REPLACEMENT=1]="DICTIONARY_REPLACEMENT",n[n.COMPRESSED_BODY=2]="COMPRESSED_BODY"})(Xw||(Xw={}));var Ta;(function(i){i[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense"})(Ta||(Ta={}));var Pa;(function(n){n[n.HALF=0]="HALF",n[n.SINGLE=1]="SINGLE",n[n.DOUBLE=2]="DOUBLE"})(Pa||(Pa={}));var ja;(function(i){i[i.DAY=0]="DAY",i[i.MILLISECOND=1]="MILLISECOND"})(ja||(ja={}));var Ne;(function(o){o[o.SECOND=0]="SECOND",o[o.MILLISECOND=1]="MILLISECOND",o[o.MICROSECOND=2]="MICROSECOND",o[o.NANOSECOND=3]="NANOSECOND"})(Ne||(Ne={}));var ui;(function(i){i[i.YEAR_MONTH=0]="YEAR_MONTH",i[i.DAY_TIME=1]="DAY_TIME"})(ui||(ui={}));var wa;(function(N){N[N.NONE=0]="NONE",N[N.Null=1]="Null",N[N.Int=2]="Int",N[N.FloatingPoint=3]="FloatingPoint",N[N.Binary=4]="Binary",N[N.Utf8=5]="Utf8",N[N.Bool=6]="Bool",N[N.Decimal=7]="Decimal",N[N.Date=8]="Date",N[N.Time=9]="Time",N[N.Timestamp=10]="Timestamp",N[N.Interval=11]="Interval",N[N.List=12]="List",N[N.Struct_=13]="Struct_",N[N.Union=14]="Union",N[N.FixedSizeBinary=15]="FixedSizeBinary",N[N.FixedSizeList=16]="FixedSizeList",N[N.Map=17]="Map",N[N.Duration=18]="Duration",N[N.LargeBinary=19]="LargeBinary",N[N.LargeUtf8=20]="LargeUtf8",N[N.LargeList=21]="LargeList"})(wa||(wa={}));var M1;(function(e){e[e.DenseArray=0]="DenseArray"})(M1||(M1={}));var xt;(function(i){i[i.Little=0]="Little",i[i.Big=1]="Big"})(xt||(xt={}));var Uo=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsNull(e,i){return(i||new Uo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Uo).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return Uo.startNull(e),Uo.endNull(e)}},Yo=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsStruct_(e,i){return(i||new Yo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Yo).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Yo.startStruct_(e),Yo.endStruct_(e)}},Xo=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsList(e,i){return(i||new Xo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Xo).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Xo.startList(e),Xo.endList(e)}};var sn=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsFixedSizeList(e,i){return(i||new sn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new sn).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,i){e.addFieldInt32(0,i,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,i){return sn.startFixedSizeList(e),sn.addListSize(e,i),sn.endFixedSizeList(e)}},ln=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsMap(e,i){return(i||new ln).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new ln).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,i){e.addFieldInt8(0,+i,0)}static endMap(e){return e.endObject()}static createMap(e,i){return ln.startMap(e),ln.addKeysSorted(e,i),ln.endMap(e)}},hi=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsUnion(e,i){return(i||new hi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new hi).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):0}typeIds(e){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt32(this.bb.__vector(this.bb_pos+i)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,i){e.addFieldInt16(0,i,0)}static addTypeIds(e,i){e.addFieldOffset(1,i,0)}static createTypeIdsVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addInt32(i[n]);return e.endVector()}static startTypeIdsVector(e,i){e.startVector(4,i,4)}static endUnion(e){return e.endObject()}static createUnion(e,i,n){return hi.startUnion(e),hi.addMode(e,i),hi.addTypeIds(e,n),hi.endUnion(e)}},wi=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsInt(e,i){return(i||new wi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new wi).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,i){e.addFieldInt32(0,i,0)}static addIsSigned(e,i){e.addFieldInt8(1,+i,0)}static endInt(e){return e.endObject()}static createInt(e,i,n){return wi.startInt(e),wi.addBitWidth(e,i),wi.addIsSigned(e,n),wi.endInt(e)}},un=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsFloatingPoint(e,i){return(i||new un).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new un).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):0}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,i){e.addFieldInt16(0,i,0)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,i){return un.startFloatingPoint(e),un.addPrecision(e,i),un.endFloatingPoint(e)}},Qo=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsUtf8(e,i){return(i||new Qo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Qo).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return Qo.startUtf8(e),Qo.endUtf8(e)}},$o=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsBinary(e,i){return(i||new $o).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new $o).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return $o.startBinary(e),$o.endBinary(e)}};var hn=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsFixedSizeBinary(e,i){return(i||new hn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new hn).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,i){e.addFieldInt32(0,i,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,i){return hn.startFixedSizeBinary(e),hn.addByteWidth(e,i),hn.endFixedSizeBinary(e)}},_o=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsBool(e,i){return(i||new _o).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new _o).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return _o.startBool(e),_o.endBool(e)}},Mi=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDecimal(e,i){return(i||new Mi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Mi).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,i){e.addFieldInt32(0,i,0)}static addScale(e,i){e.addFieldInt32(1,i,0)}static addBitWidth(e,i){e.addFieldInt32(2,i,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,i,n,o){return Mi.startDecimal(e),Mi.addPrecision(e,i),Mi.addScale(e,n),Mi.addBitWidth(e,o),Mi.endDecimal(e)}},dn=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDate(e,i){return(i||new dn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new dn).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):1}static startDate(e){e.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,1)}static endDate(e){return e.endObject()}static createDate(e,i){return dn.startDate(e),dn.addUnit(e,i),dn.endDate(e)}},Ii=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsTime(e,i){return(i||new Ii).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Ii).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):1}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,i){e.addFieldInt16(0,i,1)}static addBitWidth(e,i){e.addFieldInt32(1,i,32)}static endTime(e){return e.endObject()}static createTime(e,i,n){return Ii.startTime(e),Ii.addUnit(e,i),Ii.addBitWidth(e,n),Ii.endTime(e)}},Ei=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsTimestamp(e,i){return(i||new Ei).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Ei).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):0}timezone(e){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__string(this.bb_pos+i,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,i){e.addFieldInt16(0,i,0)}static addTimezone(e,i){e.addFieldOffset(1,i,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,i,n){return Ei.startTimestamp(e),Ei.addUnit(e,i),Ei.addTimezone(e,n),Ei.endTimestamp(e)}},cn=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsInterval(e,i){return(i||new cn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new cn).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):0}static startInterval(e){e.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,0)}static endInterval(e){return e.endObject()}static createInterval(e,i){return cn.startInterval(e),cn.addUnit(e,i),cn.endInterval(e)}};var Ra=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsKeyValue(e,i){return(i||new Ra).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Ra).__init(e.readInt32(e.position())+e.position(),e)}key(e){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__string(this.bb_pos+i,e):null}value(e){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__string(this.bb_pos+i,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,i){e.addFieldOffset(0,i,0)}static addValue(e,i){e.addFieldOffset(1,i,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,i,n){return Ra.startKeyValue(e),Ra.addKey(e,i),Ra.addValue(e,n),Ra.endKeyValue(e)}},di=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDictionaryEncoding(e,i){return(i||new di).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new di).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new wi).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):0}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,i){e.addFieldInt64(0,i,e.createLong(0,0))}static addIndexType(e,i){e.addFieldOffset(1,i,0)}static addIsOrdered(e,i){e.addFieldInt8(2,+i,0)}static addDictionaryKind(e,i){e.addFieldInt16(3,i,0)}static endDictionaryEncoding(e){return e.endObject()}static createDictionaryEncoding(e,i,n,o,r){return di.startDictionaryEncoding(e),di.addId(e,i),di.addIndexType(e,n),di.addIsOrdered(e,o),di.addDictionaryKind(e,r),di.endDictionaryEncoding(e)}},ga=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsField(e,i){return(i||new ga).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new ga).__init(e.readInt32(e.position())+e.position(),e)}name(e){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__string(this.bb_pos+i,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):0}type(e){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__union(e,this.bb_pos+i):null}dictionary(e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new di).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}children(e,i){let n=this.bb.__offset(this.bb_pos,14);return n?(i||new ga).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,16);return n?(i||new Ra).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,i){e.addFieldOffset(0,i,0)}static addNullable(e,i){e.addFieldInt8(1,+i,0)}static addTypeType(e,i){e.addFieldInt8(2,i,0)}static addType(e,i){e.addFieldOffset(3,i,0)}static addDictionary(e,i){e.addFieldOffset(4,i,0)}static addChildren(e,i){e.addFieldOffset(5,i,0)}static createChildrenVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startChildrenVector(e,i){e.startVector(4,i,4)}static addCustomMetadata(e,i){e.addFieldOffset(6,i,0)}static createCustomMetadataVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startCustomMetadataVector(e,i){e.startVector(4,i,4)}static endField(e){return e.endObject()}static createField(e,i,n,o,r,t,s,h){return ga.startField(e),ga.addName(e,i),ga.addNullable(e,n),ga.addTypeType(e,o),ga.addType(e,r),ga.addDictionary(e,t),ga.addChildren(e,s),ga.addCustomMetadata(e,h),ga.endField(e)}},uh=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(e,i,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(i),e.offset()}},Ja=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsSchema(e,i){return(i||new Ja).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Ja).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):0}fields(e,i){let n=this.bb.__offset(this.bb_pos,6);return n?(i||new ga).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new Ra).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.readInt64(this.bb.__vector(this.bb_pos+i)+e*8):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,i){e.addFieldInt16(0,i,0)}static addFields(e,i){e.addFieldOffset(1,i,0)}static createFieldsVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startFieldsVector(e,i){e.startVector(4,i,4)}static addCustomMetadata(e,i){e.addFieldOffset(2,i,0)}static createCustomMetadataVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startCustomMetadataVector(e,i){e.startVector(4,i,4)}static addFeatures(e,i){e.addFieldOffset(3,i,0)}static createFeaturesVector(e,i){e.startVector(8,i.length,8);for(let n=i.length-1;n>=0;n--)e.addInt64(i[n]);return e.endVector()}static startFeaturesVector(e,i){e.startVector(8,i,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,i){e.finish(i)}static finishSizePrefixedSchemaBuffer(e,i){e.finish(i,void 0,!0)}static createSchema(e,i,n,o,r){return Ja.startSchema(e),Ja.addEndianness(e,i),Ja.addFields(e,n),Ja.addCustomMetadata(e,o),Ja.addFeatures(e,r),Ja.endSchema(e)}};var C1;(function(i){i[i.LZ4_FRAME=0]="LZ4_FRAME",i[i.ZSTD=1]="ZSTD"})(C1||(C1={}));var T1;(function(e){e[e.BUFFER=0]="BUFFER"})(T1||(T1={}));var Ue;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(Ue||(Ue={}));var P1=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(e,i,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(i),e.offset()}},er=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsBodyCompression(e,i){return(i||new er).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new er).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):0}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):0}static startBodyCompression(e){e.startObject(2)}static addCodec(e,i){e.addFieldInt8(0,i,0)}static addMethod(e,i){e.addFieldInt8(1,i,0)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,i,n){return er.startBodyCompression(e),er.addCodec(e,i),er.addMethod(e,n),er.endBodyCompression(e)}},Ea=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsRecordBatch(e,i){return(i||new Ea).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Ea).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,i){let n=this.bb.__offset(this.bb_pos,6);return n?(i||new P1).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new uh).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let i=this.bb.__offset(this.bb_pos,10);return i?(e||new er).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,i){e.addFieldInt64(0,i,e.createLong(0,0))}static addNodes(e,i){e.addFieldOffset(1,i,0)}static startNodesVector(e,i){e.startVector(16,i,8)}static addBuffers(e,i){e.addFieldOffset(2,i,0)}static startBuffersVector(e,i){e.startVector(16,i,8)}static addCompression(e,i){e.addFieldOffset(3,i,0)}static endRecordBatch(e){return e.endObject()}static createRecordBatch(e,i,n,o,r){return Ea.startRecordBatch(e),Ea.addLength(e,i),Ea.addNodes(e,n),Ea.addBuffers(e,o),Ea.addCompression(e,r),Ea.endRecordBatch(e)}},Ci=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDictionaryBatch(e,i){return(i||new Ci).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Ci).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new Ea).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,i){e.addFieldInt64(0,i,e.createLong(0,0))}static addData(e,i){e.addFieldOffset(1,i,0)}static addIsDelta(e,i){e.addFieldInt8(2,+i,0)}static endDictionaryBatch(e){return e.endObject()}static createDictionaryBatch(e,i,n,o){return Ci.startDictionaryBatch(e),Ci.addId(e,i),Ci.addData(e,n),Ci.addIsDelta(e,o),Ci.endDictionaryBatch(e)}},Fa=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsMessage(e,i){return(i||new Fa).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Fa).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):za.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):0}header(e){let i=this.bb.__offset(this.bb_pos,8);return i?this.bb.__union(e,this.bb_pos+i):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,12);return n?(i||new Ra).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,i){e.addFieldInt16(0,i,za.V1)}static addHeaderType(e,i){e.addFieldInt8(1,i,0)}static addHeader(e,i){e.addFieldOffset(2,i,0)}static addBodyLength(e,i){e.addFieldInt64(3,i,e.createLong(0,0))}static addCustomMetadata(e,i){e.addFieldOffset(4,i,0)}static createCustomMetadataVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startCustomMetadataVector(e,i){e.startVector(4,i,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,i){e.finish(i)}static finishSizePrefixedMessageBuffer(e,i){e.finish(i,void 0,!0)}static createMessage(e,i,n,o,r,t){return Fa.startMessage(e),Fa.addVersion(e,i),Fa.addHeaderType(e,n),Fa.addHeader(e,o),Fa.addBodyLength(e,r),Fa.addCustomMetadata(e,t),Fa.endMessage(e)}};var G;(function(Y){Y[Y.NONE=0]="NONE",Y[Y.Null=1]="Null",Y[Y.Int=2]="Int",Y[Y.Float=3]="Float",Y[Y.Binary=4]="Binary",Y[Y.Utf8=5]="Utf8",Y[Y.Bool=6]="Bool",Y[Y.Decimal=7]="Decimal",Y[Y.Date=8]="Date",Y[Y.Time=9]="Time",Y[Y.Timestamp=10]="Timestamp",Y[Y.Interval=11]="Interval",Y[Y.List=12]="List",Y[Y.Struct=13]="Struct",Y[Y.Union=14]="Union",Y[Y.FixedSizeBinary=15]="FixedSizeBinary",Y[Y.FixedSizeList=16]="FixedSizeList",Y[Y.Map=17]="Map",Y[Y.Dictionary=-1]="Dictionary",Y[Y.Int8=-2]="Int8",Y[Y.Int16=-3]="Int16",Y[Y.Int32=-4]="Int32",Y[Y.Int64=-5]="Int64",Y[Y.Uint8=-6]="Uint8",Y[Y.Uint16=-7]="Uint16",Y[Y.Uint32=-8]="Uint32",Y[Y.Uint64=-9]="Uint64",Y[Y.Float16=-10]="Float16",Y[Y.Float32=-11]="Float32",Y[Y.Float64=-12]="Float64",Y[Y.DateDay=-13]="DateDay",Y[Y.DateMillisecond=-14]="DateMillisecond",Y[Y.TimestampSecond=-15]="TimestampSecond",Y[Y.TimestampMillisecond=-16]="TimestampMillisecond",Y[Y.TimestampMicrosecond=-17]="TimestampMicrosecond",Y[Y.TimestampNanosecond=-18]="TimestampNanosecond",Y[Y.TimeSecond=-19]="TimeSecond",Y[Y.TimeMillisecond=-20]="TimeMillisecond",Y[Y.TimeMicrosecond=-21]="TimeMicrosecond",Y[Y.TimeNanosecond=-22]="TimeNanosecond",Y[Y.DenseUnion=-23]="DenseUnion",Y[Y.SparseUnion=-24]="SparseUnion",Y[Y.IntervalDayTime=-25]="IntervalDayTime",Y[Y.IntervalYearMonth=-26]="IntervalYearMonth"})(G||(G={}));var be;(function(o){o[o.OFFSET=0]="OFFSET",o[o.DATA=1]="DATA",o[o.VALIDITY=2]="VALIDITY",o[o.TYPE=3]="TYPE"})(be||(be={}));var R9={};Ua(R9,{BitIterator:()=>xr,getBit:()=>Qw,getBool:()=>j1,packBools:()=>Kt,popcnt_array:()=>$w,popcnt_bit_range:()=>hh,popcnt_uint32:()=>R1,setBool:()=>j9,truncateBitmap:()=>ll});function j1(a,e,i,n){return(i&1<<n)!=0}function Qw(a,e,i,n){return(i&1<<n)>>n}function j9(a,e,i){return i?!!(a[e>>3]|=1<<e%8)||!0:!(a[e>>3]&=~(1<<e%8))&&!1}function ll(a,e,i){let n=i.byteLength+7&~7;if(a>0||i.byteLength<n){let o=new Uint8Array(n);return o.set(a%8==0?i.subarray(a>>3):Kt(new xr(i,a,e,null,j1)).subarray(0,n)),o}return i}function Kt(a){let e=[],i=0,n=0,o=0;for(let t of a)t&&(o|=1<<n),++n==8&&(e[i++]=o,o=n=0);(i===0||n>0)&&(e[i++]=o);let r=new Uint8Array(e.length+7&~7);return r.set(e),r}var xr=class{constructor(e,i,n,o,r){this.bytes=e;this.length=n;this.context=o;this.get=r;this.bit=i%8,this.byteIndex=i>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};function hh(a,e,i){if(i-e<=0)return 0;if(i-e<8){let r=0;for(let t of new xr(a,e,i-e,a,Qw))r+=t;return r}let n=i>>3<<3,o=e+(e%8==0?0:8-e%8);return hh(a,e,o)+hh(a,n,i)+$w(a,o>>3,n-o>>3)}function $w(a,e,i){let n=0,o=e|0,r=new DataView(a.buffer,a.byteOffset,a.byteLength),t=i===void 0?a.byteLength:o+i;for(;t-o>=4;)n+=R1(r.getUint32(o)),o+=4;for(;t-o>=2;)n+=R1(r.getUint16(o)),o+=2;for(;t-o>=1;)n+=R1(r.getUint8(o)),o+=1;return n}function R1(a){let e=a|0;return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}var Fme=E.Long,Kme,L9=class{static isNull(e){return e?.typeId===G.Null}static isInt(e){return e?.typeId===G.Int}static isFloat(e){return e?.typeId===G.Float}static isBinary(e){return e?.typeId===G.Binary}static isUtf8(e){return e?.typeId===G.Utf8}static isBool(e){return e?.typeId===G.Bool}static isDecimal(e){return e?.typeId===G.Decimal}static isDate(e){return e?.typeId===G.Date}static isTime(e){return e?.typeId===G.Time}static isTimestamp(e){return e?.typeId===G.Timestamp}static isInterval(e){return e?.typeId===G.Interval}static isList(e){return e?.typeId===G.List}static isStruct(e){return e?.typeId===G.Struct}static isUnion(e){return e?.typeId===G.Union}static isFixedSizeBinary(e){return e?.typeId===G.FixedSizeBinary}static isFixedSizeList(e){return e?.typeId===G.FixedSizeList}static isMap(e){return e?.typeId===G.Map}static isDictionary(e){return e?.typeId===G.Dictionary}get typeId(){return G.NONE}},Ce=L9;Symbol.toStringTag,Kme=Symbol.toStringTag,Ce[Kme]=(e=>(e.children=null,e.ArrayType=Array,e[Symbol.toStringTag]="DataType"))(L9.prototype);var Wme,J9=class extends Ce{toString(){return"Null"}get typeId(){return G.Null}},ar=J9;Wme=Symbol.toStringTag,ar[Wme]=(e=>e[Symbol.toStringTag]="Null")(J9.prototype);var qme,D9=class extends Ce{constructor(e,i){super();this.isSigned=e;this.bitWidth=i}get typeId(){return G.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}},ci=D9;qme=Symbol.toStringTag,ci[qme]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(D9.prototype);var Kr=class extends ci{constructor(){super(!0,8)}},Wr=class extends ci{constructor(){super(!0,16)}},Yi=class extends ci{constructor(){super(!0,32)}},Vn=class extends ci{constructor(){super(!0,64)}},qr=class extends ci{constructor(){super(!1,8)}},Vr=class extends ci{constructor(){super(!1,16)}},Or=class extends ci{constructor(){super(!1,32)}},On=class extends ci{constructor(){super(!1,64)}};Object.defineProperty(Kr.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(Wr.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(Yi.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(Vn.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(qr.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(Vr.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Or.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(On.prototype,"ArrayType",{value:Uint32Array});var Vme,H9=class extends Ce{constructor(e){super();this.precision=e}get typeId(){return G.Float}get ArrayType(){switch(this.precision){case Pa.HALF:return Uint16Array;case Pa.SINGLE:return Float32Array;case Pa.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}},bo=H9;Vme=Symbol.toStringTag,bo[Vme]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(H9.prototype);var Wt=class extends bo{constructor(){super(Pa.HALF)}},Zr=class extends bo{constructor(){super(Pa.SINGLE)}},Ur=class extends bo{constructor(){super(Pa.DOUBLE)}};Object.defineProperty(Wt.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(Zr.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(Ur.prototype,"ArrayType",{value:Float64Array});var Ome,G9=class extends Ce{constructor(){super()}get typeId(){return G.Binary}toString(){return"Binary"}},ir=G9;Ome=Symbol.toStringTag,ir[Ome]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(G9.prototype);var Zme,I9=class extends Ce{constructor(){super()}get typeId(){return G.Utf8}toString(){return"Utf8"}},Zn=I9;Zme=Symbol.toStringTag,Zn[Zme]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(I9.prototype);var Ume,E9=class extends Ce{constructor(){super()}get typeId(){return G.Bool}toString(){return"Bool"}},nr=E9;Ume=Symbol.toStringTag,nr[Ume]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(E9.prototype);var Yme,F9=class extends Ce{constructor(e,i){super();this.scale=e;this.precision=i}get typeId(){return G.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}},qt=F9;Yme=Symbol.toStringTag,qt[Yme]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(F9.prototype);var Xme,N9=class extends Ce{constructor(e){super();this.unit=e}get typeId(){return G.Date}toString(){return`Date${(this.unit+1)*32}<${ja[this.unit]}>`}},or=N9;Xme=Symbol.toStringTag,or[Xme]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(N9.prototype);var L1=class extends or{constructor(){super(ja.DAY)}},dh=class extends or{constructor(){super(ja.MILLISECOND)}},Qme,x9=class extends Ce{constructor(e,i){super();this.unit=e;this.bitWidth=i}get typeId(){return G.Time}toString(){return`Time${this.bitWidth}<${Ne[this.unit]}>`}},Vt=x9;Qme=Symbol.toStringTag,Vt[Qme]=(e=>(e.unit=null,e.bitWidth=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Time"))(x9.prototype);var $me,K9=class extends Ce{constructor(e,i){super();this.unit=e;this.timezone=i}get typeId(){return G.Timestamp}toString(){return`Timestamp<${Ne[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}},Ot=K9;$me=Symbol.toStringTag,Ot[$me]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(K9.prototype);var _me,W9=class extends Ce{constructor(e){super();this.unit=e}get typeId(){return G.Interval}toString(){return`Interval<${ui[this.unit]}>`}},Zt=W9;_me=Symbol.toStringTag,Zt[_me]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(W9.prototype);var ege,q9=class extends Ce{constructor(e){super();this.children=[e]}get typeId(){return G.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}},Un=q9;ege=Symbol.toStringTag,Un[ege]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(q9.prototype);var age,V9=class extends Ce{constructor(e){super();this.children=e}get typeId(){return G.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}},mi=V9;age=Symbol.toStringTag,mi[age]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(V9.prototype);var ige,O9=class extends Ce{constructor(e,i,n){super();this.mode=e,this.children=n,this.typeIds=i=Int32Array.from(i),this.typeIdToChildIndex=i.reduce((o,r,t)=>(o[r]=t)&&o||o,Object.create(null))}get typeId(){return G.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}},rr=O9;ige=Symbol.toStringTag,rr[ige]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(O9.prototype);var nge,Z9=class extends Ce{constructor(e){super();this.byteWidth=e}get typeId(){return G.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}},Ut=Z9;nge=Symbol.toStringTag,Ut[nge]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(Z9.prototype);var oge,U9=class extends Ce{constructor(e,i){super();this.listSize=e;this.children=[i]}get typeId(){return G.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}},tr=U9;oge=Symbol.toStringTag,tr[oge]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(U9.prototype);var rge,Y9=class extends Ce{constructor(e,i=!1){super();this.children=[e],this.keysSorted=i}get typeId(){return G.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}},sr=Y9;rge=Symbol.toStringTag,sr[rge]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(Y9.prototype);var AI=(a=>()=>++a)(-1),tge,X9=class extends Ce{constructor(e,i,n,o){super();this.indices=i,this.dictionary=e,this.isOrdered=o||!1,this.id=n==null?AI():typeof n=="number"?n:n.low}get typeId(){return G.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}},mn=X9;tge=Symbol.toStringTag,mn[tge]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(X9.prototype);function J1(a){let e=a;switch(a.typeId){case G.Decimal:return 4;case G.Timestamp:return 2;case G.Date:return 1+e.unit;case G.Interval:return 1+e.unit;case G.Int:return 1+ +(e.bitWidth>32);case G.Time:return 1+ +(e.bitWidth>32);case G.FixedSizeList:return e.listSize;case G.FixedSizeBinary:return e.byteWidth;default:return 1}}var vI=-1,ne=class{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:i,values:n,nullBitmap:o,typeIds:r}=this;return i&&(e+=i.byteLength),n&&(e+=n.byteLength),o&&(e+=o.byteLength),r&&(e+=r.byteLength),this.childData.reduce((t,s)=>t+s.byteLength,e)}get nullCount(){let e=this._nullCount,i;return e<=vI&&(i=this.nullBitmap)&&(this._nullCount=e=this.length-hh(i,this.offset,this.offset+this.length)),e}constructor(e,i,n,o,r,t,s){this.type=e,this.dictionary=s,this.offset=Math.floor(Math.max(i||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(o||0,-1)),this.childData=(t||[]).map(d=>d instanceof ne?d:d.data);let h;r instanceof ne?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=J1(e),r&&((h=r[0])&&(this.valueOffsets=h),(h=r[1])&&(this.values=h),(h=r[2])&&(this.nullBitmap=h),(h=r[3])&&(this.typeIds=h)))}clone(e,i=this.offset,n=this.length,o=this._nullCount,r=this,t=this.childData){return new ne(e,i,n,o,r,t,this.dictionary)}slice(e,i){let{stride:n,typeId:o,childData:r}=this,t=+(this._nullCount===0)-1,s=o===16?n:1,h=this._sliceBuffers(e,i,n,o);return this.clone(this.type,this.offset+e,i,t,h,!r.length||this.valueOffsets?r:this._sliceChildren(r,s*e,s*i))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===G.Null)return this.clone(this.type,0,e,0);let{length:i,nullCount:n}=this,o=new Uint8Array((e+63&~63)>>3).fill(255,0,i>>3);o[i>>3]=(1<<i-(i&~7))-1,n>0&&o.set(ll(this.offset,i,this.nullBitmap),0);let r=this.buffers;return r[be.VALIDITY]=o,this.clone(this.type,0,e,n+(e-i),r)}_sliceBuffers(e,i,n,o){let r,{buffers:t}=this;return(r=t[be.TYPE])&&(t[be.TYPE]=r.subarray(e,e+i)),(r=t[be.OFFSET])&&(t[be.OFFSET]=r.subarray(e,e+i+1))||(r=t[be.DATA])&&(t[be.DATA]=o===6?r:r.subarray(n*e,n*(e+i))),t}_sliceChildren(e,i,n){return e.map(o=>o.slice(i,n))}static new(e,i,n,o,r,t,s){switch(r instanceof ne?r=r.buffers:r||(r=[]),e.typeId){case G.Null:return ne.Null(e,i,n);case G.Int:return ne.Int(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.Dictionary:return ne.Dictionary(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[],s);case G.Float:return ne.Float(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.Bool:return ne.Bool(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.Decimal:return ne.Decimal(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.Date:return ne.Date(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.Time:return ne.Time(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.Timestamp:return ne.Timestamp(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.Interval:return ne.Interval(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.FixedSizeBinary:return ne.FixedSizeBinary(e,i,n,o||0,r[be.VALIDITY],r[be.DATA]||[]);case G.Binary:return ne.Binary(e,i,n,o||0,r[be.VALIDITY],r[be.OFFSET]||[],r[be.DATA]||[]);case G.Utf8:return ne.Utf8(e,i,n,o||0,r[be.VALIDITY],r[be.OFFSET]||[],r[be.DATA]||[]);case G.List:return ne.List(e,i,n,o||0,r[be.VALIDITY],r[be.OFFSET]||[],(t||[])[0]);case G.FixedSizeList:return ne.FixedSizeList(e,i,n,o||0,r[be.VALIDITY],(t||[])[0]);case G.Struct:return ne.Struct(e,i,n,o||0,r[be.VALIDITY],t||[]);case G.Map:return ne.Map(e,i,n,o||0,r[be.VALIDITY],r[be.OFFSET]||[],(t||[])[0]);case G.Union:return ne.Union(e,i,n,o||0,r[be.VALIDITY],r[be.TYPE]||[],r[be.OFFSET]||t,t)}throw new Error(`Unrecognized typeId ${e.typeId}`)}static Null(e,i,n){return new ne(e,i,n,0)}static Int(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static Dictionary(e,i,n,o,r,t,s){return new ne(e,i,n,o,[void 0,We(e.indices.ArrayType,t),Re(r)],[],s)}static Float(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static Bool(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static Decimal(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static Date(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static Time(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static Timestamp(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static Interval(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static FixedSizeBinary(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,We(e.ArrayType,t),Re(r)])}static Binary(e,i,n,o,r,t,s){return new ne(e,i,n,o,[Nt(t),Re(s),Re(r)])}static Utf8(e,i,n,o,r,t,s){return new ne(e,i,n,o,[Nt(t),Re(s),Re(r)])}static List(e,i,n,o,r,t,s){return new ne(e,i,n,o,[Nt(t),void 0,Re(r)],s?[s]:[])}static FixedSizeList(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,void 0,Re(r)],t?[t]:[])}static Struct(e,i,n,o,r,t){return new ne(e,i,n,o,[void 0,void 0,Re(r)],t)}static Map(e,i,n,o,r,t,s){return new ne(e,i,n,o,[Nt(t),void 0,Re(r)],s?[s]:[])}static Union(e,i,n,o,r,t,s,h){let d=[void 0,void 0,Re(r),We(e.ArrayType,t)];return e.mode===Ta.Sparse?new ne(e,i,n,o,d,s):(d[be.OFFSET]=Nt(s),new ne(e,i,n,o,d,h))}};ne.prototype.childData=Object.freeze([]);var pI=void 0;function Yt(a){if(a===null)return"null";if(a===pI)return"undefined";switch(typeof a){case"number":return`${a}`;case"bigint":return`${a}`;case"string":return`"${a}"`}return typeof a[Symbol.toPrimitive]=="function"?a[Symbol.toPrimitive]("string"):ArrayBuffer.isView(a)?`[${a}]`:JSON.stringify(a)}function _w(a){if(!a||a.length<=0)return function(o){return!0};let e="",i=a.filter(n=>n===n);return i.length>0&&(e=`
    switch (x) {${i.map(n=>`
        case ${fI(n)}:`).join("")}
            return false;
    }`),a.length!==i.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}function fI(a){return typeof a!="bigint"?Yt(a):Nr?`${Yt(a)}n`:`"${Yt(a)}"`}var Q9=(a,e)=>(a*e+63&~63||64)/e,yI=(a,e=0)=>a.length>=e?a.subarray(0,e):sl(new a.constructor(e),a,0),Yr=class{constructor(e,i=1){this.buffer=e,this.stride=i,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/i|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,i){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let i=this.stride,n=this.length*i,o=this.buffer.length;n>=o&&this._resize(o===0?Q9(n*1,this.BYTES_PER_ELEMENT):Q9(n*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=Q9(e*this.stride,this.BYTES_PER_ELEMENT);let i=yI(this.buffer,e);return this.clear(),i}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=sl(new this.ArrayType(e),this.buffer)}};Yr.prototype.offset=0;var Xr=class extends Yr{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,i){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=i,this}},ch=class extends Xr{constructor(e=new Uint8Array(0)){super(e,1/8);this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,i){let{buffer:n}=this.reserve(e-this.length+1),o=e>>3,r=e%8,t=n[o]>>r&1;return i?t===0&&(n[o]|=1<<r,++this.numValid):t===1&&(n[o]&=~(1<<r),--this.numValid),this}clear(){return this.numValid=0,super.clear()}},mh=class extends Xr{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,i){let n=this.length-1,o=this.reserve(e-n+1).buffer;return n<e++&&o.fill(o[n],n,e),o[e]=o[e-1]+i,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}},D1=class extends Yr{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?Wn:Zo)}set(e,i){switch(this.reserve(e-this.length+1),typeof i){case"bigint":this.buffer64[e]=i;break;case"number":this.buffer[e*this.stride]=i;break;default:this.buffer.set(i,e*this.stride)}return this}_resize(e){let i=super._resize(e),n=i.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return Nr&&(this.buffer64=new this.ArrayType64(i.buffer,i.byteOffset,n)),i}};var Ye=class{constructor({type:e,nullValues:i}){this.length=0;this.finished=!1;this.type=e,this.children=[],this.nullValues=i,this.stride=J1(e),this._nulls=new ch,i&&i.length>0&&(this._isValid=_w(i))}static new(e){}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}static throughIterable(e){return kI(e)}static throughAsyncIterable(e){return bI(e)}toVector(){return ve.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce((i,n)=>i+n.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((i,n)=>i+n.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,i){return this.setValid(e,this.isValid(i))&&this.setValue(e,i),this}setValue(e,i){this._setValue(this,e,i)}setValid(e,i){return this.length=this._nulls.set(e,+i).length,i}addChild(e,i=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e=[],i=this._values,n=this._offsets,o=this._typeIds,{length:r,nullCount:t}=this;o?(e[be.TYPE]=o.flush(r),n&&(e[be.OFFSET]=n.flush(r))):n?(i&&(e[be.DATA]=i.flush(n.last())),e[be.OFFSET]=n.flush(r)):i&&(e[be.DATA]=i.flush(r)),t>0&&(e[be.VALIDITY]=this._nulls.flush(r));let s=ne.new(this.type,0,r,t,e,this.children.map(h=>h.flush()));return this.clear(),s}finish(){return this.finished=!0,this.children.forEach(e=>e.finish()),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach(e=>e.clear()),this}};Ye.prototype.length=1;Ye.prototype.stride=1;Ye.prototype.children=null;Ye.prototype.finished=!1;Ye.prototype.nullValues=null;Ye.prototype._isValid=()=>!0;var gi=class extends Ye{constructor(e){super(e);this._values=new Xr(new this.ArrayType(0),this.stride)}setValue(e,i){let n=this._values;return n.reserve(e-n.length+1),super.setValue(e,i)}},lr=class extends Ye{constructor(e){super(e);this._pendingLength=0;this._offsets=new mh}setValue(e,i){let n=this._pending||(this._pending=new Map),o=n.get(e);o&&(this._pendingLength-=o.length),this._pendingLength+=i.length,n.set(e,i)}setValid(e,i){return super.setValid(e,i)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,i=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,i),this}};function kI(a){let{["queueingStrategy"]:e="count"}=a,{["highWaterMark"]:i=e!=="bytes"?1e3:2**14}=a,n=e!=="bytes"?"length":"byteLength";return function*(o){let r=0,t=Ye.new(a);for(let s of o)t.append(s)[n]>=i&&++r&&(yield t.toVector());(t.finish().length>0||r===0)&&(yield t.toVector())}}function bI(a){let{["queueingStrategy"]:e="count"}=a,{["highWaterMark"]:i=e!=="bytes"?1e3:2**14}=a,n=e!=="bytes"?"length":"byteLength";return async function*(o){let r=0,t=Ye.new(a);for await(let s of o)t.append(s)[n]>=i&&++r&&(yield t.toVector());(t.finish().length>0||r===0)&&(yield t.toVector())}}var H1=class extends Ye{constructor(e){super(e);this._values=new ch}setValue(e,i){this._values.set(e,+i)}};var G1=class extends Ye{setValue(e,i){}setValid(e,i){return this.length=Math.max(e+1,this.length),i}};var ul=class extends gi{},I1=class extends ul{},E1=class extends ul{};var F1=class extends gi{};var N1=class extends Ye{constructor({type:e,nullValues:i,dictionaryHashFunction:n}){super({type:new mn(e.dictionary,e.indices,e.id,e.isOrdered)});this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=Ye.new({type:this.type.indices,nullValues:i}),this.dictionary=Ye.new({type:this.type.dictionary,nullValues:null}),typeof n=="function"&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,i){let n=this.indices;return i=n.setValid(e,i),this.length=n.length,i}setValue(e,i){let n=this._keysToIndices,o=this.valueToKey(i),r=n[o];return r===void 0&&(n[o]=r=this._dictionaryOffset+this.dictionary.append(i).length-1),this.indices.setValue(e,r)}flush(){let e=this.type,i=this._dictionary,n=this.dictionary.toVector(),o=this.indices.flush().clone(e);return o.dictionary=i?i.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=o.dictionary,this.clear(),o}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e=="string"?e:`${e}`}};var x1=class extends gi{};var _9={};Ua(_9,{float64ToUint16:()=>gh,uint16ToFloat64:()=>$9});var eM=new Float64Array(1),hl=new Uint32Array(eM.buffer);function $9(a){let e=(a&31744)>>10,i=(a&1023)/1024,n=(-1)**((a&32768)>>15);switch(e){case 31:return n*(i?NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*2**(e-15)*(1+i)}function gh(a){if(a!==a)return 32256;eM[0]=a;let e=(hl[1]&2147483648)>>16&65535,i=hl[1]&2146435072,n=0;return i>=1089470464?hl[0]>0?i=31744:(i=(i&2080374784)>>16,n=(hl[1]&1048575)>>10):i<=1056964608?(n=1048576+(hl[1]&1048575),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=(hl[1]&1048575)+512>>10),e|i|n&65535}var Xt=class extends gi{},K1=class extends Xt{setValue(e,i){this._values.set(e,gh(i))}},W1=class extends Xt{setValue(e,i){this._values.set(e,i)}},q1=class extends Xt{setValue(e,i){this._values.set(e,i)}};var ay={};Ua(ay,{BN:()=>ur,bignumToBigInt:()=>ml,bignumToString:()=>Qr,isArrowBigNumSymbol:()=>aM});var aM=Symbol.for("isArrowBigNum");function Yn(a,...e){return e.length===0?Object.setPrototypeOf(We(this.TypedArray,a),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(a,...e),this.constructor.prototype)}Yn.prototype[aM]=!0;Yn.prototype.toJSON=function(){return`"${Qr(this)}"`};Yn.prototype.valueOf=function(){return iM(this)};Yn.prototype.toString=function(){return Qr(this)};Yn.prototype[Symbol.toPrimitive]=function(a="default"){switch(a){case"number":return iM(this);case"string":return Qr(this);case"default":return ml(this)}return Qr(this)};function dl(...a){return Yn.apply(this,a)}function cl(...a){return Yn.apply(this,a)}function Ah(...a){return Yn.apply(this,a)}Object.setPrototypeOf(dl.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(cl.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Ah.prototype,Object.create(Uint32Array.prototype));Object.assign(dl.prototype,Yn.prototype,{constructor:dl,signed:!0,TypedArray:Int32Array,BigIntArray:Wn});Object.assign(cl.prototype,Yn.prototype,{constructor:cl,signed:!1,TypedArray:Uint32Array,BigIntArray:Zo});Object.assign(Ah.prototype,Yn.prototype,{constructor:Ah,signed:!0,TypedArray:Uint32Array,BigIntArray:Zo});function iM(a){let{buffer:e,byteOffset:i,length:n,signed:o}=a,r=new Int32Array(e,i,n),t=0,s=0,h=r.length,d,f;for(;s<h;)f=r[s++],d=r[s++],o||(d=d>>>0),t+=(f>>>0)+d*s**32;return t}var Qr,ml;Nr?(ml=a=>a.byteLength===8?new a.BigIntArray(a.buffer,a.byteOffset,1)[0]:ey(a),Qr=a=>a.byteLength===8?`${new a.BigIntArray(a.buffer,a.byteOffset,1)[0]}`:ey(a)):(Qr=ey,ml=Qr);function ey(a){let e="",i=new Uint32Array(2),n=new Uint16Array(a.buffer,a.byteOffset,a.byteLength/2),o=new Uint32Array((n=new Uint16Array(n).reverse()).buffer),r=-1,t=n.length-1;do{for(i[0]=n[r=0];r<t;)n[r++]=i[1]=i[0]/10,i[0]=(i[0]-i[1]*10<<16)+n[r];n[r]=i[1]=i[0]/10,i[0]=i[0]-i[1]*10,e=`${i[0]}${e}`}while(o[0]||o[1]||o[2]||o[3]);return e||"0"}var ur=class{static new(e,i){switch(i){case!0:return new dl(e);case!1:return new cl(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case Wn:return new dl(e)}return e.byteLength===16?new Ah(e):new cl(e)}static signed(e){return new dl(e)}static unsigned(e){return new cl(e)}static decimal(e){return new Ah(e)}constructor(e,i){return ur.new(e,i)}};var Hn=class extends gi{setValue(e,i){this._values.set(e,i)}},V1=class extends Hn{},O1=class extends Hn{},Z1=class extends Hn{},U1=class extends Hn{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(_1));super(e);this._values=new D1(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(_1(e))}},Y1=class extends Hn{},X1=class extends Hn{},Q1=class extends Hn{},$1=class extends Hn{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(_1));super(e);this._values=new D1(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(_1(e))}},_1=(a=>e=>(ArrayBuffer.isView(e)&&(a.buffer=e.buffer,a.byteOffset=e.byteOffset,a.byteLength=e.byteLength,e=ml(a),a.buffer=null),e))({BigIntArray:Wn});var $r=class extends gi{},em=class extends $r{},am=class extends $r{},im=class extends $r{},nm=class extends $r{};var _r=class extends gi{},om=class extends _r{},rm=class extends _r{},tm=class extends _r{},sm=class extends _r{};var gl=class extends gi{},lm=class extends gl{},um=class extends gl{};var Al=class extends lr{constructor(e){super(e);this._values=new Yr(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,i){return super.setValue(e,Re(i))}_flushPending(e,i){let n=this._offsets,o=this._values.reserve(i).buffer,r=0,t=0,s=0,h;for([r,h]of e)h===void 0?n.set(r,0):(t=h.length,o.set(h,s),n.set(r,t),s+=t)}};var Qt=class extends lr{constructor(e){super(e);this._values=new Yr(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,i){return super.setValue(e,Fr(i))}_flushPending(e,i){}};Qt.prototype._flushPending=Al.prototype._flushPending;var vh=class{get length(){return this._values.length}get(e){return this._values[e]}clear(){return this._values=null,this}bind(e){return e instanceof ve?e:(this._values=e,this)}};var $e=class{constructor(e=[],i,n){this.fields=e||[],this.metadata=i||new Map,n||(n=iy(e)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map((e,i)=>`${i}: ${e}`).join(", ")} }>`}select(...e){let i=e.reduce((n,o)=>(n[o]=!0)&&n,Object.create(null));return new $e(this.fields.filter(n=>i[n.name]),this.metadata)}selectAt(...e){return new $e(e.map(i=>this.fields[i]).filter(Boolean),this.metadata)}assign(...e){let i=e[0]instanceof $e?e[0]:Array.isArray(e[0])?new $e(e[0]):new $e(e),n=[...this.fields],o=hm(hm(new Map,this.metadata),i.metadata),r=i.fields.filter(s=>{let h=n.findIndex(d=>d.name===s.name);return~h?(n[h]=s.clone({metadata:hm(hm(new Map,n[h].metadata),s.metadata)}))&&!1:!0}),t=iy(r,new Map);return new $e([...n,...r],o,new Map([...this.dictionaries,...t]))}},Ee=class{static new(...e){let[i,n,o,r]=e;return e[0]&&typeof e[0]=="object"&&({name:i}=e[0],n===void 0&&(n=e[0].type),o===void 0&&(o=e[0].nullable),r===void 0&&(r=e[0].metadata)),new Ee(`${i}`,n,o,r)}constructor(e,i,n=!1,o){this.name=e,this.type=i,this.nullable=n,this.metadata=o||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[i,n,o,r]=e;return!e[0]||typeof e[0]!="object"?[i=this.name,n=this.type,o=this.nullable,r=this.metadata]=e:{name:i=this.name,type:n=this.type,nullable:o=this.nullable,metadata:r=this.metadata}=e[0],Ee.new(i,n,o,r)}};function hm(a,e){return new Map([...a||new Map,...e||new Map])}function iy(a,e=new Map){for(let i=-1,n=a.length;++i<n;){let r=a[i].type;if(Ce.isDictionary(r)){if(!e.has(r.id))e.set(r.id,r.dictionary);else if(e.get(r.id)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}r.children&&r.children.length>0&&iy(r.children,e)}return e}$e.prototype.fields=null;$e.prototype.metadata=null;$e.prototype.dictionaries=null;Ee.prototype.type=null;Ee.prototype.name=null;Ee.prototype.nullable=null;Ee.prototype.metadata=null;var dm=class extends lr{constructor(e){super(e);this._run=new vh;this._offsets=new mh}addChild(e,i="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new Un(new Ee(i,e.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(e){let i=this._run,n=this._offsets,o=this._setValue,r=0,t;for([r,t]of e)t===void 0?n.set(r,0):(n.set(r,t.length),o(this,r,i.bind(t)))}};var cm=class extends Ye{constructor(){super(...arguments);this._run=new vh}setValue(e,i){super.setValue(e,this._run.bind(i))}addChild(e,i="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let n=this.children.push(e);return this.type=new tr(this.type.listSize,new Ee(i,e.type,!0)),n}clear(){return this._run.clear(),super.clear()}};var mm=class extends lr{set(e,i){return super.set(e,i)}setValue(e,i){i=i instanceof Map?i:new Map(Object.entries(i));let n=this._pending||(this._pending=new Map),o=n.get(e);o&&(this._pendingLength-=o.size),this._pendingLength+=i.size,n.set(e,i)}addChild(e,i=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new sr(new Ee(i,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let i=this._offsets,n=this._setValue;e.forEach((o,r)=>{o===void 0?i.set(r,0):(i.set(r,o.size),n(this,r,o))})}};var gm=class extends Ye{addChild(e,i=`${this.numChildren}`){let n=this.children.push(e);return this.type=new mi([...this.type.children,new Ee(i,e.type,!0)]),n}};var vl=class extends Ye{constructor(e){super(e);this._typeIds=new Xr(new Int8Array(0),1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,i){return this.set(this.length,e,i)}set(e,i,n){return n===void 0&&(n=this._valueToChildTypeId(this,i,e)),this.setValid(e,this.isValid(i))&&this.setValue(e,i,n),this}setValue(e,i,n){this._typeIds.set(e,n),super.setValue(e,i)}addChild(e,i=`${this.children.length}`){let n=this.children.push(e),{type:{children:o,mode:r,typeIds:t}}=this,s=[...o,new Ee(i,e.type)];return this.type=new rr(r,[...t,n],s),n}_valueToChildTypeId(e,i,n){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}},Am=class extends vl{},vm=class extends vl{constructor(e){super(e);this._offsets=new Xr(new Int32Array(0))}setValue(e,i,n){let o=this.type.typeIdToChildIndex[n];return this._offsets.set(e,this.getChildAt(o).length),super.setValue(e,i,n)}};var Se=class{visitMany(e,...i){return e.map((n,o)=>this.visit(n,...i.map(r=>r[o])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,i=!0){return BI(this,e,i)}visitNull(e,...i){return null}visitBool(e,...i){return null}visitInt(e,...i){return null}visitFloat(e,...i){return null}visitUtf8(e,...i){return null}visitBinary(e,...i){return null}visitFixedSizeBinary(e,...i){return null}visitDate(e,...i){return null}visitTimestamp(e,...i){return null}visitTime(e,...i){return null}visitDecimal(e,...i){return null}visitList(e,...i){return null}visitStruct(e,...i){return null}visitUnion(e,...i){return null}visitDictionary(e,...i){return null}visitInterval(e,...i){return null}visitFixedSizeList(e,...i){return null}visitMap(e,...i){return null}};function BI(a,e,i=!0){let n=null,o=G.NONE;switch(e instanceof ne||e instanceof ve?o=ny(e.type):e instanceof Ce?o=ny(e):typeof(o=e)!="number"&&(o=G[e]),o){case G.Null:n=a.visitNull;break;case G.Bool:n=a.visitBool;break;case G.Int:n=a.visitInt;break;case G.Int8:n=a.visitInt8||a.visitInt;break;case G.Int16:n=a.visitInt16||a.visitInt;break;case G.Int32:n=a.visitInt32||a.visitInt;break;case G.Int64:n=a.visitInt64||a.visitInt;break;case G.Uint8:n=a.visitUint8||a.visitInt;break;case G.Uint16:n=a.visitUint16||a.visitInt;break;case G.Uint32:n=a.visitUint32||a.visitInt;break;case G.Uint64:n=a.visitUint64||a.visitInt;break;case G.Float:n=a.visitFloat;break;case G.Float16:n=a.visitFloat16||a.visitFloat;break;case G.Float32:n=a.visitFloat32||a.visitFloat;break;case G.Float64:n=a.visitFloat64||a.visitFloat;break;case G.Utf8:n=a.visitUtf8;break;case G.Binary:n=a.visitBinary;break;case G.FixedSizeBinary:n=a.visitFixedSizeBinary;break;case G.Date:n=a.visitDate;break;case G.DateDay:n=a.visitDateDay||a.visitDate;break;case G.DateMillisecond:n=a.visitDateMillisecond||a.visitDate;break;case G.Timestamp:n=a.visitTimestamp;break;case G.TimestampSecond:n=a.visitTimestampSecond||a.visitTimestamp;break;case G.TimestampMillisecond:n=a.visitTimestampMillisecond||a.visitTimestamp;break;case G.TimestampMicrosecond:n=a.visitTimestampMicrosecond||a.visitTimestamp;break;case G.TimestampNanosecond:n=a.visitTimestampNanosecond||a.visitTimestamp;break;case G.Time:n=a.visitTime;break;case G.TimeSecond:n=a.visitTimeSecond||a.visitTime;break;case G.TimeMillisecond:n=a.visitTimeMillisecond||a.visitTime;break;case G.TimeMicrosecond:n=a.visitTimeMicrosecond||a.visitTime;break;case G.TimeNanosecond:n=a.visitTimeNanosecond||a.visitTime;break;case G.Decimal:n=a.visitDecimal;break;case G.List:n=a.visitList;break;case G.Struct:n=a.visitStruct;break;case G.Union:n=a.visitUnion;break;case G.DenseUnion:n=a.visitDenseUnion||a.visitUnion;break;case G.SparseUnion:n=a.visitSparseUnion||a.visitUnion;break;case G.Dictionary:n=a.visitDictionary;break;case G.Interval:n=a.visitInterval;break;case G.IntervalDayTime:n=a.visitIntervalDayTime||a.visitInterval;break;case G.IntervalYearMonth:n=a.visitIntervalYearMonth||a.visitInterval;break;case G.FixedSizeList:n=a.visitFixedSizeList;break;case G.Map:n=a.visitMap;break}if(typeof n=="function")return n;if(!i)return()=>null;throw new Error(`Unrecognized type '${G[o]}'`)}function ny(a){switch(a.typeId){case G.Null:return G.Null;case G.Int:{let{bitWidth:e,isSigned:i}=a;switch(e){case 8:return i?G.Int8:G.Uint8;case 16:return i?G.Int16:G.Uint16;case 32:return i?G.Int32:G.Uint32;case 64:return i?G.Int64:G.Uint64}return G.Int}case G.Float:switch(a.precision){case Pa.HALF:return G.Float16;case Pa.SINGLE:return G.Float32;case Pa.DOUBLE:return G.Float64}return G.Float;case G.Binary:return G.Binary;case G.Utf8:return G.Utf8;case G.Bool:return G.Bool;case G.Decimal:return G.Decimal;case G.Time:switch(a.unit){case Ne.SECOND:return G.TimeSecond;case Ne.MILLISECOND:return G.TimeMillisecond;case Ne.MICROSECOND:return G.TimeMicrosecond;case Ne.NANOSECOND:return G.TimeNanosecond}return G.Time;case G.Timestamp:switch(a.unit){case Ne.SECOND:return G.TimestampSecond;case Ne.MILLISECOND:return G.TimestampMillisecond;case Ne.MICROSECOND:return G.TimestampMicrosecond;case Ne.NANOSECOND:return G.TimestampNanosecond}return G.Timestamp;case G.Date:switch(a.unit){case ja.DAY:return G.DateDay;case ja.MILLISECOND:return G.DateMillisecond}return G.Date;case G.Interval:switch(a.unit){case ui.DAY_TIME:return G.IntervalDayTime;case ui.YEAR_MONTH:return G.IntervalYearMonth}return G.Interval;case G.Map:return G.Map;case G.List:return G.List;case G.Struct:return G.Struct;case G.Union:switch(a.mode){case Ta.Dense:return G.DenseUnion;case Ta.Sparse:return G.SparseUnion}return G.Union;case G.FixedSizeBinary:return G.FixedSizeBinary;case G.FixedSizeList:return G.FixedSizeList;case G.Dictionary:return G.Dictionary}throw new Error(`Unrecognized type '${G[a.typeId]}'`)}Se.prototype.visitInt8=null;Se.prototype.visitInt16=null;Se.prototype.visitInt32=null;Se.prototype.visitInt64=null;Se.prototype.visitUint8=null;Se.prototype.visitUint16=null;Se.prototype.visitUint32=null;Se.prototype.visitUint64=null;Se.prototype.visitFloat16=null;Se.prototype.visitFloat32=null;Se.prototype.visitFloat64=null;Se.prototype.visitDateDay=null;Se.prototype.visitDateMillisecond=null;Se.prototype.visitTimestampSecond=null;Se.prototype.visitTimestampMillisecond=null;Se.prototype.visitTimestampMicrosecond=null;Se.prototype.visitTimestampNanosecond=null;Se.prototype.visitTimeSecond=null;Se.prototype.visitTimeMillisecond=null;Se.prototype.visitTimeMicrosecond=null;Se.prototype.visitTimeNanosecond=null;Se.prototype.visitDenseUnion=null;Se.prototype.visitSparseUnion=null;Se.prototype.visitIntervalDayTime=null;Se.prototype.visitIntervalYearMonth=null;var Fe=class extends Se{},SI=(a,e,i)=>{a[e]=i/864e5|0},oy=(a,e,i)=>{a[e]=i%4294967296|0,a[e+1]=i/4294967296|0},zI=(a,e,i)=>{a[e]=i*1e3%4294967296|0,a[e+1]=i*1e3/4294967296|0},wI=(a,e,i)=>{a[e]=i*1e6%4294967296|0,a[e+1]=i*1e6/4294967296|0},nM=(a,e,i,n)=>{let{[i]:o,[i+1]:r}=e;o!=null&&r!=null&&a.set(n.subarray(0,r-o),o)},MI=({offset:a,values:e},i,n)=>{let o=a+i;n?e[o>>3]|=1<<o%8:e[o>>3]&=~(1<<o%8)},oM=({values:a},e,i)=>{SI(a,e,i.valueOf())},rM=({values:a},e,i)=>{oy(a,e*2,i.valueOf())},Bo=({stride:a,values:e},i,n)=>{e[a*i]=n},tM=({stride:a,values:e},i,n)=>{e[a*i]=gh(n)},ry=(a,e,i)=>{switch(typeof i){case"bigint":a.values64[e]=i;break;case"number":a.values[e*a.stride]=i;break;default:{let n=i,{stride:o,ArrayType:r}=a,t=We(r,n);a.values.set(t.subarray(0,o),o*e)}}},CI=({stride:a,values:e},i,n)=>{e.set(n.subarray(0,a),a*i)},TI=({values:a,valueOffsets:e},i,n)=>nM(a,e,i,n),PI=({values:a,valueOffsets:e},i,n)=>{nM(a,e,i,Fr(n))},jI=(a,e,i)=>{a.type.bitWidth<64?Bo(a,e,i):ry(a,e,i)},RI=(a,e,i)=>{a.type.precision!==Pa.HALF?Bo(a,e,i):tM(a,e,i)},LI=(a,e,i)=>{a.type.unit===ja.DAY?oM(a,e,i):rM(a,e,i)},sM=({values:a},e,i)=>oy(a,e*2,i/1e3),lM=({values:a},e,i)=>oy(a,e*2,i),uM=({values:a},e,i)=>zI(a,e*2,i),hM=({values:a},e,i)=>wI(a,e*2,i),JI=(a,e,i)=>{switch(a.type.unit){case Ne.SECOND:return sM(a,e,i);case Ne.MILLISECOND:return lM(a,e,i);case Ne.MICROSECOND:return uM(a,e,i);case Ne.NANOSECOND:return hM(a,e,i)}},dM=({values:a,stride:e},i,n)=>{a[e*i]=n},cM=({values:a,stride:e},i,n)=>{a[e*i]=n},mM=({values:a},e,i)=>{a.set(i.subarray(0,2),2*e)},gM=({values:a},e,i)=>{a.set(i.subarray(0,2),2*e)},DI=(a,e,i)=>{switch(a.type.unit){case Ne.SECOND:return dM(a,e,i);case Ne.MILLISECOND:return cM(a,e,i);case Ne.MICROSECOND:return mM(a,e,i);case Ne.NANOSECOND:return gM(a,e,i)}},HI=({values:a},e,i)=>{a.set(i.subarray(0,4),4*e)},GI=(a,e,i)=>{let n=a.getChildAt(0),o=a.valueOffsets;for(let r=-1,t=o[e],s=o[e+1];t<s;)n.set(t++,i.get(++r))},II=(a,e,i)=>{let n=a.getChildAt(0),o=a.valueOffsets,r=i instanceof Map?[...i]:Object.entries(i);for(let t=-1,s=o[e],h=o[e+1];s<h;)n.set(s++,r[++t])},EI=(a,e)=>(i,n,o)=>i?.set(a,e[o]),FI=(a,e)=>(i,n,o)=>i?.set(a,e.get(o)),NI=(a,e)=>(i,n,o)=>i?.set(a,e.get(n.name)),xI=(a,e)=>(i,n,o)=>i?.set(a,e[n.name]),KI=(a,e,i)=>{let n=i instanceof Map?NI(e,i):i instanceof ve?FI(e,i):Array.isArray(i)?EI(e,i):xI(e,i);a.type.children.forEach((o,r)=>n(a.getChildAt(r),o,r))},WI=(a,e,i)=>{a.type.mode===Ta.Dense?AM(a,e,i):vM(a,e,i)},AM=(a,e,i)=>{let n=a.typeIdToChildIndex[a.typeIds[e]],o=a.getChildAt(n);o&&o.set(a.valueOffsets[e],i)},vM=(a,e,i)=>{let n=a.typeIdToChildIndex[a.typeIds[e]],o=a.getChildAt(n);o&&o.set(e,i)},qI=(a,e,i)=>{let n=a.getKey(e);n!==null&&a.setValue(n,i)},VI=(a,e,i)=>{a.type.unit===ui.DAY_TIME?pM(a,e,i):fM(a,e,i)},pM=({values:a},e,i)=>{a.set(i.subarray(0,2),2*e)},fM=({values:a},e,i)=>{a[e]=i[0]*12+i[1]%12},OI=(a,e,i)=>{let n=a.getChildAt(0),{stride:o}=a;for(let r=-1,t=e*o;++r<o;)n.set(t+r,i.get(r))};Fe.prototype.visitBool=MI;Fe.prototype.visitInt=jI;Fe.prototype.visitInt8=Bo;Fe.prototype.visitInt16=Bo;Fe.prototype.visitInt32=Bo;Fe.prototype.visitInt64=ry;Fe.prototype.visitUint8=Bo;Fe.prototype.visitUint16=Bo;Fe.prototype.visitUint32=Bo;Fe.prototype.visitUint64=ry;Fe.prototype.visitFloat=RI;Fe.prototype.visitFloat16=tM;Fe.prototype.visitFloat32=Bo;Fe.prototype.visitFloat64=Bo;Fe.prototype.visitUtf8=PI;Fe.prototype.visitBinary=TI;Fe.prototype.visitFixedSizeBinary=CI;Fe.prototype.visitDate=LI;Fe.prototype.visitDateDay=oM;Fe.prototype.visitDateMillisecond=rM;Fe.prototype.visitTimestamp=JI;Fe.prototype.visitTimestampSecond=sM;Fe.prototype.visitTimestampMillisecond=lM;Fe.prototype.visitTimestampMicrosecond=uM;Fe.prototype.visitTimestampNanosecond=hM;Fe.prototype.visitTime=DI;Fe.prototype.visitTimeSecond=dM;Fe.prototype.visitTimeMillisecond=cM;Fe.prototype.visitTimeMicrosecond=mM;Fe.prototype.visitTimeNanosecond=gM;Fe.prototype.visitDecimal=HI;Fe.prototype.visitList=GI;Fe.prototype.visitStruct=KI;Fe.prototype.visitUnion=WI;Fe.prototype.visitDenseUnion=AM;Fe.prototype.visitSparseUnion=vM;Fe.prototype.visitDictionary=qI;Fe.prototype.visitInterval=VI;Fe.prototype.visitIntervalDayTime=pM;Fe.prototype.visitIntervalYearMonth=fM;Fe.prototype.visitFixedSizeList=OI;Fe.prototype.visitMap=II;var pl=new Fe;var yM=class extends Se{visitNull(){return G1}visitBool(){return H1}visitInt(){return Hn}visitInt8(){return V1}visitInt16(){return O1}visitInt32(){return Z1}visitInt64(){return U1}visitUint8(){return Y1}visitUint16(){return X1}visitUint32(){return Q1}visitUint64(){return $1}visitFloat(){return Xt}visitFloat16(){return K1}visitFloat32(){return W1}visitFloat64(){return q1}visitUtf8(){return Qt}visitBinary(){return Al}visitFixedSizeBinary(){return x1}visitDate(){return ul}visitDateDay(){return I1}visitDateMillisecond(){return E1}visitTimestamp(){return _r}visitTimestampSecond(){return om}visitTimestampMillisecond(){return rm}visitTimestampMicrosecond(){return tm}visitTimestampNanosecond(){return sm}visitTime(){return $r}visitTimeSecond(){return em}visitTimeMillisecond(){return am}visitTimeMicrosecond(){return im}visitTimeNanosecond(){return nm}visitDecimal(){return F1}visitList(){return dm}visitStruct(){return gm}visitUnion(){return vl}visitDenseUnion(){return vm}visitSparseUnion(){return Am}visitDictionary(){return N1}visitInterval(){return gl}visitIntervalDayTime(){return lm}visitIntervalYearMonth(){return um}visitFixedSizeList(){return cm}visitMap(){return mm}},ty=new yM;Ye.new=kM;function kM(a){let e=a.type,i=new(ty.getVisitFn(e)())(a);if(e.children&&e.children.length>0){let n=a.children||[],o={nullValues:a.nullValues},r=Array.isArray(n)?(t,s)=>n[s]||o:({name:t})=>n[t]||o;e.children.forEach((t,s)=>{let{type:h}=t,d=r(t,s);i.children.push(kM({...d,type:h}))})}return i}Object.keys(G).map(a=>G[a]).filter(a=>typeof a=="number"&&a!==G.NONE).forEach(a=>{let e=ty.visit(a);e.prototype._setValue=pl.getVisitFn(a)});Qt.prototype._setValue=pl.visitBinary;var Da=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsFooter(e,i){return(i||new Da).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,i){return e.setPosition(e.position()+E.SIZE_PREFIX_LENGTH),(i||new Da).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):za.V1}schema(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new Ja).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}dictionaries(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new ph).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,i){let n=this.bb.__offset(this.bb_pos,10);return n?(i||new ph).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,12);return n?(i||new Ra).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,i){e.addFieldInt16(0,i,za.V1)}static addSchema(e,i){e.addFieldOffset(1,i,0)}static addDictionaries(e,i){e.addFieldOffset(2,i,0)}static startDictionariesVector(e,i){e.startVector(24,i,8)}static addRecordBatches(e,i){e.addFieldOffset(3,i,0)}static startRecordBatchesVector(e,i){e.startVector(24,i,8)}static addCustomMetadata(e,i){e.addFieldOffset(4,i,0)}static createCustomMetadataVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startCustomMetadataVector(e,i){e.startVector(4,i,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,i){e.finish(i)}static finishSizePrefixedFooterBuffer(e,i){e.finish(i,void 0,!0)}static createFooter(e,i,n,o,r,t){return Da.startFooter(e),Da.addVersion(e,i),Da.addSchema(e,n),Da.addDictionaries(e,o),Da.addRecordBatches(e,r),Da.addCustomMetadata(e,t),Da.endFooter(e)}},ph=class{constructor(){this.bb=null;this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(e,i,n,o){return e.prep(8,24),e.writeInt64(o),e.pad(4),e.writeInt32(n),e.writeInt64(i),e.offset()}};var bM=E.Long,ZI=E.Builder,UI=E.ByteBuffer,et=class{constructor(e,i=za.V4,n,o){this.schema=e;this.version=i;n&&(this._recordBatches=n),o&&(this._dictionaryBatches=o)}static decode(e){e=new UI(Re(e));let i=Da.getRootAsFooter(e),n=$e.decode(i.schema());return new BM(n,i)}static encode(e){let i=new ZI,n=$e.encode(i,e.schema);Da.startRecordBatchesVector(i,e.numRecordBatches),[...e.recordBatches()].slice().reverse().forEach(t=>So.encode(i,t));let o=i.endVector();Da.startDictionariesVector(i,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse().forEach(t=>So.encode(i,t));let r=i.endVector();return Da.startFooter(i),Da.addSchema(i,n),Da.addVersion(i,za.V4),Da.addRecordBatches(i,o),Da.addDictionaries(i,r),Da.finishFooterBuffer(i,Da.endFooter(i)),i.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,i=-1,n=this.numRecordBatches;++i<n;)(e=this.getRecordBatch(i))&&(yield e)}*dictionaryBatches(){for(let e,i=-1,n=this.numDictionaries;++i<n;)(e=this.getDictionaryBatch(i))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};var BM=class extends et{constructor(e,i){super(e,i.version());this._footer=i}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let i=this._footer.recordBatches(e);if(i)return So.decode(i)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let i=this._footer.dictionaries(e);if(i)return So.decode(i)}return null}},So=class{static decode(e){return new So(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,i){let{metaDataLength:n}=i,o=new bM(i.offset,0),r=new bM(i.bodyLength,0);return ph.createBlock(e,o,n,r)}constructor(e,i,n){this.metaDataLength=e,this.offset=typeof n=="number"?n:n.low,this.bodyLength=typeof i=="number"?i:i.low}};var hr=class extends k9{write(e){if((e=Re(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?th(this.toUint8Array(!0)):this.toUint8Array(!1).then(th)}toUint8Array(e=!1){return e?tn(this._values)[0]:(async()=>{let i=[],n=0;for await(let o of this)i.push(o),n+=o.byteLength;return tn(i,n)[0]})()}},dr=class{constructor(e){e&&(this.source=new SM(li.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}},gn=class{constructor(e){e instanceof gn?this.source=e.source:e instanceof hr?this.source=new at(li.fromAsyncIterable(e)):z1(e)?this.source=new at(li.fromNodeStream(e)):sh(e)?this.source=new at(li.fromDOMStream(e)):S1(e)?this.source=new at(li.fromDOMStream(e.body)):qa(e)?this.source=new at(li.fromIterable(e)):rn(e)?this.source=new at(li.fromAsyncIterable(e)):zi(e)&&(this.source=new at(li.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}},SM=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,i="read"){return this.source.next({cmd:i,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||fa)}return(e){return Object.create(this.source.return&&this.source.return(e)||fa)}},at=class{constructor(e){this.source=e;this._closedPromise=new Promise(i=>this._closedPromiseResolve=i)}async cancel(e){await this.return(e)}get closed(){return this._closedPromise}async read(e){return(await this.next(e,"read")).value}async peek(e){return(await this.next(e,"peek")).value}async next(e,i="read"){return await this.source.next({cmd:i,size:e})}async throw(e){let i=this.source.throw&&await this.source.throw(e)||fa;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(i)}async return(e){let i=this.source.return&&await this.source.return(e)||fa;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(i)}};var pm=class extends dr{constructor(e,i){super();this.position=0;this.buffer=Re(e),this.size=typeof i=="undefined"?this.buffer.byteLength:i}readInt32(e){let{buffer:i,byteOffset:n}=this.readAt(e,4);return new DataView(i,n).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:i,size:n,position:o}=this;return i&&o<n?(typeof e!="number"&&(e=1/0),this.position=Math.min(n,o+Math.min(n-o,e)),i.subarray(o,this.position)):null}readAt(e,i){let n=this.buffer,o=Math.min(this.size,e+i);return n?n.subarray(e,o):new Uint8Array(i)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}},$t=class extends gn{constructor(e,i){super();this.position=0;this._handle=e,typeof i=="number"?this.size=i:this._pending=(async()=>{this.size=(await e.stat()).size,delete this._pending})()}async readInt32(e){let{buffer:i,byteOffset:n}=await this.readAt(e,4);return new DataView(i,n).getInt32(0,!0)}async seek(e){return this._pending&&await this._pending,this.position=Math.min(e,this.size),e<this.size}async read(e){this._pending&&await this._pending;let{_handle:i,size:n,position:o}=this;if(i&&o<n){typeof e!="number"&&(e=1/0);let r=o,t=0,s=0,h=Math.min(n,r+Math.min(n-r,e)),d=new Uint8Array(Math.max(0,(this.position=h)-r));for(;(r+=s)<h&&(t+=s)<d.byteLength;)({bytesRead:s}=await i.read(d,t,d.byteLength-t,r));return d}return null}async readAt(e,i){this._pending&&await this._pending;let{_handle:n,size:o}=this;if(n&&e+i<o){let r=Math.min(o,e+i),t=new Uint8Array(r-e);return(await n.read(t,0,i,e)).buffer}return new Uint8Array(i)}async close(){let e=this._handle;this._handle=null,e&&await e.close()}async throw(e){return await this.close(),{done:!0,value:e}}async return(e){return await this.close(),{done:!0,value:e}}};var ly={};Ua(ly,{BaseInt64:()=>fm,Int128:()=>An,Int64:()=>Ai,Uint64:()=>la});var YI=1<<16;function fl(a){return a<0&&(a=4294967295+a+1),`0x${a.toString(16)}`}var yl=8,sy=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],fm=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let i=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),o=i[3]*n[3];this.buffer[0]=o&65535;let r=o>>>16;return o=i[2]*n[3],r+=o,o=i[3]*n[2]>>>0,r+=o,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<o?YI:0,this.buffer[1]+=r>>>16,this.buffer[1]+=i[1]*n[3]+i[2]*n[2]+i[3]*n[1],this.buffer[1]+=i[0]*n[3]+i[1]*n[2]+i[2]*n[1]+i[3]*n[0]<<16,this}_plus(e){let i=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],i<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=i}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${fl(this.buffer[1])} ${fl(this.buffer[0])}`}},la=class extends fm{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,i=new Uint32Array(2)){return la.fromString(typeof e=="string"?e:e.toString(),i)}static fromNumber(e,i=new Uint32Array(2)){return la.fromString(e.toString(),i)}static fromString(e,i=new Uint32Array(2)){let n=e.length,o=new la(i);for(let r=0;r<n;){let t=yl<n-r?yl:n-r,s=new la(new Uint32Array([parseInt(e.substr(r,t),10),0])),h=new la(new Uint32Array([sy[t],0]));o.times(h),o.plus(s),r+=t}return o}static convertArray(e){let i=new Uint32Array(e.length*2);for(let n=-1,o=e.length;++n<o;)la.from(e[n],new Uint32Array(i.buffer,i.byteOffset+2*n*4,2));return i}static multiply(e,i){return new la(new Uint32Array(e.buffer)).times(i)}static add(e,i){return new la(new Uint32Array(e.buffer)).plus(i)}},Ai=class extends fm{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let i=this.buffer[1]<<0,n=e.buffer[1]<<0;return i<n||i===n&&this.buffer[0]<e.buffer[0]}static from(e,i=new Uint32Array(2)){return Ai.fromString(typeof e=="string"?e:e.toString(),i)}static fromNumber(e,i=new Uint32Array(2)){return Ai.fromString(e.toString(),i)}static fromString(e,i=new Uint32Array(2)){let n=e.startsWith("-"),o=e.length,r=new Ai(i);for(let t=n?1:0;t<o;){let s=yl<o-t?yl:o-t,h=new Ai(new Uint32Array([parseInt(e.substr(t,s),10),0])),d=new Ai(new Uint32Array([sy[s],0]));r.times(d),r.plus(h),t+=s}return n?r.negate():r}static convertArray(e){let i=new Uint32Array(e.length*2);for(let n=-1,o=e.length;++n<o;)Ai.from(e[n],new Uint32Array(i.buffer,i.byteOffset+2*n*4,2));return i}static multiply(e,i){return new Ai(new Uint32Array(e.buffer)).times(i)}static add(e,i){return new Ai(new Uint32Array(e.buffer)).plus(i)}},An=class{constructor(e){this.buffer=e}high(){return new Ai(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Ai(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let i=new la(new Uint32Array([this.buffer[3],0])),n=new la(new Uint32Array([this.buffer[2],0])),o=new la(new Uint32Array([this.buffer[1],0])),r=new la(new Uint32Array([this.buffer[0],0])),t=new la(new Uint32Array([e.buffer[3],0])),s=new la(new Uint32Array([e.buffer[2],0])),h=new la(new Uint32Array([e.buffer[1],0])),d=new la(new Uint32Array([e.buffer[0],0])),f=la.multiply(r,d);this.buffer[0]=f.low();let b=new la(new Uint32Array([f.high(),0]));return f=la.multiply(o,d),b.plus(f),f=la.multiply(r,h),b.plus(f),this.buffer[1]=b.low(),this.buffer[3]=b.lessThan(f)?1:0,this.buffer[2]=b.high(),new la(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(la.multiply(n,d)).plus(la.multiply(o,h)).plus(la.multiply(r,s)),this.buffer[3]+=la.multiply(i,d).plus(la.multiply(n,h)).plus(la.multiply(o,s)).plus(la.multiply(r,t)).low(),this}plus(e){let i=new Uint32Array(4);return i[3]=this.buffer[3]+e.buffer[3]>>>0,i[2]=this.buffer[2]+e.buffer[2]>>>0,i[1]=this.buffer[1]+e.buffer[1]>>>0,i[0]=this.buffer[0]+e.buffer[0]>>>0,i[0]<this.buffer[0]>>>0&&++i[1],i[1]<this.buffer[1]>>>0&&++i[2],i[2]<this.buffer[2]>>>0&&++i[3],this.buffer[3]=i[3],this.buffer[2]=i[2],this.buffer[1]=i[1],this.buffer[0]=i[0],this}hex(){return`${fl(this.buffer[3])} ${fl(this.buffer[2])} ${fl(this.buffer[1])} ${fl(this.buffer[0])}`}static multiply(e,i){return new An(new Uint32Array(e.buffer)).times(i)}static add(e,i){return new An(new Uint32Array(e.buffer)).plus(i)}static from(e,i=new Uint32Array(4)){return An.fromString(typeof e=="string"?e:e.toString(),i)}static fromNumber(e,i=new Uint32Array(4)){return An.fromString(e.toString(),i)}static fromString(e,i=new Uint32Array(4)){let n=e.startsWith("-"),o=e.length,r=new An(i);for(let t=n?1:0;t<o;){let s=yl<o-t?yl:o-t,h=new An(new Uint32Array([parseInt(e.substr(t,s),10),0,0,0])),d=new An(new Uint32Array([sy[s],0,0,0]));r.times(d),r.plus(h),t+=s}return n?r.negate():r}static convertArray(e){let i=new Uint32Array(e.length*4);for(let n=-1,o=e.length;++n<o;)An.from(e[n],new Uint32Array(i.buffer,i.byteOffset+4*4*n,4));return i}};var ym=class extends Se{constructor(e,i,n,o){super();this.nodesIndex=-1;this.buffersIndex=-1;this.bytes=e,this.nodes=i,this.buffers=n,this.dictionaries=o}visit(e){return super.visit(e instanceof Ee?e.type:e)}visitNull(e,{length:i}=this.nextFieldNode()){return ne.Null(e,0,i)}visitBool(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Bool(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitInt(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Int(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitFloat(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Float(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitUtf8(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Utf8(e,0,i,n,this.readNullBitmap(e,n),this.readOffsets(e),this.readData(e))}visitBinary(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Binary(e,0,i,n,this.readNullBitmap(e,n),this.readOffsets(e),this.readData(e))}visitFixedSizeBinary(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.FixedSizeBinary(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitDate(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Date(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitTimestamp(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Timestamp(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitTime(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Time(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitDecimal(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Decimal(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitList(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.List(e,0,i,n,this.readNullBitmap(e,n),this.readOffsets(e),this.visit(e.children[0]))}visitStruct(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Struct(e,0,i,n,this.readNullBitmap(e,n),this.visitMany(e.children))}visitUnion(e){return e.mode===Ta.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Union(e,0,i,n,this.readNullBitmap(e,n),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}visitSparseUnion(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Union(e,0,i,n,this.readNullBitmap(e,n),this.readTypeIds(e),this.visitMany(e.children))}visitDictionary(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Dictionary(e,0,i,n,this.readNullBitmap(e,n),this.readData(e.indices),this.readDictionary(e))}visitInterval(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Interval(e,0,i,n,this.readNullBitmap(e,n),this.readData(e))}visitFixedSizeList(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.FixedSizeList(e,0,i,n,this.readNullBitmap(e,n),this.visit(e.children[0]))}visitMap(e,{length:i,nullCount:n}=this.nextFieldNode()){return ne.Map(e,0,i,n,this.readNullBitmap(e,n),this.readOffsets(e),this.visit(e.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,i,n=this.nextBufferRange()){return i>0&&this.readData(e,n)||new Uint8Array(0)}readOffsets(e,i){return this.readData(e,i)}readTypeIds(e,i){return this.readData(e,i)}readData(e,{length:i,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+i)}readDictionary(e){return this.dictionaries.get(e.id)}},uy=class extends ym{constructor(e,i,n,o){super(new Uint8Array(0),i,n,o);this.sources=e}readNullBitmap(e,i,{offset:n}=this.nextBufferRange()){return i<=0?new Uint8Array(0):Kt(this.sources[n])}readOffsets(e,{offset:i}=this.nextBufferRange()){return We(Uint8Array,We(Int32Array,this.sources[i]))}readTypeIds(e,{offset:i}=this.nextBufferRange()){return We(Uint8Array,We(e.ArrayType,this.sources[i]))}readData(e,{offset:i}=this.nextBufferRange()){let{sources:n}=this;return Ce.isTimestamp(e)?We(Uint8Array,Ai.convertArray(n[i])):(Ce.isInt(e)||Ce.isTime(e))&&e.bitWidth===64?We(Uint8Array,Ai.convertArray(n[i])):Ce.isDate(e)&&e.unit===ja.MILLISECOND?We(Uint8Array,Ai.convertArray(n[i])):Ce.isDecimal(e)?We(Uint8Array,An.convertArray(n[i])):Ce.isBinary(e)||Ce.isFixedSizeBinary(e)?XI(n[i]):Ce.isBool(e)?Kt(n[i]):Ce.isUtf8(e)?Fr(n[i].join("")):We(Uint8Array,We(e.ArrayType,n[i].map(o=>+o)))}};function XI(a){let e=a.join(""),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=parseInt(e.substr(n,2),16);return i}var cy={};Ua(cy,{clampIndex:()=>$I,clampRange:()=>kh,createElementComparator:()=>it});var ai=Symbol.for("parent"),_t=Symbol.for("rowIndex"),Xi=Symbol.for("keyToIdx"),Qi=Symbol.for("idxToVal"),hy=Symbol.for("nodejs.util.inspect.custom"),Qpe,dy=class{constructor(e,i){this[ai]=e,this.size=i}entries(){return this[Symbol.iterator]()}has(e){return this.get(e)!==void 0}get(e){let i;if(e!=null){let n=this[Xi]||(this[Xi]=new Map),o=n.get(e);if(o!==void 0){let r=this[Qi]||(this[Qi]=new Array(this.size));(i=r[o])!==void 0||(r[o]=i=this.getValue(o))}else if((o=this.getIndex(e))>-1){n.set(e,o);let r=this[Qi]||(this[Qi]=new Array(this.size));(i=r[o])!==void 0||(r[o]=i=this.getValue(o))}}return i}set(e,i){if(e!=null){let n=this[Xi]||(this[Xi]=new Map),o=n.get(e);if(o===void 0&&n.set(e,o=this.getIndex(e)),o>-1){let r=this[Qi]||(this[Qi]=new Array(this.size));r[o]=this.setValue(o,i)}}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(e){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[(Symbol.toStringTag,_t,ai,Xi,Qi,Symbol.iterator)](){let e=this.keys(),i=this.values(),n=this[Xi]||(this[Xi]=new Map),o=this[Qi]||(this[Qi]=new Array(this.size));for(let r,t,s=0,h,d;!((h=e.next()).done||(d=i.next()).done);++s)r=h.value,t=d.value,o[s]=t,n.has(r)||n.set(r,s),yield[r,t]}forEach(e,i){let n=this.keys(),o=this.values(),r=i===void 0?e:(h,d,f)=>e.call(i,h,d,f),t=this[Xi]||(this[Xi]=new Map),s=this[Qi]||(this[Qi]=new Array(this.size));for(let h,d,f=0,b,S;!((b=n.next()).done||(S=o.next()).done);++f)h=b.value,d=S.value,s[f]=d,t.has(h)||t.set(h,f),r(d,h,this)}toArray(){return[...this.values()]}toJSON(){let e={};return this.forEach((i,n)=>e[n]=i),e}inspect(){return this.toString()}[hy](){return this.toString()}toString(){let e=[];return this.forEach((i,n)=>{n=Yt(n),i=Yt(i),e.push(`${n}: ${i}`)}),`{ ${e.join(", ")} }`}},cr=dy;Qpe=Symbol.toStringTag,cr[Qpe]=(e=>(Object.defineProperties(e,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[ai]:{writable:!0,enumerable:!1,configurable:!1,value:null},[_t]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),e[Symbol.toStringTag]="Row"))(dy.prototype);var fh=class extends cr{constructor(e){super(e,e.length);return QI(this)}keys(){return this[ai].getChildAt(0)[Symbol.iterator]()}values(){return this[ai].getChildAt(1)[Symbol.iterator]()}getKey(e){return this[ai].getChildAt(0).get(e)}getIndex(e){return this[ai].getChildAt(0).indexOf(e)}getValue(e){return this[ai].getChildAt(1).get(e)}setValue(e,i){this[ai].getChildAt(1).set(e,i)}},yh=class extends cr{constructor(e){super(e,e.type.children.length);return zM(this)}*keys(){for(let e of this[ai].type.children)yield e.name}*values(){for(let e of this[ai].type.children)yield this[e.name]}getKey(e){return this[ai].type.children[e].name}getIndex(e){return this[ai].type.children.findIndex(i=>i.name===e)}getValue(e){return this[ai].getChildAt(e).get(this[_t])}setValue(e,i){return this[ai].getChildAt(e).set(this[_t],i)}};Object.setPrototypeOf(cr.prototype,Map.prototype);var zM=(()=>{let a={enumerable:!0,configurable:!1,get:null,set:null};return e=>{let i=-1,n=e[Xi]||(e[Xi]=new Map),o=t=>function(){return this.get(t)},r=t=>function(s){return this.set(t,s)};for(let t of e.keys())n.set(t,++i),a.get=o(t),a.set=r(t),Object.prototype.hasOwnProperty.call(e,t)||(a.enumerable=!0,Object.defineProperty(e,t,a)),Object.prototype.hasOwnProperty.call(e,i)||(a.enumerable=!1,Object.defineProperty(e,i,a));return a.get=a.set=null,e}})(),QI=(()=>{if(typeof Proxy=="undefined")return zM;let a=cr.prototype.has,e=cr.prototype.get,i=cr.prototype.set,n=cr.prototype.getKey,o={isExtensible(){return!1},deleteProperty(){return!1},preventExtensions(){return!0},ownKeys(r){return[...r.keys()].map(t=>`${t}`)},has(r,t){switch(t){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case ai:case _t:case Qi:case Xi:case hy:return!0}return typeof t=="number"&&!r.has(t)&&(t=r.getKey(t)),r.has(t)},get(r,t,s){switch(t){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case ai:case _t:case Qi:case Xi:case hy:return Reflect.get(r,t,s)}return typeof t=="number"&&!a.call(s,t)&&(t=n.call(s,t)),e.call(s,t)},set(r,t,s,h){switch(t){case ai:case _t:case Qi:case Xi:return Reflect.set(r,t,s,h);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return typeof t=="number"&&!a.call(h,t)&&(t=n.call(h,t)),a.call(h,t)?!!i.call(h,t,s):!1}};return r=>new Proxy(r,o)})();function $I(a,e,i){let n=a.length,o=e>-1?e:n+e%n;return i?i(a,o):o}var wM;function kh(a,e,i,n){let{length:o=0}=a,r=typeof e!="number"?0:e,t=typeof i!="number"?o:i;return r<0&&(r=(r%o+o)%o),t<0&&(t=(t%o+o)%o),t<r&&(wM=r,r=t,t=wM),t>o&&(t=o),n?n(a,r,t):[r,t]}var _I=Nr?qw(0):0,MM=a=>a!==a;function it(a){let e=typeof a;if(e!=="object"||a===null)return MM(a)?MM:e!=="bigint"?i=>i===a:i=>_I+i===a;if(a instanceof Date){let i=a.valueOf();return n=>n instanceof Date?n.valueOf()===i:!1}return ArrayBuffer.isView(a)?i=>i?C9(a,i):!1:a instanceof Map?aE(a):Array.isArray(a)?eE(a):a instanceof ve?iE(a):nE(a)}function eE(a){let e=[];for(let i=-1,n=a.length;++i<n;)e[i]=it(a[i]);return km(e)}function aE(a){let e=-1,i=[];return a.forEach(n=>i[++e]=it(n)),km(i)}function iE(a){let e=[];for(let i=-1,n=a.length;++i<n;)e[i]=it(a.get(i));return km(e)}function nE(a){let e=Object.keys(a);if(e.length===0)return()=>!1;let i=[];for(let n=-1,o=e.length;++n<o;)i[n]=it(a[e[n]]);return km(i,e)}function km(a,e){return i=>{if(!i||typeof i!="object")return!1;switch(i.constructor){case Array:return oE(a,i);case Map:case fh:case yh:return CM(a,i,i.keys());case Object:case void 0:return CM(a,i,e||Object.keys(i))}return i instanceof ve?rE(a,i):!1}}function oE(a,e){let i=a.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!a[n](e[n]))return!1;return!0}function rE(a,e){let i=a.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!a[n](e.get(n)))return!1;return!0}function CM(a,e,i){let n=i[Symbol.iterator](),o=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),r=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),t=0,s=a.length,h=r.next(),d=n.next(),f=o.next();for(;t<s&&!d.done&&!f.done&&!h.done&&!(d.value!==f.value||!a[t](h.value));++t,d=n.next(),f=o.next(),h=r.next());return t===s&&d.done&&f.done&&h.done?!0:(n.return&&n.return(),o.return&&o.return(),r.return&&r.return(),!1)}var es=Array.isArray;function my(a){return ArrayBuffer.isView(a)&&"BYTES_PER_ELEMENT"in a}function tE(a){switch(a){case Int8Array:return Kr;case Int16Array:return Wr;case Int32Array:return Yi;case BigInt64Array:return Vn;case Uint8Array:return qr;case Uint16Array:return Vr;case Uint32Array:return Or;case BigUint64Array:return On;case Float32Array:return Zr;case Float64Array:return Ur;default:return null}}function sE(a){let e=tE(a.constructor);if(!e)throw new TypeError("Unrecognized Array input");let i=new e,n=ne.new(i,0,a.length,0,[void 0,a]);return ve.new(n)}var TM=(a,e)=>gy(a,e,[],0),PM=a=>{let[e,i]=vy(a,[[],[]]);return i.map((n,o)=>n instanceof Ti?Ti.new(n.field.clone(e[o]),n):n instanceof ve?Ti.new(e[o],n):my(n)?Ti.new(e[o],sE(n)):Ti.new(e[o],[]))},jM=a=>vy(a,[[],[]]),RM=(a,e)=>Ay(a,e,[],0),LM=(a,e)=>JM(a,e,[],0);function gy(a,e,i,n){let o,r=n,t=-1,s=e.length;for(;++t<s;)es(o=e[t])?r=gy(a,o,i,r).length:o instanceof a&&(i[r++]=o);return i}function Ay(a,e,i,n){let o,r=n,t=-1,s=e.length;for(;++t<s;)es(o=e[t])?r=Ay(a,o,i,r).length:o instanceof Aa?r=Ay(a,o.chunks,i,r).length:o instanceof a&&(i[r++]=o);return i}function JM(a,e,i,n){let o,r=n,t=-1,s=e.length;for(;++t<s;)es(o=e[t])?r=JM(a,o,i,r).length:o instanceof a?r=gy(ve,o.schema.fields.map((h,d)=>o.getChildAt(d)),i,r).length:o instanceof ve&&(i[r++]=o);return i}var lE=(a,[e,i],n)=>(a[0][n]=e,a[1][n]=i,a);function vy(a,e){let i,n;switch(n=a.length){case 0:return e;case 1:if(i=e[0],!a[0])return e;if(es(a[0]))return vy(a[0],e);a[0]instanceof ne||a[0]instanceof ve||my(a[0])||a[0]instanceof Ce||([i,a]=Object.entries(a[0]).reduce(lE,e));break;default:es(i=a[n-1])?a=es(a[0])?a[0]:a.slice(0,n-1):(a=es(a[0])?a[0]:a,i=[])}let o=-1,r=-1,t=-1,s=a.length,h,d,[f,b]=e;for(;++t<s;)d=a[t],d instanceof Ti&&(b[++r]=d)?f[++o]=d.field.clone(i[t],d.type,!0):({[t]:h=t}=i,d instanceof Ce&&(b[++r]=d)?f[++o]=Ee.new(h,d,!0):d?.type&&(b[++r]=d)&&(d instanceof ne&&(b[r]=d=ve.new(d)),f[++o]=Ee.new(h,d.type,!0)));return e}var DM=class{constructor(e){this.chunks=e;this.chunkIndex=0;this.chunkIterator=this.getChunkIterator()}next(){for(;this.chunkIndex<this.chunks.length;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.chunks.length&&(this.chunkIterator=this.getChunkIterator())}return{done:!0,value:null}}getChunkIterator(){return this.chunks[this.chunkIndex][Symbol.iterator]()}[Symbol.iterator](){return this}},Aa=class extends ve{constructor(e,i=[],n=uE(i)){super();this._nullCount=-1;this._type=e,this._chunks=i,this._chunkOffsets=n,this._length=n[n.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...e){return RM(ve,e)}static concat(...e){let i=Aa.flatten(...e);return new Aa(i[0].type,i)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce((e,i)=>e+i.byteLength,0)}get nullCount(){let e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce((i,{nullCount:n})=>i+n,0)),e}get indices(){if(Ce.isDictionary(this._type)){if(!this._indices){let e=this._chunks;this._indices=e.length===1?e[0].indices:Aa.concat(...e.map(i=>i.indices))}return this._indices}return null}get dictionary(){return Ce.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}[Symbol.iterator](){return new DM(this._chunks)}clone(e=this._chunks){return new Aa(this._type,e)}concat(...e){return this.clone(Aa.flatten(this,...e))}slice(e,i){return kh(this,e,i,this._sliceInternal)}getChildAt(e){if(e<0||e>=this._numChildren)return null;let i=this._children||(this._children=[]),n,o,r;return(n=i[e])?n:(o=(this._type.children||[])[e])&&(r=this._chunks.map(t=>t.getChildAt(e)).filter(t=>t!=null),r.length>0)?i[e]=new Aa(o.type,r):null}search(e,i){let n=e,o=this._chunkOffsets,r=o.length-1;if(n<0||n>=o[r])return null;if(r<=1)return i?i(this,0,n):[0,n];let t=0,s=0,h=0;do{if(t+1===r)return i?i(this,t,n-s):[t,n-s];h=t+(r-t)/2|0,n>=o[h]?t=h:r=h}while(n<o[r]&&n>=(s=o[t]));return null}isValid(e){return!!this.search(e,this.isValidInternal)}get(e){return this.search(e,this.getInternal)}set(e,i){this.search(e,({chunks:n},o,r)=>n[o].set(r,i))}indexOf(e,i){return i&&typeof i=="number"?this.search(i,(n,o,r)=>this.indexOfInternal(n,o,r,e)):this.indexOfInternal(this,0,Math.max(0,i||0),e)}toArray(){let{chunks:e}=this,i=e.length,n=this._type.ArrayType;if(i<=0)return new n(0);if(i<=1)return e[0].toArray();let o=0,r=new Array(i);for(let h=-1;++h<i;)o+=(r[h]=e[h].toArray()).length;n!==r[0].constructor&&(n=r[0].constructor);let t=new n(o),s=n===Array?dE:hE;for(let h=-1,d=0;++h<i;)d=s(r[h],t,d);return t}getInternal({_chunks:e},i,n){return e[i].get(n)}isValidInternal({_chunks:e},i,n){return e[i].isValid(n)}indexOfInternal({_chunks:e},i,n,o){let r=i-1,t=e.length,s=n,h=0,d=-1;for(;++r<t;){if(~(d=e[r].indexOf(o,s)))return h+d;s=0,h+=e[r].length}return-1}_sliceInternal(e,i,n){let o=[],{chunks:r,_chunkOffsets:t}=e;for(let s=-1,h=r.length;++s<h;){let d=r[s],f=d.length,b=t[s];if(b>=n)break;if(i>=b+f)continue;if(b>=i&&b+f<=n){o.push(d);continue}let S=Math.max(0,i-b),T=Math.min(n-b,f);o.push(d.slice(S,T))}return e.clone(o)}};function uE(a){let e=new Uint32Array((a||[]).length+1),i=e[0]=0,n=e.length;for(let o=0;++o<n;)e[o]=i+=a[o-1].length;return e}var hE=(a,e,i)=>(e.set(a,i),i+a.length),dE=(a,e,i)=>{let n=i;for(let o=-1,r=a.length;++o<r;)e[n++]=a[o];return n};var Ti=class extends Aa{static new(...e){let[i,n,...o]=e;typeof i!="string"&&!(i instanceof Ee)&&(n=i,i="");let r=Aa.flatten(Array.isArray(n)?[...n,...o]:n instanceof ve?[n,...o]:[ve.new(n,...o)]);if(typeof i=="string"){let t=r[0].data.type;i=new Ee(i,t,!0)}else!i.nullable&&r.some(({nullCount:t})=>t>0)&&(i=i.clone({nullable:!0}));return new Ti(i,r)}constructor(e,i=[],n){i=Aa.flatten(...i);super(e.type,i,n);if(this._field=e,i.length===1&&!(this instanceof py))return new py(e,i[0],this._chunkOffsets)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(e=this._chunks){return new Ti(this._field,e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let i=this._children||(this._children=[]),n,o,r;return(n=i[e])?n:(o=(this.type.children||[])[e])&&(r=this._chunks.map(t=>t.getChildAt(e)).filter(t=>t!=null),r.length>0)?i[e]=new Ti(o,r):null}},py=class extends Ti{constructor(e,i,n){super(e,[i],n);this._chunk=i}search(e,i){return i?i(this,0,e):[0,e]}isValid(e){return this._chunk.isValid(e)}get(e){return this._chunk.get(e)}set(e,i){this._chunk.set(e,i)}indexOf(e,i){return this._chunk.indexOf(e,i)}};var cE=E.Long,Sfe=E.Builder,HM=class extends Se{visit(e,i){return e==null||i==null?void 0:super.visit(e,i)}visitNull(e,i){return Uo.startNull(i),Uo.endNull(i)}visitInt(e,i){return wi.startInt(i),wi.addBitWidth(i,e.bitWidth),wi.addIsSigned(i,e.isSigned),wi.endInt(i)}visitFloat(e,i){return un.startFloatingPoint(i),un.addPrecision(i,e.precision),un.endFloatingPoint(i)}visitBinary(e,i){return $o.startBinary(i),$o.endBinary(i)}visitBool(e,i){return _o.startBool(i),_o.endBool(i)}visitUtf8(e,i){return Qo.startUtf8(i),Qo.endUtf8(i)}visitDecimal(e,i){return Mi.startDecimal(i),Mi.addScale(i,e.scale),Mi.addPrecision(i,e.precision),Mi.endDecimal(i)}visitDate(e,i){return dn.startDate(i),dn.addUnit(i,e.unit),dn.endDate(i)}visitTime(e,i){return Ii.startTime(i),Ii.addUnit(i,e.unit),Ii.addBitWidth(i,e.bitWidth),Ii.endTime(i)}visitTimestamp(e,i){let n=e.timezone&&i.createString(e.timezone)||void 0;return Ei.startTimestamp(i),Ei.addUnit(i,e.unit),n!==void 0&&Ei.addTimezone(i,n),Ei.endTimestamp(i)}visitInterval(e,i){return cn.startInterval(i),cn.addUnit(i,e.unit),cn.endInterval(i)}visitList(e,i){return Xo.startList(i),Xo.endList(i)}visitStruct(e,i){return Yo.startStruct_(i),Yo.endStruct_(i)}visitUnion(e,i){hi.startTypeIdsVector(i,e.typeIds.length);let n=hi.createTypeIdsVector(i,e.typeIds);return hi.startUnion(i),hi.addMode(i,e.mode),hi.addTypeIds(i,n),hi.endUnion(i)}visitDictionary(e,i){let n=this.visit(e.indices,i);return di.startDictionaryEncoding(i),di.addId(i,new cE(e.id,0)),di.addIsOrdered(i,e.isOrdered),n!==void 0&&di.addIndexType(i,n),di.endDictionaryEncoding(i)}visitFixedSizeBinary(e,i){return hn.startFixedSizeBinary(i),hn.addByteWidth(i,e.byteWidth),hn.endFixedSizeBinary(i)}visitFixedSizeList(e,i){return sn.startFixedSizeList(i),sn.addListSize(i,e.listSize),sn.endFixedSizeList(i)}visitMap(e,i){return ln.startMap(i),ln.addKeysSorted(i,e.keysSorted),ln.endMap(i)}},bm=new HM;function GM(a,e=new Map){return new $e(mE(a,e),Bm(a.customMetadata),e)}function fy(a){return new Pi(a.count,FM(a.columns),NM(a.columns))}function IM(a){return new vn(fy(a.data),a.id,a.isDelta)}function mE(a,e){return(a.fields||[]).filter(Boolean).map(i=>Ee.fromJSON(i,e))}function EM(a,e){return(a.children||[]).filter(Boolean).map(i=>Ee.fromJSON(i,e))}function FM(a){return(a||[]).reduce((e,i)=>[...e,new zo(i.count,gE(i.VALIDITY)),...FM(i.children)],[])}function NM(a,e=[]){for(let i=-1,n=(a||[]).length;++i<n;){let o=a[i];o.VALIDITY&&e.push(new pn(e.length,o.VALIDITY.length)),o.TYPE&&e.push(new pn(e.length,o.TYPE.length)),o.OFFSET&&e.push(new pn(e.length,o.OFFSET.length)),o.DATA&&e.push(new pn(e.length,o.DATA.length)),e=NM(o.children,e)}return e}function gE(a){return(a||[]).reduce((e,i)=>e+ +(i===0),0)}function xM(a,e){let i,n,o,r,t,s;return!e||!(r=a.dictionary)?(t=WM(a,EM(a,e)),o=new Ee(a.name,t,a.nullable,Bm(a.customMetadata))):e.has(i=r.id)?(n=(n=r.indexType)?KM(n):new Yi,s=new mn(e.get(i),n,i,r.isOrdered),o=new Ee(a.name,s,a.nullable,Bm(a.customMetadata))):(n=(n=r.indexType)?KM(n):new Yi,e.set(i,t=WM(a,EM(a,e))),s=new mn(t,n,i,r.isOrdered),o=new Ee(a.name,s,a.nullable,Bm(a.customMetadata))),o||null}function Bm(a){return new Map(Object.entries(a||{}))}function KM(a){return new ci(a.isSigned,a.bitWidth)}function WM(a,e){let i=a.type.name;switch(i){case"NONE":return new ar;case"null":return new ar;case"binary":return new ir;case"utf8":return new Zn;case"bool":return new nr;case"list":return new Un((e||[])[0]);case"struct":return new mi(e||[]);case"struct_":return new mi(e||[])}switch(i){case"int":{let n=a.type;return new ci(n.isSigned,n.bitWidth)}case"floatingpoint":{let n=a.type;return new bo(Pa[n.precision])}case"decimal":{let n=a.type;return new qt(n.scale,n.precision)}case"date":{let n=a.type;return new or(ja[n.unit])}case"time":{let n=a.type;return new Vt(Ne[n.unit],n.bitWidth)}case"timestamp":{let n=a.type;return new Ot(Ne[n.unit],n.timezone)}case"interval":{let n=a.type;return new Zt(ui[n.unit])}case"union":{let n=a.type;return new rr(Ta[n.mode],n.typeIds||[],e||[])}case"fixedsizebinary":{let n=a.type;return new Ut(n.byteWidth)}case"fixedsizelist":{let n=a.type;return new tr(n.listSize,(e||[])[0])}case"map":{let n=a.type;return new sr((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}var as=E.Long,AE=E.Builder,vE=E.ByteBuffer,Va=class{static fromJSON(e,i){let n=new Va(0,za.V4,i);return n._createHeader=pE(e,i),n}static decode(e){e=new vE(Re(e));let i=Fa.getRootAsMessage(e),n=i.bodyLength(),o=i.version(),r=i.headerType(),t=new Va(n,o,r);return t._createHeader=fE(i,r),t}static encode(e){let i=new AE,n=-1;return e.isSchema()?n=$e.encode(i,e.header()):e.isRecordBatch()?n=Pi.encode(i,e.header()):e.isDictionaryBatch()&&(n=vn.encode(i,e.header())),Fa.startMessage(i),Fa.addVersion(i,za.V4),Fa.addHeader(i,n),Fa.addHeaderType(i,e.headerType),Fa.addBodyLength(i,new as(e.bodyLength,0)),Fa.finishMessageBuffer(i,Fa.endMessage(i)),i.asUint8Array()}static from(e,i=0){if(e instanceof $e)return new Va(0,za.V4,Ue.Schema,e);if(e instanceof Pi)return new Va(i,za.V4,Ue.RecordBatch,e);if(e instanceof vn)return new Va(i,za.V4,Ue.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ue.Schema}isRecordBatch(){return this.headerType===Ue.RecordBatch}isDictionaryBatch(){return this.headerType===Ue.DictionaryBatch}constructor(e,i,n,o){this._version=i,this._headerType=n,this.body=new Uint8Array(0),o&&(this._createHeader=()=>o),this._bodyLength=typeof e=="number"?e:e.low}},Pi=class{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,i,n){this._nodes=i,this._buffers=n,this._length=typeof e=="number"?e:e.low}},vn=class{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,i,n=!1){this._data=e,this._isDelta=n,this._id=typeof i=="number"?i:i.low}},pn=class{constructor(e,i){this.offset=typeof e=="number"?e:e.low,this.length=typeof i=="number"?i:i.low}},zo=class{constructor(e,i){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof i=="number"?i:i.low}};function pE(a,e){return()=>{switch(e){case Ue.Schema:return $e.fromJSON(a);case Ue.RecordBatch:return Pi.fromJSON(a);case Ue.DictionaryBatch:return vn.fromJSON(a)}throw new Error(`Unrecognized Message type: { name: ${Ue[e]}, type: ${e} }`)}}function fE(a,e){return()=>{switch(e){case Ue.Schema:return $e.decode(a.header(new Ja));case Ue.RecordBatch:return Pi.decode(a.header(new Ea),a.version());case Ue.DictionaryBatch:return vn.decode(a.header(new Ci),a.version())}throw new Error(`Unrecognized Message type: { name: ${Ue[e]}, type: ${e} }`)}}Ee.encode=PE;Ee.decode=CE;Ee.fromJSON=xM;$e.encode=TE;$e.decode=yE;$e.fromJSON=GM;Pi.encode=jE;Pi.decode=kE;Pi.fromJSON=fy;vn.encode=RE;vn.decode=bE;vn.fromJSON=IM;zo.encode=LE;zo.decode=SE;pn.encode=JE;pn.decode=BE;function yE(a,e=new Map){let i=ME(a,e);return new $e(i,Sm(a),e)}function kE(a,e=za.V4){return new Pi(a.length(),zE(a),wE(a,e))}function bE(a,e=za.V4){return new vn(Pi.decode(a.data(),e),a.id(),a.isDelta())}function BE(a){return new pn(a.offset(),a.length())}function SE(a){return new zo(a.length(),a.nullCount())}function zE(a){let e=[];for(let i,n=-1,o=-1,r=a.nodesLength();++n<r;)(i=a.nodes(n))&&(e[++o]=zo.decode(i));return e}function wE(a,e){let i=[];for(let n,o=-1,r=-1,t=a.buffersLength();++o<t;)(n=a.buffers(o))&&(e<za.V4&&(n.bb_pos+=8*(o+1)),i[++r]=pn.decode(n));return i}function ME(a,e){let i=[];for(let n,o=-1,r=-1,t=a.fieldsLength();++o<t;)(n=a.fields(o))&&(i[++r]=Ee.decode(n,e));return i}function qM(a,e){let i=[];for(let n,o=-1,r=-1,t=a.childrenLength();++o<t;)(n=a.children(o))&&(i[++r]=Ee.decode(n,e));return i}function CE(a,e){let i,n,o,r,t,s;return!e||!(s=a.dictionary())?(o=OM(a,qM(a,e)),n=new Ee(a.name(),o,a.nullable(),Sm(a))):e.has(i=s.id().low)?(r=(r=s.indexType())?VM(r):new Yi,t=new mn(e.get(i),r,i,s.isOrdered()),n=new Ee(a.name(),t,a.nullable(),Sm(a))):(r=(r=s.indexType())?VM(r):new Yi,e.set(i,o=OM(a,qM(a,e))),t=new mn(o,r,i,s.isOrdered()),n=new Ee(a.name(),t,a.nullable(),Sm(a))),n||null}function Sm(a){let e=new Map;if(a)for(let i,n,o=-1,r=a.customMetadataLength()|0;++o<r;)(i=a.customMetadata(o))&&(n=i.key())!=null&&e.set(n,i.value());return e}function VM(a){return new ci(a.isSigned(),a.bitWidth())}function OM(a,e){let i=a.typeType();switch(i){case wa.NONE:return new ar;case wa.Null:return new ar;case wa.Binary:return new ir;case wa.Utf8:return new Zn;case wa.Bool:return new nr;case wa.List:return new Un((e||[])[0]);case wa.Struct_:return new mi(e||[])}switch(i){case wa.Int:{let n=a.type(new wi);return new ci(n.isSigned(),n.bitWidth())}case wa.FloatingPoint:{let n=a.type(new un);return new bo(n.precision())}case wa.Decimal:{let n=a.type(new Mi);return new qt(n.scale(),n.precision())}case wa.Date:{let n=a.type(new dn);return new or(n.unit())}case wa.Time:{let n=a.type(new Ii);return new Vt(n.unit(),n.bitWidth())}case wa.Timestamp:{let n=a.type(new Ei);return new Ot(n.unit(),n.timezone())}case wa.Interval:{let n=a.type(new cn);return new Zt(n.unit())}case wa.Union:{let n=a.type(new hi);return new rr(n.mode(),n.typeIdsArray()||[],e||[])}case wa.FixedSizeBinary:{let n=a.type(new hn);return new Ut(n.byteWidth())}case wa.FixedSizeList:{let n=a.type(new sn);return new tr(n.listSize(),(e||[])[0])}case wa.Map:{let n=a.type(new ln);return new sr((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${wa[i]}" (${i})`)}function TE(a,e){let i=e.fields.map(r=>Ee.encode(a,r));Ja.startFieldsVector(a,i.length);let n=Ja.createFieldsVector(a,i),o=e.metadata&&e.metadata.size>0?Ja.createCustomMetadataVector(a,[...e.metadata].map(([r,t])=>{let s=a.createString(`${r}`),h=a.createString(`${t}`);return Ra.startKeyValue(a),Ra.addKey(a,s),Ra.addValue(a,h),Ra.endKeyValue(a)})):-1;return Ja.startSchema(a),Ja.addFields(a,n),Ja.addEndianness(a,DE?xt.Little:xt.Big),o!==-1&&Ja.addCustomMetadata(a,o),Ja.endSchema(a)}function PE(a,e){let i=-1,n=-1,o=-1,r=e.type,t=e.typeId;Ce.isDictionary(r)?(t=r.dictionary.typeId,o=bm.visit(r,a),n=bm.visit(r.dictionary,a)):n=bm.visit(r,a);let s=(r.children||[]).map(f=>Ee.encode(a,f)),h=ga.createChildrenVector(a,s),d=e.metadata&&e.metadata.size>0?ga.createCustomMetadataVector(a,[...e.metadata].map(([f,b])=>{let S=a.createString(`${f}`),T=a.createString(`${b}`);return Ra.startKeyValue(a),Ra.addKey(a,S),Ra.addValue(a,T),Ra.endKeyValue(a)})):-1;return e.name&&(i=a.createString(e.name)),ga.startField(a),ga.addType(a,n),ga.addTypeType(a,t),ga.addChildren(a,h),ga.addNullable(a,!!e.nullable),i!==-1&&ga.addName(a,i),o!==-1&&ga.addDictionary(a,o),d!==-1&&ga.addCustomMetadata(a,d),ga.endField(a)}function jE(a,e){let i=e.nodes||[],n=e.buffers||[];Ea.startNodesVector(a,i.length),i.slice().reverse().forEach(t=>zo.encode(a,t));let o=a.endVector();Ea.startBuffersVector(a,n.length),n.slice().reverse().forEach(t=>pn.encode(a,t));let r=a.endVector();return Ea.startRecordBatch(a),Ea.addLength(a,new as(e.length,0)),Ea.addNodes(a,o),Ea.addBuffers(a,r),Ea.endRecordBatch(a)}function RE(a,e){let i=Pi.encode(a,e.data);return Ci.startDictionaryBatch(a),Ci.addId(a,new as(e.id,0)),Ci.addIsDelta(a,e.isDelta),Ci.addData(a,i),Ci.endDictionaryBatch(a)}function LE(a,e){return P1.createFieldNode(a,new as(e.length,0),new as(e.nullCount,0))}function JE(a,e){return uh.createBuffer(a,new as(e.offset,0),new as(e.length,0))}var DE=function(){let a=new ArrayBuffer(2);return new DataView(a).setInt16(0,256,!0),new Int16Array(a)[0]===256}();var ZM=E.ByteBuffer,yy=a=>`Expected ${Ue[a]} Message in stream, but was null or length 0.`,ky=a=>`Header pointer of flatbuffer-encoded ${Ue[a]} Message is null or length 0.`,UM=(a,e)=>`Expected to read ${a} metadata bytes, but only read ${e}.`,YM=(a,e)=>`Expected to read ${a} bytes for message body, but only read ${e}.`,bh=class{constructor(e){this.source=e instanceof dr?e:new dr(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done?fa:e.value===-1&&(e=this.readMetadataLength()).done?fa:(e=this.readMetadata(e.value)).done?fa:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let i;if((i=this.next()).done)return null;if(e!=null&&i.value.headerType!==e)throw new Error(yy(e));return i.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let i=Re(this.source.read(e));if(i.byteLength<e)throw new Error(YM(e,i.byteLength));return i.byteOffset%8==0&&i.byteOffset+i.byteLength<=i.buffer.byteLength?i:i.slice()}readSchema(e=!1){let i=Ue.Schema,o=this.readMessage(i)?.header();if(e&&!o)throw new Error(ky(i));return o}readMetadataLength(){let e=this.source.read(Mm),n=(e&&new ZM(e))?.readInt32(0)||0;return{done:n===0,value:n}}readMetadata(e){let i=this.source.read(e);if(!i)return fa;if(i.byteLength<e)throw new Error(UM(e,i.byteLength));return{done:!1,value:Va.decode(i)}}},zm=class{constructor(e,i){this.source=e instanceof gn?e:B1(e)?new $t(e,i):new gn(e)}[Symbol.asyncIterator](){return this}async next(){let e;return(e=await this.readMetadataLength()).done?fa:e.value===-1&&(e=await this.readMetadataLength()).done?fa:(e=await this.readMetadata(e.value)).done?fa:e}async throw(e){return await this.source.throw(e)}async return(e){return await this.source.return(e)}async readMessage(e){let i;if((i=await this.next()).done)return null;if(e!=null&&i.value.headerType!==e)throw new Error(yy(e));return i.value}async readMessageBody(e){if(e<=0)return new Uint8Array(0);let i=Re(await this.source.read(e));if(i.byteLength<e)throw new Error(YM(e,i.byteLength));return i.byteOffset%8==0&&i.byteOffset+i.byteLength<=i.buffer.byteLength?i:i.slice()}async readSchema(e=!1){let i=Ue.Schema,o=(await this.readMessage(i))?.header();if(e&&!o)throw new Error(ky(i));return o}async readMetadataLength(){let e=await this.source.read(Mm),n=(e&&new ZM(e))?.readInt32(0)||0;return{done:n===0,value:n}}async readMetadata(e){let i=await this.source.read(e);if(!i)return fa;if(i.byteLength<e)throw new Error(UM(e,i.byteLength));return{done:!1,value:Va.decode(i)}}},wm=class extends bh{constructor(e){super(new Uint8Array(0));this._schema=!1;this._body=[];this._batchIndex=0;this._dictionaryIndex=0;this._json=e instanceof y1?e:new y1(e)}next(){let{_json:e}=this;if(!this._schema){this._schema=!0;let i=Va.fromJSON(e.schema,Ue.Schema);return{done:!1,value:i}}if(this._dictionaryIndex<e.dictionaries.length){let i=e.dictionaries[this._dictionaryIndex++];this._body=i.data.columns;let n=Va.fromJSON(i,Ue.DictionaryBatch);return{done:!1,value:n}}if(this._batchIndex<e.batches.length){let i=e.batches[this._batchIndex++];this._body=i.columns;let n=Va.fromJSON(i,Ue.RecordBatch);return{done:!1,value:n}}return this._body=[],fa}readMessageBody(e){return i(this._body);function i(n){return(n||[]).reduce((o,r)=>[...o,...r.VALIDITY&&[r.VALIDITY]||[],...r.TYPE&&[r.TYPE]||[],...r.OFFSET&&[r.OFFSET]||[],...r.DATA&&[r.DATA]||[],...i(r.children)],[])}}readMessage(e){let i;if((i=this.next()).done)return null;if(e!=null&&i.value.headerType!==e)throw new Error(yy(e));return i.value}readSchema(){let e=Ue.Schema,i=this.readMessage(e),n=i?.header();if(!i||!n)throw new Error(ky(e));return n}},Mm=4,by="ARROW1",kl=new Uint8Array(by.length);for(let a=0;a<by.length;a+=1|0)kl[a]=by.charCodeAt(a);function Cm(a,e=0){for(let i=-1,n=kl.length;++i<n;)if(kl[i]!==a[e+i])return!1;return!0}var bl=kl.length,By=bl+Mm,XM=bl*2+Mm;var Le=class extends Se{compareSchemas(e,i){return e===i||i instanceof e.constructor&&this.compareManyFields(e.fields,i.fields)}compareManyFields(e,i){return e===i||Array.isArray(e)&&Array.isArray(i)&&e.length===i.length&&e.every((n,o)=>this.compareFields(n,i[o]))}compareFields(e,i){return e===i||i instanceof e.constructor&&e.name===i.name&&e.nullable===i.nullable&&this.visit(e.type,i.type)}};function $i(a,e){return e instanceof a.constructor}function Bh(a,e){return a===e||$i(a,e)}function mr(a,e){return a===e||$i(a,e)&&a.bitWidth===e.bitWidth&&a.isSigned===e.isSigned}function Tm(a,e){return a===e||$i(a,e)&&a.precision===e.precision}function HE(a,e){return a===e||$i(a,e)&&a.byteWidth===e.byteWidth}function Sy(a,e){return a===e||$i(a,e)&&a.unit===e.unit}function Sh(a,e){return a===e||$i(a,e)&&a.unit===e.unit&&a.timezone===e.timezone}function zh(a,e){return a===e||$i(a,e)&&a.unit===e.unit&&a.bitWidth===e.bitWidth}function GE(a,e){return a===e||$i(a,e)&&a.children.length===e.children.length&&wo.compareManyFields(a.children,e.children)}function IE(a,e){return a===e||$i(a,e)&&a.children.length===e.children.length&&wo.compareManyFields(a.children,e.children)}function zy(a,e){return a===e||$i(a,e)&&a.mode===e.mode&&a.typeIds.every((i,n)=>i===e.typeIds[n])&&wo.compareManyFields(a.children,e.children)}function EE(a,e){return a===e||$i(a,e)&&a.id===e.id&&a.isOrdered===e.isOrdered&&wo.visit(a.indices,e.indices)&&wo.visit(a.dictionary,e.dictionary)}function wy(a,e){return a===e||$i(a,e)&&a.unit===e.unit}function FE(a,e){return a===e||$i(a,e)&&a.listSize===e.listSize&&a.children.length===e.children.length&&wo.compareManyFields(a.children,e.children)}function NE(a,e){return a===e||$i(a,e)&&a.keysSorted===e.keysSorted&&a.children.length===e.children.length&&wo.compareManyFields(a.children,e.children)}Le.prototype.visitNull=Bh;Le.prototype.visitBool=Bh;Le.prototype.visitInt=mr;Le.prototype.visitInt8=mr;Le.prototype.visitInt16=mr;Le.prototype.visitInt32=mr;Le.prototype.visitInt64=mr;Le.prototype.visitUint8=mr;Le.prototype.visitUint16=mr;Le.prototype.visitUint32=mr;Le.prototype.visitUint64=mr;Le.prototype.visitFloat=Tm;Le.prototype.visitFloat16=Tm;Le.prototype.visitFloat32=Tm;Le.prototype.visitFloat64=Tm;Le.prototype.visitUtf8=Bh;Le.prototype.visitBinary=Bh;Le.prototype.visitFixedSizeBinary=HE;Le.prototype.visitDate=Sy;Le.prototype.visitDateDay=Sy;Le.prototype.visitDateMillisecond=Sy;Le.prototype.visitTimestamp=Sh;Le.prototype.visitTimestampSecond=Sh;Le.prototype.visitTimestampMillisecond=Sh;Le.prototype.visitTimestampMicrosecond=Sh;Le.prototype.visitTimestampNanosecond=Sh;Le.prototype.visitTime=zh;Le.prototype.visitTimeSecond=zh;Le.prototype.visitTimeMillisecond=zh;Le.prototype.visitTimeMicrosecond=zh;Le.prototype.visitTimeNanosecond=zh;Le.prototype.visitDecimal=Bh;Le.prototype.visitList=GE;Le.prototype.visitStruct=IE;Le.prototype.visitUnion=zy;Le.prototype.visitDenseUnion=zy;Le.prototype.visitSparseUnion=zy;Le.prototype.visitDictionary=EE;Le.prototype.visitInterval=wy;Le.prototype.visitIntervalDayTime=wy;Le.prototype.visitIntervalYearMonth=wy;Le.prototype.visitFixedSizeList=FE;Le.prototype.visitMap=NE;var wo=new Le;function wh(a,e){return wo.compareSchemas(a,e)}function QM(a,e){return wo.compareFields(a,e)}function $M(a,e){return wo.visit(a,e)}var Ha=class extends Se{constructor(){super();this._byteLength=0;this._nodes=[];this._buffers=[];this._bufferRegions=[]}static assemble(...e){let i=new Ha,n=LM(Na,e),[o=i]=i.visitMany(n);return o}visit(e){if(!Ce.isDictionary(e.type)){let{data:i,length:n,nullCount:o}=e;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Ce.isNull(e.type)||Xn.call(this,o<=0?new Uint8Array(0):ll(i.offset,n,i.nullBitmap)),this.nodes.push(new zo(n,o))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};function Xn(a){let e=a.byteLength+7&~7;return this.buffers.push(a),this.bufferRegions.push(new pn(this._byteLength,e)),this._byteLength+=e,this}function xE(a){let{type:e,length:i,typeIds:n,valueOffsets:o}=a;if(Xn.call(this,n),e.mode===Ta.Sparse)return Cy.call(this,a);if(e.mode===Ta.Dense){if(a.offset<=0)return Xn.call(this,o),Cy.call(this,a);{let r=n.reduce((f,b)=>Math.max(f,b),n[0]),t=new Int32Array(r+1),s=new Int32Array(r+1).fill(-1),h=new Int32Array(i),d=lh(-o[0],i,o);for(let f,b,S=-1;++S<i;)(b=s[f=n[S]])===-1&&(b=s[f]=d[f]),h[S]=d[S]-b,++t[f];Xn.call(this,h);for(let f,b=-1,S=e.children.length;++b<S;)if(f=a.getChildAt(b)){let T=e.typeIds[b],j=Math.min(i,t[T]);this.visit(f.slice(s[T],j))}}}return this}function KE(a){let e;return a.nullCount>=a.length?Xn.call(this,new Uint8Array(0)):(e=a.values)instanceof Uint8Array?Xn.call(this,ll(a.offset,a.length,e)):Xn.call(this,Kt(a))}function nt(a){return Xn.call(this,a.values.subarray(0,a.length*a.stride))}function _M(a){let{length:e,values:i,valueOffsets:n}=a,o=n[0],r=n[e],t=Math.min(r-o,i.byteLength-o);return Xn.call(this,lh(-n[0],e,n)),Xn.call(this,i.subarray(o,o+t)),this}function My(a){let{length:e,valueOffsets:i}=a;return i&&Xn.call(this,lh(i[0],e,i)),this.visit(a.getChildAt(0))}function Cy(a){return this.visitMany(a.type.children.map((e,i)=>a.getChildAt(i)).filter(Boolean))[0]}Ha.prototype.visitBool=KE;Ha.prototype.visitInt=nt;Ha.prototype.visitFloat=nt;Ha.prototype.visitUtf8=_M;Ha.prototype.visitBinary=_M;Ha.prototype.visitFixedSizeBinary=nt;Ha.prototype.visitDate=nt;Ha.prototype.visitTimestamp=nt;Ha.prototype.visitTime=nt;Ha.prototype.visitDecimal=nt;Ha.prototype.visitList=My;Ha.prototype.visitStruct=Cy;Ha.prototype.visitUnion=xE;Ha.prototype.visitInterval=nt;Ha.prototype.visitFixedSizeList=My;Ha.prototype.visitMap=My;var Bl=class extends Kn{constructor(e){super();this._position=0;this._started=!1;this._sink=new hr;this._schema=null;this._dictionaryBlocks=[];this._recordBatchBlocks=[];this._dictionaryDeltaOffsets=new Map;Ui(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,i){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return rn(e)?e.then(i=>this.writeAll(i)):zi(e)?Py(this,e):Ty(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,i=null){return e===this._sink||e instanceof hr?this._sink=e:(this._sink=new hr,e&&Ow(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&Zw(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!i||!wh(i,this._schema))&&(i===null?(this._position=0,this._schema=null):(this._started=!0,this._schema=i,this._writeSchema(i))),this}write(e){let i=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof ua&&!(i=e.schema))return this.finish()&&void 0;if(e instanceof Na&&!(i=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(i&&!wh(i,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,i)}e instanceof Na?e instanceof tt||this._writeRecordBatch(e):e instanceof ua?this.writeAll(e.chunks):qa(e)&&this.writeAll(e)}_writeMessage(e,i=8){let n=i-1,o=Va.encode(e),r=o.byteLength,t=this._writeLegacyIpcFormat?4:8,s=r+t+n&~n,h=s-r-t;return e.headerType===Ue.RecordBatch?this._recordBatchBlocks.push(new So(s,e.bodyLength,this._position)):e.headerType===Ue.DictionaryBatch&&this._dictionaryBlocks.push(new So(s,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-t)),r>0&&this._write(o),this._writePadding(h)}_write(e){if(this._started){let i=Re(e);i&&i.byteLength>0&&(this._sink.write(i),this._position+=i.byteLength)}return this}_writeSchema(e){return this._writeMessage(Va.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(kl)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:i,nodes:n,bufferRegions:o,buffers:r}=Ha.assemble(e),t=new Pi(e.length,n,o),s=Va.from(t,i);return this._writeDictionaries(e)._writeMessage(s)._writeBodyBuffers(r)}_writeDictionaryBatch(e,i,n=!1){this._dictionaryDeltaOffsets.set(i,e.length+(this._dictionaryDeltaOffsets.get(i)||0));let{byteLength:o,nodes:r,bufferRegions:t,buffers:s}=Ha.assemble(e),h=new Pi(e.length,r,t),d=new vn(h,i,n),f=Va.from(d,o);return this._writeMessage(f)._writeBodyBuffers(s)}_writeBodyBuffers(e){let i,n,o;for(let r=-1,t=e.length;++r<t;)(i=e[r])&&(n=i.byteLength)>0&&(this._write(i),(o=(n+7&~7)-n)>0&&this._writePadding(o));return this}_writeDictionaries(e){for(let[i,n]of e.dictionaries){let o=this._dictionaryDeltaOffsets.get(i)||0;if(o===0||(n=n.slice(o)).length>0){let r="chunks"in n?n.chunks:[n];for(let t of r)this._writeDictionaryBatch(t,i,o>0),o+=t.length}}return this}},ot=class extends Bl{static writeAll(e,i){let n=new ot(i);return rn(e)?e.then(o=>n.writeAll(o)):zi(e)?Py(n,e):Ty(n,e)}},rt=class extends Bl{static writeAll(e){let i=new rt;return rn(e)?e.then(n=>i.writeAll(n)):zi(e)?Py(i,e):Ty(i,e)}constructor(){super();this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let i=et.encode(new et(e,za.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(i)._write(Int32Array.of(i.byteLength))._writeMagic()}};function Ty(a,e){let i=e;e instanceof ua&&(i=e.chunks,a.reset(void 0,e.schema));for(let n of i)a.write(n);return a.finish()}async function Py(a,e){for await(let i of e)a.write(i);return a.finish()}var jy=new Uint8Array(0),eC=a=>[jy,jy,new Uint8Array(a),jy];function aC(a,e,i=e.reduce((n,o)=>Math.max(n,o.length),0)){let n,o,r=-1,t=e.length,s=[...a.fields],h=[],d=(i+63&~63)>>3;for(;++r<t;)(n=e[r])&&n.length===i?h[r]=n:((o=s[r]).nullable||(s[r]=s[r].clone({nullable:!0})),h[r]=n?n._changeLengthAndBackfillNullBitmap(i):ne.new(o.type,0,i,i,eC(d)));return[new $e(s),i,h]}function iC(a){return Ry(new $e(a.map(({field:e})=>e)),a)}function Ry(a,e){return WE(a,e.map(i=>i instanceof Aa?i.chunks.map(n=>n.data):[i.data]))}function WE(a,e){let i=[...a.fields],n=[],o={numBatches:e.reduce((b,S)=>Math.max(b,S.length),0)},r=0,t=0,s=-1,h=e.length,d,f=[];for(;o.numBatches-- >0;){for(t=Number.POSITIVE_INFINITY,s=-1;++s<h;)f[s]=d=e[s].shift(),t=Math.min(t,d?d.length:t);isFinite(t)&&(f=qE(i,t,f,e,o),t>0&&(n[r++]=[t,f.slice()]))}return[a=new $e(i,a.metadata),n.map(b=>new Na(a,...b))]}function qE(a,e,i,n,o){let r,t,s=0,h=-1,d=n.length,f=(e+63&~63)>>3;for(;++h<d;)(r=i[h])&&(s=r.length)>=e?s===e?i[h]=r:(i[h]=r.slice(0,e),r=r.slice(e,s-e),o.numBatches=Math.max(o.numBatches,n[h].unshift(r))):((t=a[h]).nullable||(a[h]=t.clone({nullable:!0})),i[h]=r?r._changeLengthAndBackfillNullBitmap(e):ne.new(t.type,0,e,e,eC(f)));return i}var Te=class extends ve{constructor(e,i){super();this._children=i,this.numChildren=e.childData.length,this._bindDataAccessors(this.data=e)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${G[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(e,i=this._children){return ve.new(e,i)}concat(...e){return Aa.concat(this,...e)}slice(e,i){return kh(this,e,i,this._sliceInternal)}isValid(e){if(this.nullCount>0){let i=this.offset+e;return(this.nullBitmap[i>>3]&1<<i%8)!==0}return!0}getChildAt(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=ve.new(this.data.childData[e]))}toJSON(){return[...this]}_sliceInternal(e,i,n){return e.clone(e.data.slice(i,n-i),null)}_bindDataAccessors(e){}};Te.prototype[Symbol.isConcatSpreadable]=!0;var Pm=class extends Te{asUtf8(){return ve.new(this.data.clone(new Zn))}};var jm=class extends Te{static from(e){return fn(()=>new nr,e)}};var Sl=class extends Te{static from(...e){return e.length===2?fn(()=>e[1]===ja.DAY?new L1:new dh,e[0]):fn(()=>new dh,e[0])}},Rm=class extends Sl{},Lm=class extends Sl{};var Jm=class extends Te{};var Mh=class extends Te{static from(...e){if(e.length===3){let[i,n,o]=e,r=new mn(i.type,n,null,null);return ve.new(ne.Dictionary(r,0,o.length,0,null,o,i))}return fn(()=>e[0].type,e[0])}constructor(e){super(e);this.indices=ve.new(e.clone(this.type.indices))}get dictionary(){return this.data.dictionary}reverseLookup(e){return this.dictionary.indexOf(e)}getKey(e){return this.indices.get(e)}getValue(e){return this.dictionary.get(e)}setKey(e,i){return this.indices.set(e,i)}setValue(e,i){return this.dictionary.set(e,i)}};Mh.prototype.indices=null;var Dm=class extends Te{};var Hm=class extends Te{};var is=class extends Te{static from(e){let i=ZE(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let n=OE(e.constructor)||i;if(i===null&&(i=n),i&&i===n){let o=new i,r=e.byteLength/o.ArrayType.BYTES_PER_ELEMENT;if(!VE(i,e.constructor))return ve.new(ne.Float(o,0,r,0,null,e))}}if(i)return fn(()=>new i,e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${e.constructor.name}`):new TypeError("Unrecognized FloatVector input")}},Ch=class extends is{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}},Th=class extends is{},Ph=class extends is{},VE=(a,e)=>a===Wt&&e!==Uint16Array,OE=a=>{switch(a){case Uint16Array:return Wt;case Float32Array:return Zr;case Float64Array:return Ur;default:return null}},ZE=a=>{switch(a){case Ch:return Wt;case Th:return Zr;case Ph:return Ur;default:return null}};var zl=class extends Te{},Gm=class extends zl{},Im=class extends zl{};var Gn=class extends Te{static from(...e){let[i,n=!1]=e,o=XE(this,n);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)){let r=YE(i.constructor,n)||o;if(o===null&&(o=r),o&&o===r){let t=new o,s=i.byteLength/t.ArrayType.BYTES_PER_ELEMENT;return UE(o,i.constructor)&&(s*=.5),ve.new(ne.Int(t,0,s,0,null,i))}}if(o)return fn(()=>new o,i);throw i instanceof DataView||i instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${i.constructor.name}`):new TypeError("Unrecognized IntVector input")}},jh=class extends Gn{},Rh=class extends Gn{},Lh=class extends Gn{},Jh=class extends Gn{toBigInt64Array(){return B9(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}},Dh=class extends Gn{},Hh=class extends Gn{},Gh=class extends Gn{},Ih=class extends Gn{toBigUint64Array(){return S9(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}},UE=(a,e)=>(a===Vn||a===On)&&(e===Int32Array||e===Uint32Array),YE=(a,e)=>{switch(a){case Int8Array:return Kr;case Int16Array:return Wr;case Int32Array:return e?Vn:Yi;case Wn:return Vn;case Uint8Array:return qr;case Uint16Array:return Vr;case Uint32Array:return e?On:Or;case Zo:return On;default:return null}},XE=(a,e)=>{switch(a){case jh:return Kr;case Rh:return Wr;case Lh:return e?Vn:Yi;case Jh:return Vn;case Dh:return qr;case Hh:return Vr;case Gh:return e?On:Or;case Ih:return On;default:return null}};var Em=class extends Te{};var Fm=class extends Te{asList(){let e=this.type.children[0];return ve.new(this.data.clone(new Un(e)))}bind(e){let i=this.getChildAt(0),{[e]:n,[e+1]:o}=this.valueOffsets;return new fh(i.slice(n,o))}};var Nm=class extends Te{};var QE=Symbol.for("rowIndex"),Mo=class extends Te{bind(e){let i=this._row||(this._row=new yh(this)),n=Object.create(i);return n[QE]=e,n}};var st=class extends Te{},xm=class extends st{},Km=class extends st{},Wm=class extends st{},qm=class extends st{};var lt=class extends Te{},Vm=class extends lt{},Om=class extends lt{},Zm=class extends lt{},Um=class extends lt{};var wl=class extends Te{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}},Ym=class extends wl{get valueOffsets(){return this.data.valueOffsets}},Xm=class extends wl{};var Qm=class extends Te{static from(e){return fn(()=>new Zn,e)}asBinary(){return ve.new(this.data.clone(new ir))}};function Ly(a){return function(){return a(this)}}function nC(a){return function(e){return a(this,e)}}function Jy(a){return function(e,i){return a(this,e,i)}}var Je=class extends Se{},$E=(a,e)=>864e5*a[e],Dy=(a,e)=>4294967296*a[e+1]+(a[e]>>>0),_E=(a,e)=>4294967296*(a[e+1]/1e3)+(a[e]>>>0)/1e3,eF=(a,e)=>4294967296*(a[e+1]/1e6)+(a[e]>>>0)/1e6,oC=a=>new Date(a),aF=(a,e)=>oC($E(a,e)),iF=(a,e)=>oC(Dy(a,e)),nF=(a,e)=>null,rC=(a,e,i)=>{let{[i]:n,[i+1]:o}=e;return n!=null&&o!=null?a.subarray(n,o):null},oF=({offset:a,values:e},i)=>{let n=a+i;return(e[n>>3]&1<<n%8)!=0},tC=({values:a},e)=>aF(a,e),sC=({values:a},e)=>iF(a,e*2),Co=({stride:a,values:e},i)=>e[a*i],lC=({stride:a,values:e},i)=>$9(e[a*i]),Hy=({stride:a,values:e,type:i},n)=>ur.new(e.subarray(a*n,a*(n+1)),i.isSigned),rF=({stride:a,values:e},i)=>e.subarray(a*i,a*(i+1)),tF=({values:a,valueOffsets:e},i)=>rC(a,e,i),sF=({values:a,valueOffsets:e},i)=>{let n=rC(a,e,i);return n!==null?th(n):null},lF=(a,e)=>a.type.bitWidth<64?Co(a,e):Hy(a,e),uF=(a,e)=>a.type.precision!==Pa.HALF?Co(a,e):lC(a,e),hF=(a,e)=>a.type.unit===ja.DAY?tC(a,e):sC(a,e),uC=({values:a},e)=>1e3*Dy(a,e*2),hC=({values:a},e)=>Dy(a,e*2),dC=({values:a},e)=>_E(a,e*2),cC=({values:a},e)=>eF(a,e*2),dF=(a,e)=>{switch(a.type.unit){case Ne.SECOND:return uC(a,e);case Ne.MILLISECOND:return hC(a,e);case Ne.MICROSECOND:return dC(a,e);case Ne.NANOSECOND:return cC(a,e)}},mC=({values:a,stride:e},i)=>a[e*i],gC=({values:a,stride:e},i)=>a[e*i],AC=({values:a},e)=>ur.signed(a.subarray(2*e,2*(e+1))),vC=({values:a},e)=>ur.signed(a.subarray(2*e,2*(e+1))),cF=(a,e)=>{switch(a.type.unit){case Ne.SECOND:return mC(a,e);case Ne.MILLISECOND:return gC(a,e);case Ne.MICROSECOND:return AC(a,e);case Ne.NANOSECOND:return vC(a,e)}},mF=({values:a},e)=>ur.decimal(a.subarray(4*e,4*(e+1))),gF=(a,e)=>{let i=a.getChildAt(0),{valueOffsets:n,stride:o}=a;return i.slice(n[e*o],n[e*o+1])},AF=(a,e)=>a.bind(e),vF=(a,e)=>a.bind(e),pF=(a,e)=>a.type.mode===Ta.Dense?pC(a,e):fC(a,e),pC=(a,e)=>{let i=a.typeIdToChildIndex[a.typeIds[e]],n=a.getChildAt(i);return n?n.get(a.valueOffsets[e]):null},fC=(a,e)=>{let i=a.typeIdToChildIndex[a.typeIds[e]],n=a.getChildAt(i);return n?n.get(e):null},fF=(a,e)=>a.getValue(a.getKey(e)),yF=(a,e)=>a.type.unit===ui.DAY_TIME?yC(a,e):kC(a,e),yC=({values:a},e)=>a.subarray(2*e,2*(e+1)),kC=({values:a},e)=>{let i=a[e],n=new Int32Array(2);return n[0]=i/12|0,n[1]=i%12|0,n},kF=(a,e)=>{let i=a.getChildAt(0),{stride:n}=a;return i.slice(e*n,(e+1)*n)};Je.prototype.visitNull=nF;Je.prototype.visitBool=oF;Je.prototype.visitInt=lF;Je.prototype.visitInt8=Co;Je.prototype.visitInt16=Co;Je.prototype.visitInt32=Co;Je.prototype.visitInt64=Hy;Je.prototype.visitUint8=Co;Je.prototype.visitUint16=Co;Je.prototype.visitUint32=Co;Je.prototype.visitUint64=Hy;Je.prototype.visitFloat=uF;Je.prototype.visitFloat16=lC;Je.prototype.visitFloat32=Co;Je.prototype.visitFloat64=Co;Je.prototype.visitUtf8=sF;Je.prototype.visitBinary=tF;Je.prototype.visitFixedSizeBinary=rF;Je.prototype.visitDate=hF;Je.prototype.visitDateDay=tC;Je.prototype.visitDateMillisecond=sC;Je.prototype.visitTimestamp=dF;Je.prototype.visitTimestampSecond=uC;Je.prototype.visitTimestampMillisecond=hC;Je.prototype.visitTimestampMicrosecond=dC;Je.prototype.visitTimestampNanosecond=cC;Je.prototype.visitTime=cF;Je.prototype.visitTimeSecond=mC;Je.prototype.visitTimeMillisecond=gC;Je.prototype.visitTimeMicrosecond=AC;Je.prototype.visitTimeNanosecond=vC;Je.prototype.visitDecimal=mF;Je.prototype.visitList=gF;Je.prototype.visitStruct=vF;Je.prototype.visitUnion=pF;Je.prototype.visitDenseUnion=pC;Je.prototype.visitSparseUnion=fC;Je.prototype.visitDictionary=fF;Je.prototype.visitInterval=yF;Je.prototype.visitIntervalDayTime=yC;Je.prototype.visitIntervalYearMonth=kC;Je.prototype.visitFixedSizeList=kF;Je.prototype.visitMap=AF;var Ml=new Je;var De=class extends Se{};function bF(a,e){return e===null&&a.length>0?0:-1}function BF(a,e){let{nullBitmap:i}=a.data;if(!i||a.nullCount<=0)return-1;let n=0;for(let o of new xr(i,a.data.offset+(e||0),a.length,i,j1)){if(!o)return n;++n}return-1}function Ve(a,e,i){if(e===void 0)return-1;if(e===null)return BF(a,i);let n=it(e);for(let o=(i||0)-1,r=a.length;++o<r;)if(n(a.get(o)))return o;return-1}function bC(a,e,i){let n=it(e);for(let o=(i||0)-1,r=a.length;++o<r;)if(n(a.get(o)))return o;return-1}De.prototype.visitNull=bF;De.prototype.visitBool=Ve;De.prototype.visitInt=Ve;De.prototype.visitInt8=Ve;De.prototype.visitInt16=Ve;De.prototype.visitInt32=Ve;De.prototype.visitInt64=Ve;De.prototype.visitUint8=Ve;De.prototype.visitUint16=Ve;De.prototype.visitUint32=Ve;De.prototype.visitUint64=Ve;De.prototype.visitFloat=Ve;De.prototype.visitFloat16=Ve;De.prototype.visitFloat32=Ve;De.prototype.visitFloat64=Ve;De.prototype.visitUtf8=Ve;De.prototype.visitBinary=Ve;De.prototype.visitFixedSizeBinary=Ve;De.prototype.visitDate=Ve;De.prototype.visitDateDay=Ve;De.prototype.visitDateMillisecond=Ve;De.prototype.visitTimestamp=Ve;De.prototype.visitTimestampSecond=Ve;De.prototype.visitTimestampMillisecond=Ve;De.prototype.visitTimestampMicrosecond=Ve;De.prototype.visitTimestampNanosecond=Ve;De.prototype.visitTime=Ve;De.prototype.visitTimeSecond=Ve;De.prototype.visitTimeMillisecond=Ve;De.prototype.visitTimeMicrosecond=Ve;De.prototype.visitTimeNanosecond=Ve;De.prototype.visitDecimal=Ve;De.prototype.visitList=Ve;De.prototype.visitStruct=Ve;De.prototype.visitUnion=Ve;De.prototype.visitDenseUnion=bC;De.prototype.visitSparseUnion=bC;De.prototype.visitDictionary=Ve;De.prototype.visitInterval=Ve;De.prototype.visitIntervalDayTime=Ve;De.prototype.visitIntervalYearMonth=Ve;De.prototype.visitFixedSizeList=Ve;De.prototype.visitMap=Ve;var Gy=new De;var He=class extends Se{};function SF(a){let e=Ml.getVisitFn(a);return new xr(a.data.nullBitmap,a.data.offset,a.length,a,(i,n,o,r)=>(o&1<<r)!=0?e(i,n):null)}var BC=class{constructor(e,i){this.vector=e;this.getFn=i;this.index=0}next(){return this.index<this.vector.length?{value:this.getFn(this.vector,this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};function xe(a){if(a.nullCount>0)return SF(a);let{type:e,typeId:i,length:n}=a;return a.stride===1&&(i===G.Timestamp||i===G.Int&&e.bitWidth!==64||i===G.Time&&e.bitWidth!==64||i===G.Float&&e.precision>0)?a.data.values.subarray(0,n)[Symbol.iterator]():new BC(a,Ml.getVisitFn(a))}He.prototype.visitNull=xe;He.prototype.visitBool=xe;He.prototype.visitInt=xe;He.prototype.visitInt8=xe;He.prototype.visitInt16=xe;He.prototype.visitInt32=xe;He.prototype.visitInt64=xe;He.prototype.visitUint8=xe;He.prototype.visitUint16=xe;He.prototype.visitUint32=xe;He.prototype.visitUint64=xe;He.prototype.visitFloat=xe;He.prototype.visitFloat16=xe;He.prototype.visitFloat32=xe;He.prototype.visitFloat64=xe;He.prototype.visitUtf8=xe;He.prototype.visitBinary=xe;He.prototype.visitFixedSizeBinary=xe;He.prototype.visitDate=xe;He.prototype.visitDateDay=xe;He.prototype.visitDateMillisecond=xe;He.prototype.visitTimestamp=xe;He.prototype.visitTimestampSecond=xe;He.prototype.visitTimestampMillisecond=xe;He.prototype.visitTimestampMicrosecond=xe;He.prototype.visitTimestampNanosecond=xe;He.prototype.visitTime=xe;He.prototype.visitTimeSecond=xe;He.prototype.visitTimeMillisecond=xe;He.prototype.visitTimeMicrosecond=xe;He.prototype.visitTimeNanosecond=xe;He.prototype.visitDecimal=xe;He.prototype.visitList=xe;He.prototype.visitStruct=xe;He.prototype.visitUnion=xe;He.prototype.visitDenseUnion=xe;He.prototype.visitSparseUnion=xe;He.prototype.visitDictionary=xe;He.prototype.visitInterval=xe;He.prototype.visitIntervalDayTime=xe;He.prototype.visitIntervalYearMonth=xe;He.prototype.visitFixedSizeList=xe;He.prototype.visitMap=xe;var Eh=new He;var Ge=class extends Se{};function Ke(a){let{type:e,length:i,stride:n}=a;switch(e.typeId){case G.Int:case G.Float:case G.Decimal:case G.Time:case G.Timestamp:return a.data.values.subarray(0,i*n)}return[...Eh.visit(a)]}Ge.prototype.visitNull=Ke;Ge.prototype.visitBool=Ke;Ge.prototype.visitInt=Ke;Ge.prototype.visitInt8=Ke;Ge.prototype.visitInt16=Ke;Ge.prototype.visitInt32=Ke;Ge.prototype.visitInt64=Ke;Ge.prototype.visitUint8=Ke;Ge.prototype.visitUint16=Ke;Ge.prototype.visitUint32=Ke;Ge.prototype.visitUint64=Ke;Ge.prototype.visitFloat=Ke;Ge.prototype.visitFloat16=Ke;Ge.prototype.visitFloat32=Ke;Ge.prototype.visitFloat64=Ke;Ge.prototype.visitUtf8=Ke;Ge.prototype.visitBinary=Ke;Ge.prototype.visitFixedSizeBinary=Ke;Ge.prototype.visitDate=Ke;Ge.prototype.visitDateDay=Ke;Ge.prototype.visitDateMillisecond=Ke;Ge.prototype.visitTimestamp=Ke;Ge.prototype.visitTimestampSecond=Ke;Ge.prototype.visitTimestampMillisecond=Ke;Ge.prototype.visitTimestampMicrosecond=Ke;Ge.prototype.visitTimestampNanosecond=Ke;Ge.prototype.visitTime=Ke;Ge.prototype.visitTimeSecond=Ke;Ge.prototype.visitTimeMillisecond=Ke;Ge.prototype.visitTimeMicrosecond=Ke;Ge.prototype.visitTimeNanosecond=Ke;Ge.prototype.visitDecimal=Ke;Ge.prototype.visitList=Ke;Ge.prototype.visitStruct=Ke;Ge.prototype.visitUnion=Ke;Ge.prototype.visitDenseUnion=Ke;Ge.prototype.visitSparseUnion=Ke;Ge.prototype.visitDictionary=Ke;Ge.prototype.visitInterval=Ke;Ge.prototype.visitIntervalDayTime=Ke;Ge.prototype.visitIntervalYearMonth=Ke;Ge.prototype.visitFixedSizeList=Ke;Ge.prototype.visitMap=Ke;var Iy=new Ge;var Fh=(a,e)=>a+e,Ey=a=>`Cannot compute the byte width of variable-width column ${a}`,SC=class extends Se{visitNull(e){return 0}visitInt(e){return e.bitWidth/8}visitFloat(e){return e.ArrayType.BYTES_PER_ELEMENT}visitBinary(e){throw new Error(Ey(e))}visitUtf8(e){throw new Error(Ey(e))}visitBool(e){return 1/8}visitDecimal(e){return 16}visitDate(e){return(e.unit+1)*4}visitTime(e){return e.bitWidth/8}visitTimestamp(e){return e.unit===Ne.SECOND?4:8}visitInterval(e){return(e.unit+1)*4}visitList(e){throw new Error(Ey(e))}visitStruct(e){return this.visitFields(e.children).reduce(Fh,0)}visitUnion(e){return this.visitFields(e.children).reduce(Fh,0)}visitFixedSizeBinary(e){return e.byteWidth}visitFixedSizeList(e){return e.listSize*this.visitFields(e.children).reduce(Fh,0)}visitMap(e){return this.visitFields(e.children).reduce(Fh,0)}visitDictionary(e){return this.visit(e.indices)}visitFields(e){return(e||[]).map(i=>this.visit(i.type))}visitSchema(e){return this.visitFields(e.fields).reduce(Fh,0)}},Fy=new SC;var zC=class extends Se{visitNull(){return Nm}visitBool(){return jm}visitInt(){return Gn}visitInt8(){return jh}visitInt16(){return Rh}visitInt32(){return Lh}visitInt64(){return Jh}visitUint8(){return Dh}visitUint16(){return Hh}visitUint32(){return Gh}visitUint64(){return Ih}visitFloat(){return is}visitFloat16(){return Ch}visitFloat32(){return Th}visitFloat64(){return Ph}visitUtf8(){return Qm}visitBinary(){return Pm}visitFixedSizeBinary(){return Dm}visitDate(){return Sl}visitDateDay(){return Rm}visitDateMillisecond(){return Lm}visitTimestamp(){return st}visitTimestampSecond(){return xm}visitTimestampMillisecond(){return Km}visitTimestampMicrosecond(){return Wm}visitTimestampNanosecond(){return qm}visitTime(){return lt}visitTimeSecond(){return Vm}visitTimeMillisecond(){return Om}visitTimeMicrosecond(){return Zm}visitTimeNanosecond(){return Um}visitDecimal(){return Jm}visitList(){return Em}visitStruct(){return Mo}visitUnion(){return wl}visitDenseUnion(){return Ym}visitSparseUnion(){return Xm}visitDictionary(){return Mh}visitInterval(){return zl}visitIntervalDayTime(){return Gm}visitIntervalYearMonth(){return Im}visitFixedSizeList(){return Hm}visitMap(){return Fm}},Ny=new zC;ve.new=zF;ve.from=wF;function zF(a,...e){return new(Ny.getVisitFn(a)())(a,...e)}function fn(a,e){if(qa(e))return ve.from({nullValues:[null,void 0],type:a(),values:e});if(zi(e))return ve.from({nullValues:[null,void 0],type:a(),values:e});let{values:i=[],type:n=a(),nullValues:o=[null,void 0]}={...e};return qa(i)?ve.from({nullValues:o,...e,type:n}):ve.from({nullValues:o,...e,type:n})}function wF(a){let{values:e=[],...i}={nullValues:[null,void 0],...a};if(qa(e)){let n=[...Ye.throughIterable(i)(e)];return n.length===1?n[0]:Aa.concat(n)}return(async n=>{let o=Ye.throughAsyncIterable(i);for await(let r of o(e))n.push(r);return n.length===1?n[0]:Aa.concat(n)})([])}Te.prototype.get=function(e){return Ml.visit(this,e)};Te.prototype.set=function(e,i){return pl.visit(this,e,i)};Te.prototype.indexOf=function(e,i){return Gy.visit(this,e,i)};Te.prototype.toArray=function(){return Iy.visit(this)};Te.prototype.getByteWidth=function(){return Fy.visit(this.type)};Te.prototype[Symbol.iterator]=function(){return Eh.visit(this)};Te.prototype._bindDataAccessors=PF;Object.keys(G).map(a=>G[a]).filter(a=>typeof a=="number").filter(a=>a!==G.NONE).forEach(a=>{let e=Ny.visit(a);e.prototype.get=nC(Ml.getVisitFn(a)),e.prototype.set=Jy(pl.getVisitFn(a)),e.prototype.indexOf=Jy(Gy.getVisitFn(a)),e.prototype.toArray=Ly(Iy.getVisitFn(a)),e.prototype.getByteWidth=MF(Fy.getVisitFn(a)),e.prototype[Symbol.iterator]=Ly(Eh.getVisitFn(a))});function MF(a){return function(){return a(this.type)}}function CF(a){return function(e){return this.isValid(e)?a.call(this,e):null}}function TF(a){return function(e,i){j9(this.nullBitmap,this.offset+e,i!=null)&&a.call(this,e,i)}}function PF(){let a=this.nullBitmap;a&&a.byteLength>0&&(this.get=CF(this.get),this.set=TF(this.set))}var ua=class extends Aa{static empty(e=new $e([])){return new ua(e,[])}static from(e){if(!e)return ua.empty();if(typeof e=="object"){let n=qa(e.values)?jF(e):zi(e.values)?RF(e):null;if(n!==null)return n}let i=Oa.from(e);return rn(i)?(async()=>await ua.from(await i))():i.isSync()&&(i=i.open())?i.schema?new ua(i.schema,[...i]):ua.empty():(async n=>{let o=await n,r=o.schema,t=[];if(r){for await(let s of o)t.push(s);return new ua(r,t)}return ua.empty()})(i.open())}static async fromAsync(e){return await ua.from(e)}static fromStruct(e){return ua.new(e.data.childData,e.type.children)}static new(...e){return new ua(...iC(PM(e)))}constructor(...e){let i=null;e[0]instanceof $e&&(i=e[0]);let n=e[0]instanceof ua?e[0].chunks:TM(Na,e);if(!i&&!(i=n[0]?.schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");n[0]||(n[0]=new tt(i));super(new mi(i.fields),n);this._schema=i,this._chunks=n}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(e=this._chunks){return new ua(this._schema,e)}getColumn(e){return this.getColumnAt(this.getColumnIndex(e))}getColumnAt(e){return this.getChildAt(e)}getColumnIndex(e){return this._schema.fields.findIndex(i=>i.name===e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let i,n,o=this._schema.fields,r=this._children||(this._children=[]);if(n=r[e])return n;if(i=o[e]){let t=this._chunks.map(s=>s.getChildAt(e)).filter(s=>s!=null);if(t.length>0)return r[e]=new Ti(i,t)}return null}serialize(e="binary",i=!0){return(i?ot:rt).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...e){let i=this._schema.fields.reduce((n,o,r)=>n.set(o.name,r),new Map);return this.selectAt(...e.map(n=>i.get(n)).filter(n=>n>-1))}selectAt(...e){let i=this._schema.selectAt(...e);return new ua(i,this._chunks.map(({length:n,data:{childData:o}})=>new Na(i,n,e.map(r=>o[r]).filter(Boolean))))}assign(e){let i=this._schema.fields,[n,o]=e.schema.fields.reduce((s,h,d)=>{let[f,b]=s,S=i.findIndex(T=>T.name===h.name);return~S?b[S]=d:f.push(d),s},[[],[]]),r=this._schema.assign(e.schema),t=[...i.map((s,h,d,f=o[h])=>f===void 0?this.getColumnAt(h):e.getColumnAt(f)),...n.map(s=>e.getColumnAt(s))].filter(Boolean);return new ua(...Ry(r,t))}};function jF(a){let{type:e}=a;return e instanceof mi?ua.fromStruct(Mo.from(a)):null}function RF(a){let{type:e}=a;return e instanceof mi?Mo.from(a).then(i=>ua.fromStruct(i)):null}var Na=class extends Mo{static from(e){return qa(e.values)?ua.from(e):ua.from(e)}static new(...e){let[i,n]=jM(e),o=n.filter(r=>r instanceof ve);return new Na(...aC(new $e(i),o.map(r=>r.data)))}constructor(...e){let i,n=e[0],o;if(e[1]instanceof ne)[,i,o]=e;else{let r=n.fields,[,t,s]=e;i=ne.Struct(new mi(r),0,t,0,null,s)}super(i,o);this._schema=n}clone(e,i=this._children){return new Na(this._schema,e,i)}concat(...e){let i=this._schema,n=Aa.flatten(this,...e);return new ua(i,n.map(({data:o})=>new Na(i,o)))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=$m.collect(this))}select(...e){let i=this._schema.fields.reduce((n,o,r)=>n.set(o.name,r),new Map);return this.selectAt(...e.map(n=>i.get(n)).filter(n=>n>-1))}selectAt(...e){let i=this._schema.selectAt(...e),n=e.map(o=>this.data.childData[o]).filter(Boolean);return new Na(i,this.length,n)}},tt=class extends Na{constructor(e){super(e,0,e.fields.map(i=>ne.new(i.type,0,0,0)))}},$m=class extends Se{constructor(){super(...arguments);this.dictionaries=new Map}static collect(e){return new $m().visit(e.data,new mi(e.schema.fields)).dictionaries}visit(e,i){return Ce.isDictionary(i)?this.visitDictionary(e,i):(e.childData.forEach((n,o)=>this.visit(n,i.children[o].type)),this)}visitDictionary(e,i){let n=e.dictionary;return n&&n.length>0&&this.dictionaries.set(i.id,n),this}};var Oa=class extends Kn{constructor(e){super();this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let i=this._impl.open(e);return rn(i)?i.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return li.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return li.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,i){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Oa?e:k1(e)?LF(e):B1(e)?HF(e):rn(e)?(async()=>await Oa.from(await e))():S1(e)||sh(e)||z1(e)||zi(e)?DF(new gn(e)):JF(new dr(e))}static readAll(e){return e instanceof Oa?e.isSync()?TC(e):PC(e):k1(e)||ArrayBuffer.isView(e)||qa(e)||b1(e)?TC(e):PC(e)}},gr=class extends Oa{constructor(e){super(e);this._impl=e}[Symbol.iterator](){return this._impl[Symbol.iterator]()}async*[Symbol.asyncIterator](){yield*this[Symbol.iterator]()}},ns=class extends Oa{constructor(e){super(e);this._impl=e}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}},os=class extends gr{constructor(e){super(e);this._impl=e}},_m=class extends ns{constructor(e){super(e);this._impl=e}},xy=class{constructor(e=new Map){this.closed=!1;this.autoDestroy=!0;this._dictionaryIndex=0;this._recordBatchIndex=0;this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,i){return new Na(this.schema,e.length,this._loadVectors(e,i,this.schema.fields))}_loadDictionaryBatch(e,i){let{id:n,isDelta:o,data:r}=e,{dictionaries:t,schema:s}=this,h=t.get(n);if(o||!h){let d=s.dictionaries.get(n);return h&&o?h.concat(ve.new(this._loadVectors(r,i,[d])[0])):ve.new(this._loadVectors(r,i,[d])[0])}return h}_loadVectors(e,i,n){return new ym(i,e.nodes,e.buffers,this.dictionaries).visitMany(n)}},Nh=class extends xy{constructor(e,i){super(i);this._reader=k1(e)?new wm(this._handle=e):new bh(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=CC(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):fa}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):fa}next(){if(this.closed)return fa;let e,{_reader:i}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),o=i.readMessageBody(e.bodyLength),r=this._loadRecordBatch(n,o);return{done:!1,value:r}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),o=i.readMessageBody(e.bodyLength),r=this._loadDictionaryBatch(n,o);this.dictionaries.set(n.id,r)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new tt(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},xh=class extends xy{constructor(e,i){super(i);this._reader=new zm(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}async cancel(){!this.closed&&(this.closed=!0)&&(await this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}async open(e){return this.closed||(this.autoDestroy=CC(this,e),this.schema||(this.schema=await this._reader.readSchema())||await this.cancel()),this}async throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.throw(e):fa}async return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.return(e):fa}async next(){if(this.closed)return fa;let e,{_reader:i}=this;for(;e=await this._readNextMessageAndValidate();)if(e.isSchema())await this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),o=await i.readMessageBody(e.bodyLength),r=this._loadRecordBatch(n,o);return{done:!1,value:r}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),o=await i.readMessageBody(e.bodyLength),r=this._loadDictionaryBatch(n,o);this.dictionaries.set(n.id,r)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new tt(this.schema)}):await this.return()}async _readNextMessageAndValidate(e){return await this._reader.readMessage(e)}},Ky=class extends Nh{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,i){super(e instanceof pm?e:new pm(e),i)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let i of this._footer.dictionaryBatches())i&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){if(this.closed)return null;this._footer||this.open();let i=this._footer&&this._footer.getRecordBatch(e);if(i&&this._handle.seek(i.offset)){let n=this._reader.readMessage(Ue.RecordBatch);if(n?.isRecordBatch()){let o=n.header(),r=this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(o,r)}}return null}_readDictionaryBatch(e){let i=this._footer&&this._footer.getDictionaryBatch(e);if(i&&this._handle.seek(i.offset)){let n=this._reader.readMessage(Ue.DictionaryBatch);if(n?.isDictionaryBatch()){let o=n.header(),r=this._reader.readMessageBody(n.bodyLength),t=this._loadDictionaryBatch(o,r);this.dictionaries.set(o.id,t)}}}_readFooter(){let{_handle:e}=this,i=e.size-By,n=e.readInt32(i),o=e.readAt(i-n,n);return et.decode(o)}_readNextMessageAndValidate(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let i=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(e)}return null}},wC=class extends xh{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...i){let n=typeof i[0]!="number"?i.shift():void 0,o=i[0]instanceof Map?i.shift():void 0;super(e instanceof $t?e:new $t(e,n),o)}isFile(){return!0}isAsync(){return!0}async open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=await this._readFooter()).schema;for(let i of this._footer.dictionaryBatches())i&&await this._readDictionaryBatch(this._dictionaryIndex++)}return await super.open(e)}async readRecordBatch(e){if(this.closed)return null;this._footer||await this.open();let i=this._footer&&this._footer.getRecordBatch(e);if(i&&await this._handle.seek(i.offset)){let n=await this._reader.readMessage(Ue.RecordBatch);if(n?.isRecordBatch()){let o=n.header(),r=await this._reader.readMessageBody(n.bodyLength);return this._loadRecordBatch(o,r)}}return null}async _readDictionaryBatch(e){let i=this._footer&&this._footer.getDictionaryBatch(e);if(i&&await this._handle.seek(i.offset)){let n=await this._reader.readMessage(Ue.DictionaryBatch);if(n?.isDictionaryBatch()){let o=n.header(),r=await this._reader.readMessageBody(n.bodyLength),t=this._loadDictionaryBatch(o,r);this.dictionaries.set(o.id,t)}}}async _readFooter(){let{_handle:e}=this;e._pending&&await e._pending;let i=e.size-By,n=await e.readInt32(i),o=await e.readAt(i-n,n);return et.decode(o)}async _readNextMessageAndValidate(e){if(this._footer||await this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let i=this._footer.getRecordBatch(this._recordBatchIndex);if(i&&await this._handle.seek(i.offset))return await this._reader.readMessage(e)}return null}},MC=class extends Nh{constructor(e,i){super(e,i)}_loadVectors(e,i,n){return new uy(i,e.nodes,e.buffers,this.dictionaries).visitMany(n)}};function CC(a,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:a.autoDestroy}function*TC(a){let e=Oa.from(a);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}async function*PC(a){let e=await Oa.from(a);try{if(!(await e.open({autoDestroy:!1})).closed)do yield e;while(!(await e.reset().open()).closed)}finally{await e.cancel()}}function LF(a){return new gr(new MC(a))}function JF(a){let e=a.peek(bl+7&~7);return e&&e.byteLength>=4?Cm(e)?new os(new Ky(a.read())):new gr(new Nh(a)):new gr(new Nh(function*(){}()))}async function DF(a){let e=await a.peek(bl+7&~7);return e&&e.byteLength>=4?Cm(e)?new os(new Ky(await a.read())):new ns(new xh(a)):new ns(new xh(async function*(){}()))}async function HF(a){let{size:e}=await a.stat(),i=new $t(a,e);return e>=XM&&Cm(await i.readAt(0,bl+7&~7))?new _m(new wC(i)):new ns(new xh(i))}function jC(a,e){if(zi(a))return IF(a,e);if(qa(a))return GF(a,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}function GF(a,e){let i=null,n=e?.type==="bytes"||!1,o=e?.highWaterMark||2**24;return new ReadableStream({...e,start(t){r(t,i||(i=a[Symbol.iterator]()))},pull(t){i?r(t,i):t.close()},cancel(){(i?.return&&i.return()||!0)&&(i=null)}},{highWaterMark:n?o:void 0,...e});function r(t,s){let h,d=null,f=t.desiredSize||null;for(;!(d=s.next(n?f:null)).done;)if(ArrayBuffer.isView(d.value)&&(h=Re(d.value))&&(f!=null&&n&&(f=f-h.byteLength+1),d.value=h),t.enqueue(d.value),f!=null&&--f<=0)return;t.close()}}function IF(a,e){let i=null,n=e?.type==="bytes"||!1,o=e?.highWaterMark||2**24;return new ReadableStream({...e,async start(t){await r(t,i||(i=a[Symbol.asyncIterator]()))},async pull(t){i?await r(t,i):t.close()},async cancel(){(i?.return&&await i.return()||!0)&&(i=null)}},{highWaterMark:n?o:void 0,...e});async function r(t,s){let h,d=null,f=t.desiredSize||null;for(;!(d=await s.next(n?f:null)).done;)if(ArrayBuffer.isView(d.value)&&(h=Re(d.value))&&(f!=null&&n&&(f=f-h.byteLength+1),d.value=h),t.enqueue(d.value),f!=null&&--f<=0)return;t.close()}}function RC(a){return new LC(a)}var LC=class{constructor(e){this._numChunks=0;this._finished=!1;this._bufferedSize=0;let{["readableStrategy"]:i,["writableStrategy"]:n,["queueingStrategy"]:o="count",...r}=e;this._controller=null,this._builder=Ye.new(r),this._getSize=o!=="bytes"?JC:DC;let{["highWaterMark"]:t=o==="bytes"?2**14:1e3}={...i},{["highWaterMark"]:s=o==="bytes"?2**14:1e3}={...n};this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:h=>{this._maybeFlush(this._builder,this._controller=h)},start:h=>{this._maybeFlush(this._builder,this._controller=h)}},{highWaterMark:t,size:o!=="bytes"?JC:DC}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:s,size:h=>this._writeValueAndReturnChunkSize(h)})}_writeValueAndReturnChunkSize(e){let i=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-i}_maybeFlush(e,i){i!==null&&(this._bufferedSize>=i.desiredSize&&++this._numChunks&&this._enqueue(i,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(i,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(i,null)))}_enqueue(e,i){this._bufferedSize=0,this._controller=null,i===null?e.close():e.enqueue(i)}},JC=a=>a.length,DC=a=>a.byteLength;function eg(a,e){let i=new hr,n=null,o=new ReadableStream({async cancel(){await i.close()},async start(s){await t(s,n||(n=await r()))},async pull(s){n?await t(s,n):s.close()}});return{writable:new WritableStream(i,{highWaterMark:2**14,...a}),readable:o};async function r(){return await(await Oa.from(i)).open(e)}async function t(s,h){let d=s.desiredSize,f=null;for(;!(f=await h.next()).done;)if(s.enqueue(f.value),d!=null&&--d<=0)return;s.close()}}function ag(a,e){let i=new this(a),n=new gn(i),o=new ReadableStream({type:"bytes",async cancel(){await n.cancel()},async pull(t){await r(t)},async start(t){await r(t)}},{highWaterMark:2**14,...e});return{writable:new WritableStream(i,a),readable:o};async function r(t){let s=null,h=t.desiredSize;for(;s=await n.read(h||null);)if(t.enqueue(s),h!=null&&(h-=s.byteLength)<=0)return;t.close()}}var EF={...ay,...ly,...R9,..._9,...T9,...cy,compareSchemas:wh,compareFields:QM,compareTypes:$M};li.toDOMStream=jC;Ye.throughDOM=RC;Oa.throughDOM=eg;os.throughDOM=eg;gr.throughDOM=eg;Bl.throughDOM=ag;rt.throughDOM=ag;ot.throughDOM=ag;var rs=us(It());var FF={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126},HC=FF;var GC=()=>{let a=-1,e=null,i=1,n=HC.FLOAT,o=!1,r=0,t=0,s=null,h=d=>{let f=d.context();e==null&&(e=f.createBuffer()),f.bindBuffer(f.ARRAY_BUFFER,e),f.vertexAttribPointer(a,i,n,o,r,t),f.enableVertexAttribArray(a),d.extInstancedArrays().vertexAttribDivisorANGLE(a,s??(d.subInstanceCount()>0?1:0))};return h.location=(...d)=>d.length?(a=d[0],h):a,h.buffer=(...d)=>d.length?(e=d[0],h):e,h.size=(...d)=>d.length?(i=d[0],h):i,h.type=(...d)=>d.length?(n=d[0],h):n,h.normalized=(...d)=>d.length?(o=d[0],h):o,h.stride=(...d)=>d.length?(r=d[0],h):r,h.offset=(...d)=>d.length?(t=d[0],h):t,h.divisor=(...d)=>d.length?(s=d[0],h):s,h};var Wy=(a,e,i)=>{let n=e[i];if(typeof n!="function")throw new Error(`Attempt to rebind ${i} which isn't a function on the source object`);return(...o)=>{var r=n.apply(e,o);return r===e?a:r}};var qy=(a,e,...i)=>{for(let n of i)a[n]=Wy(a,e,n);return a};var Vy=a=>{let e=GC().divisor(1),i=a,n=!0,o=r=>{if(e(r),!n)return;if(!Array.isArray(i))throw new Error(`Expected an array, received: ${i}`);if(i.length!==e.size())throw new Error(`Expected array of length: ${e.size()}, recieved array of length: ${i.length}`);let t=r.context();t[`vertexAttrib${i.length}fv`](e.location(),i),t.disableVertexAttribArray(e.location()),n=!1};return o.clear=()=>{n=!0},o.value=(...r)=>r.length?(i=r[0],n=!0,o):i,qy(o,e,"normalized","size","location"),o};var Oy=a=>{let e=[],i=[],n=()=>a(e.join(`
`),i.join(`
`));function o(s,h){s.push(h)}function r(s,h,d){let f=s.indexOf(d);s.splice(f>=0?f:s.length,0,h)}function t(s,h){s.indexOf(h)===-1&&s.push(h)}return n.appendHeader=s=>(o(e,s),n),n.insertHeader=(s,h)=>(r(e,s,h),n),n.appendHeaderIfNotExists=s=>(t(e,s),n),n.appendBody=s=>(o(i,s),n),n.insertBody=(s,h)=>(r(i,s,h),n),n.appendBodyIfNotExists=s=>(t(i,s),n),n},IC=(a,e)=>`
precision mediump float;
float inf = 1.0 / 0.0;
${a}
void main() {
    ${e}
}`,EC=(a,e)=>`
precision mediump float;
${a}
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    ${e}
}`;var Zy={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 2.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`};var Uy={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float distance = length(2.0 * gl_PointCoord - 1.0);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`};var FC=()=>{let a=Oy(IC),e=Oy(EC);return a.appendHeader(Zy.header).appendBody(Zy.body),e.appendHeader(Uy.header).appendBody(Uy.body),{vertex:()=>a,fragment:()=>e}};var Yy=()=>{let a=Vy(),e=Vy(),i=(0,rs.webglSeriesPoint)().sizeAttribute(a).definedAttribute(e),n=jt(),o=jt(),r=(s,h,d)=>{},t=s=>{a.value([Math.pow(window.devicePixelRatio??1,2)]),e.value([!0]);let h=(0,rs.webglScaleMapper)(n).webglScale,d=(0,rs.webglScaleMapper)(o).webglScale;i.xScale(h).yScale(d).type(FC()).decorate(f=>{r(f,s,0)}),i(s.length)};return t.xScale=(...s)=>s.length?(n=s[0],t):n,t.yScale=(...s)=>s.length?(o=s[0],t):o,t.decorate=(...s)=>s.length?(r=s[0],t):r,(0,rs.rebind)(t,i,"context","pixelRatio","type","mainValueAttribute","crossValueAttribute"),t};var ig=us(It()),Cl=()=>{let a=(0,ig.webglBaseAttribute)(),e=[],i=null,n=0,o=r=>{a(r);let t=r.context();t.bindBuffer(t.ARRAY_BUFFER,a.buffer()),i==null&&(t.bufferData(t.ARRAY_BUFFER,n,t.DYNAMIC_DRAW),i=[]);let s=0,h=!1;for(let d=0;d<e.length;d++)(i[d]==null||e[d].byteLength!==i[d].byteLength)&&(h=!0),(h||e[d]!==i[d])&&t.bufferSubData(t.ARRAY_BUFFER,s,e[d]),s+=e[d].byteLength;i=e.slice(0)};return o.clear=()=>{a.buffer(null),i=null},o.maxByteLength=(...r)=>r.length?(n=r[0],i=null,o):n,o.data=(...r)=>r.length?(e=r[0],o):e,(0,ig.rebind)(o,a,"type","size","normalized","location","divisor","stride","offset"),o};var og=us(It());var ng=()=>{let a=null,e=null,i=!1,n=!0,o=null,r=null,t=s=>{let h=s.context();if(o==null&&(o=h.createTexture()),n){h.bindTexture(h.TEXTURE_2D,o),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,i?h.CLAMP_TO_EDGE:h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,i?h.CLAMP_TO_EDGE:h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR);let d=0,f=e.length/4,b=1,S=0;h.texImage2D(h.TEXTURE_2D,d,h.RGBA,f,b,S,h.RGBA,h.UNSIGNED_BYTE,e)}return a!=null&&(h.activeTexture(h.TEXTURE0+r),h.bindTexture(h.TEXTURE_2D,o),h.uniform1i(a,r)),n=!1,o};return t.clear=()=>{n=!0,o=null},t.location=(...s)=>s.length?(a=s[0],t):a,t.data=(...s)=>s.length?(e!==s[0]&&(e=s[0],n=!0),t):e,t.clamp=(...s)=>s.length?(i!==s[0]&&(i=s[0],n=!0),t):i,t.unit=(...s)=>s.length?(r=s[0],t):r,t};var Xy=()=>{let a=(0,og.webglUniform)(),e=ng(),i=null,n=[0,1],o=h=>fi("red"),r=256,t=!0,s=h=>{if(a.data(n),t){let f=new Uint8Array(r*4),b=(n[1]-n[0])/(r-1);for(let S=0;S<r;S++){let{r:T,g:j,b:J,opacity:C}=o(n[0]+S*b).rgb();f[S*4]=T,f[S*4+1]=j,f[S*4+2]=J,f[S*4+3]=C*255}e.data(f),t=!1}h.vertexShader().appendHeader("uniform vec2 uFillColorRange;").appendHeader("uniform sampler2D uFillColorTexture;").appendHeader("attribute float aFillColorValue;").appendHeader("varying vec4 vFillColor;").appendBody(`
            float fillColorIndex = (aFillColorValue - uFillColorRange[0]) / (uFillColorRange[1] - uFillColorRange[0]);
            vFillColor = texture2D(uFillColorTexture, vec2(fillColorIndex, 0.5));
        `),h.fragmentShader().appendHeader("varying vec4 vFillColor;").appendBody("gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"),h.buffers().uniform("uFillColorRange",a).uniform("uFillColorTexture",e).attribute("aFillColorValue",i)};return s.attribute=(...h)=>h.length?(i=h[0],s):i,s.range=(...h)=>h.length?(n!==h[0]&&(n=h[0],t=!0),s):n,s.value=(...h)=>h.length?(o!==h[0]&&(o=h[0],t=!0),s):o,s.resolution=(...h)=>h.length?(r!==h[0]&&(r=h[0],t=!0),s):r,(0,og.rebind)(s,e,"clamp","unit"),s};var ut=us(It());var NC={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};var rg=(a,e,i,n,...o)=>{a[e]=(...r)=>{let t=i[n](...o,...r);return t===i?a:t}};var xF=()=>`
precision mediump float;

uniform vec2 uPoint;
uniform float uMaxDistance;
attribute float aCrossValue;
attribute float aMainValue;
attribute vec4 aIndex;
varying vec4 vFragColor;

void main() {
    // distance calculated and converted to [0, 1]
    float distance = min(distance(uPoint, vec2(aCrossValue, aMainValue)), uMaxDistance) / uMaxDistance;
    
    gl_Position = vec4(0.5, 0.5, distance, 1.0);

    gl_PointSize = 1.0;

    vFragColor = vec4(aIndex[0], aIndex[1], aIndex[2], distance);
}
`,KF=()=>`
precision mediump float;

varying vec4 vFragColor;

void main() {
    gl_FragColor = vFragColor;
}
`;function xC(){let a=1,e=oo("read"),i=ng().data(new Uint8Array(a*4)),n=(0,ut.webglUniform)(),o=(0,ut.webglUniform)(),r=(0,ut.webglProgramBuilder)().fragmentShader(KF).vertexShader(xF).mode(NC.POINTS);r.buffers().uniform("uPoint",n).uniform("uMaxDistance",o);let t=null,s=null,h=null,d=null,f=1,b=null,S=!1,T=function(j){if(j.length<1)return;let J=r.context();J!==t&&(s=J.createFramebuffer(),h=J.createRenderbuffer(),J.bindRenderbuffer(J.RENDERBUFFER,h),J.renderbufferStorage(J.RENDERBUFFER,J.DEPTH_COMPONENT16,a,a),t=J),o.data([f]),n.data([b?.x,b?.y]);{J.viewport(0,0,a,a),i.location(null);let C=i(r);J.bindFramebuffer(J.FRAMEBUFFER,s);let H=0;J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,C,H),J.bindRenderbuffer(J.RENDERBUFFER,h),J.framebufferRenderbuffer(J.FRAMEBUFFER,J.DEPTH_ATTACHMENT,J.RENDERBUFFER,h),J.clear(J.DEPTH_BUFFER_BIT),J.enable(J.DEPTH_TEST),J.depthFunc(J.LESS)}if(r(j.length),S){let C=new Uint8Array(4);J.readPixels(0,0,a,a,J.RGBA,J.UNSIGNED_BYTE,C);let H=C[2]<<16|C[1]<<8|C[0],x=C[3]/256*f;e.call("read",T,{index:H,distance:x})}J.disable(J.DEPTH_TEST),J.viewport(0,0,J.canvas.width,J.canvas.height),J.bindFramebuffer(J.FRAMEBUFFER,null),J.bindRenderbuffer(J.RENDERBUFFER,null)};return T.texture=()=>i,T.xScale=(...j)=>{let J;return j.length?(J=j[0],T):J},T.yScale=(...j)=>{let J;return j.length?(J=j[0],T):J},T.maxDistance=(...j)=>j.length?(f=j[0],T):f,T.point=(...j)=>j.length?(b=j[0],T):b,T.read=(...j)=>j.length?(S=j[0],T):S,T.unit=(...j)=>j.length?(d=j[0],T):d,(0,ut.rebind)(T,e,"on"),(0,ut.rebind)(T,r,"context","pixelRatio"),rg(T,"mainValueAttribute",r.buffers(),"attribute","aMainValue"),rg(T,"crossValueAttribute",r.buffers(),"attribute","aCrossValue"),rg(T,"indexValueAttribute",r.buffers(),"attribute","aIndex"),T}var KC="/d3fc-webgl-hathi-explorer/bundle/data-AYYLWMMN.arrows";var tg=location.hash.indexOf("lofi")>-1,qF=location.hash.indexOf("ctl")>-1,Kh=4e6,Wh=(a,e)=>{let i=a.getColumnIndex(e);return a.chunks.filter(n=>n.length>0).map(n=>n.data.childData[i].values)},vi={pointers:[],annotations:[],table:ua.empty()},VF=0,WC=1,qC=Cl().maxByteLength(Kh).type(ji.webglTypes.UNSIGNED_SHORT).stride(4),OF=Xy().attribute(qC).range([0,Eu.length-1]).value(a=>fi(Eu[Math.round(a)])).clamp(!1).unit(WC),VC=Cl().maxByteLength(Kh).type(ji.webglTypes.UNSIGNED_SHORT).stride(4),OC=Ns().domain([1850,2e3]).interpolator(Mc),ZC=Xy().attribute(VC).range(OC.domain()).value(a=>fi(OC(a))).clamp(!0).unit(WC),UC=ZC,ZF="text-gray-600 cursor-not-allowed",Qy="text-red-600";for(let a of document.querySelectorAll("button"))tg?(a.classList.remove(...Qy.split(" ")),a.classList.add(...ZF.split(" "))):a.addEventListener("click",()=>{for(let e of document.querySelectorAll("button"))e.classList.remove(...Qy.split(" "));a.classList.add(...Qy.split(" ")),UC=a.id==="language"?OF:ZC,Tl()});var $y=go().domain([-50,50]),_y=go().domain([-50,50]),ek=Cl().maxByteLength(Kh).type(ji.webglTypes.UNSIGNED_BYTE).size(4).normalized(!0),sg=Cl().maxByteLength(Kh),lg=Cl().maxByteLength(Kh),ak=Yy().crossValueAttribute(sg).mainValueAttribute(lg);tg||ak.decorate(a=>{let e=a.context();e.disable(e.BLEND),UC(a)});var ts=xC().crossValueAttribute(sg).mainValueAttribute(lg).indexValueAttribute(ek).unit(VF).on("read",({index:a})=>{let e=vi.pointers[0];ts.point(e);let i=ts.point();i?.x!==e?.x||i?.y!==e?.y||(vi.annotations=[XF(vi.table.get(a))],ts.read(!1))}),UF=ji.webglFillColor([.3,.3,.3,.6]),YF=Yy().crossValueAttribute(sg).mainValueAttribute(lg).decorate(a=>{let e=a.context();e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),a.vertexShader().appendHeader("uniform sampler2D uTexture;").appendHeader("attribute vec4 aIndex;").appendBody(`
          vec4 sample = texture2D(uTexture, vec2(0.5, 0.5));
          if (!all(equal(aIndex.xyz, sample.xyz))) {
            // could specify vDefined = 0.0; but this is quicker
            gl_PointSize = 0.0;
          }
      `),a.buffers().attribute("aSize").value([100]),a.buffers().uniform("uTexture",ts.texture()).attribute("aIndex",ek),UF(a)}),XF=a=>({ix:a.getValue(a.getIndex("ix")),note:{label:a.getValue(a.getIndex("first_author_name"))+" "+a.getValue(a.getIndex("date")),bgPadding:5,title:a.getValue(a.getIndex("title")).replace(/(.{100}).*/,"$1...")},data:{x:a.getValue(a.getIndex("x")),y:a.getValue(a.getIndex("y"))},dx:20,dy:20}),QF=Ww().notePadding(15).key(a=>a.ix),YC=null,$F=ji.pointer().on("point",a=>{vi.pointers=a.map(({x:i,y:n})=>({x:$y.invert(i),y:_y.invert(n)}));let e=vi.pointers[0];if(clearTimeout(YC),e==null){vi.annotations=[];return}ts.point(e),YC=setTimeout(()=>{ts.read(!0),Tl()},100),Tl()}),_F=ji.zoom().on("zoom",()=>{vi.annotations=[],Tl()}),eN=ji.chartCartesian($y,_y).webglPlotArea(ji.seriesWebglMulti().series(tg?[ak]:[ak,ts,YF]).mapping(a=>a.table)).svgPlotArea(ji.seriesSvgMulti().series([QF]).mapping(a=>a.annotations)).decorate(a=>{a.enter().selectAll(".plot-area").call(_F,$y,_y).call($F)});function Tl(){sg.data(Wh(vi.table,"x")),lg.data(Wh(vi.table,"y")),tg||(qC.data(Wh(vi.table,"language")),VC.data(Wh(vi.table,"date")),ek.data(Wh(vi.table,"ix"))),Ma("#chart").datum(vi).call(eN)}var XC=async()=>{document.querySelector("#loading>span").innerHTML="Loading...";let a=await fetch(KC),e=await Oa.from(a);await e.open(),vi.table=new ua(e.schema);for await(let i of e)vi.table=vi.table.concat(i),document.querySelector("#loading>span").innerHTML=new Intl.NumberFormat().format(vi.table.length)+" points loaded",Tl()};Tl();if(qF){let a=()=>{document.body.removeEventListener("click",a),XC()};document.body.addEventListener("click",a),document.querySelector("#loading>span").innerHTML="Click to load data"}else XC();})();
